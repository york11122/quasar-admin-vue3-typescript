import{bz as _e,g as ke,h as i,bB as ot,bT as vl,bE as Ie,c as r,bU as fl,r as p,w as ne,ap as be,bM as ml,ar as Rt,au as Gt,aq as Jt,as as ut,bV as It,o as Zt,bW as gt,bI as Tt,bJ as Ft,bX as gl,bY as bl,bK as Sl,bC as Pe,b7 as Lt,bZ as hl,b_ as tt,at as yl,az as wl,bP as kt,bH as Ke,b$ as $t,c0 as Cl,bG as ql,C as Ue,c1 as _l,c2 as pt,c3 as Pt,c4 as Ht,c5 as kl,c6 as xl,bN as lt,bD as vt}from"./index.454dc290.js";import{Q as Vl}from"./QSeparator.d663d29e.js";import{r as Bt,Q as Pl,u as Bl,a as Rl,b as Tl,c as Dt,d as jt,e as Fl,f as Ol,g as Ml,h as El,i as zl}from"./use-prevent-scroll.218c91c1.js";import{u as it,a as rt}from"./use-dark.2aa88f47.js";import{g as Al}from"./QScrollArea.e43349d9.js";import{u as Ot,a as el,c as tl,b as ll,f as Nt,d as Il}from"./use-key-composition.3536542a.js";import{u as Ll,a as $l,b as pl,c as Hl,d as Dl,e as jl,f as Nl}from"./position-engine.60a9fa45.js";import{a as Ql}from"./focus-manager.387b0375.js";import{u as nl,a as Kl,b as Ul}from"./use-form.685f47cb.js";var Wl=_e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:o,emit:l}){const f=ke(),{proxy:{$q:d}}=f,u=v=>{l("click",v)};return()=>{if(e.props===void 0)return i("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:u},ot(o.default));let v,s;const c=f.vnode.key;if(c){if(v=e.props.colsMap[c],v===void 0)return}else v=e.props.col;if(v.sortable===!0){const a=v.align==="right"?"unshift":"push";s=vl(o.default,[]),s[a](i(Ie,{class:v.__iconClass,name:d.iconSet.table.arrowUp}))}else s=ot(o.default);const _={class:v.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:v.headerStyle,onClick:a=>{v.sortable===!0&&e.props.sort(v),u(a)}};return i("th",_,s)}}});const Xl=["horizontal","vertical","cell","none"];var Yl=_e({name:"QMarkupTable",props:{...it,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Xl.includes(e)}},setup(e,{slots:o}){const l=ke(),f=rt(e,l.proxy.$q),d=r(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(f.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>i("div",{class:d.value},[i("table",{class:"q-table"},ot(o.default))])}});function al(e,o){return i("div",e,[i("table",{class:"q-table"},o)])}const Se=1e3,Gl=["start","center","end","start-force","center-force","end-force"],ol=Array.prototype.filter,Jl=window.getComputedStyle(document.body).overflowAnchor===void 0?fl:function(e,o){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const l=e.children||[];ol.call(l,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const f=l[o];f&&f.dataset&&(f.dataset.qVsAnchor="")}))};function We(e,o){return e+o}function xt(e,o,l,f,d,u,v,s){const c=e===window?document.scrollingElement||document.documentElement:e,_=d===!0?"offsetWidth":"offsetHeight",a={scrollStart:0,scrollViewSize:-v-s,scrollMaxSize:0,offsetStart:-v,offsetEnd:-s};if(d===!0?(e===window?(a.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a.scrollViewSize+=document.documentElement.clientWidth):(a.scrollStart=c.scrollLeft,a.scrollViewSize+=c.clientWidth),a.scrollMaxSize=c.scrollWidth,u===!0&&(a.scrollStart=(Bt===!0?a.scrollMaxSize-a.scrollViewSize:0)-a.scrollStart)):(e===window?(a.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,a.scrollViewSize+=document.documentElement.clientHeight):(a.scrollStart=c.scrollTop,a.scrollViewSize+=c.clientHeight),a.scrollMaxSize=c.scrollHeight),l!==null)for(let g=l.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetStart+=g[_]);if(f!==null)for(let g=f.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetEnd+=g[_]);if(o!==e){const g=c.getBoundingClientRect(),k=o.getBoundingClientRect();d===!0?(a.offsetStart+=k.left-g.left,a.offsetEnd-=k.width):(a.offsetStart+=k.top-g.top,a.offsetEnd-=k.height),e!==window&&(a.offsetStart+=a.scrollStart),a.offsetEnd+=a.scrollMaxSize-a.offsetStart}return a}function Qt(e,o,l,f){o==="end"&&(o=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(f===!0&&(o=(Bt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):l===!0?(f===!0&&(o=(Bt===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function nt(e,o,l,f){if(l>=f)return 0;const d=o.length,u=Math.floor(l/Se),v=Math.floor((f-1)/Se)+1;let s=e.slice(u,v).reduce(We,0);return l%Se!==0&&(s-=o.slice(u*Se,l).reduce(We,0)),f%Se!==0&&f!==d&&(s-=o.slice(f,v*Se).reduce(We,0)),s}const ul={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},il=Object.keys(ul),rl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ul};function sl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:l,virtualScrollItemSizeComputed:f}){const d=ke(),{props:u,emit:v,proxy:s}=d,{$q:c}=s;let _,a,g,k=[],w;const B=p(0),x=p(0),y=p({}),D=p(null),L=p(null),j=p(null),F=p({from:0,to:0}),E=r(()=>u.tableColspan!==void 0?u.tableColspan:100);f===void 0&&(f=r(()=>u.virtualScrollItemSize));const te=r(()=>f.value+";"+u.virtualScrollHorizontal),ae=r(()=>te.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ne(ae,()=>{ce()}),ne(te,re);function re(){se(a,!0)}function me(m){se(m===void 0?a:m)}function J(m,V){const T=o();if(T==null||T.nodeType===8)return;const $=xt(T,l(),D.value,L.value,u.virtualScrollHorizontal,c.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);g!==$.scrollViewSize&&ce($.scrollViewSize),z(T,$,Math.min(e.value-1,Math.max(0,parseInt(m,10)||0)),0,Gl.indexOf(V)>-1?V:a>-1&&m>a?"end":"start")}function X(){const m=o();if(m==null||m.nodeType===8)return;const V=xt(m,l(),D.value,L.value,u.virtualScrollHorizontal,c.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),T=e.value-1,$=V.scrollMaxSize-V.offsetStart-V.offsetEnd-x.value;if(_===V.scrollStart)return;if(V.scrollMaxSize<=0){z(m,V,0,0);return}g!==V.scrollViewSize&&ce(V.scrollViewSize),le(F.value.from);const Y=Math.floor(V.scrollMaxSize-Math.max(V.scrollViewSize,V.offsetEnd)-Math.min(w[T],V.scrollViewSize/2));if(Y>0&&Math.ceil(V.scrollStart)>=Y){z(m,V,T,V.scrollMaxSize-V.offsetEnd-k.reduce(We,0));return}let A=0,R=V.scrollStart-V.offsetStart,U=R;if(R<=$&&R+V.scrollViewSize>=B.value)R-=B.value,A=F.value.from,U=R;else for(let b=0;R>=k[b]&&A<T;b++)R-=k[b],A+=Se;for(;R>0&&A<T;)R-=w[A],R>-V.scrollViewSize?(A++,U=R):U=w[A]+R;z(m,V,A,U)}function z(m,V,T,$,Y){const A=typeof Y=="string"&&Y.indexOf("-force")>-1,R=A===!0?Y.replace("-force",""):Y,U=R!==void 0?R:"start";let b=Math.max(0,T-y.value[U]),Q=b+y.value.total;Q>e.value&&(Q=e.value,b=Math.max(0,Q-y.value.total)),_=V.scrollStart;const oe=b!==F.value.from||Q!==F.value.to;if(oe===!1&&R===void 0){xe(T);return}const{activeElement:ye}=document,Z=j.value;oe===!0&&Z!==null&&Z!==ye&&Z.contains(ye)===!0&&(Z.addEventListener("focusout",ve),setTimeout(()=>{Z!==null&&Z.removeEventListener("focusout",ve)})),Jl(Z,T-b);const Be=R!==void 0?w.slice(b,T).reduce(We,0):0;if(oe===!0){const we=Q>=F.value.from&&b<=F.value.to?F.value.to:Q;F.value={from:b,to:we},B.value=nt(k,w,0,b),x.value=nt(k,w,Q,e.value),requestAnimationFrame(()=>{F.value.to!==Q&&_===V.scrollStart&&(F.value={from:F.value.from,to:Q},x.value=nt(k,w,Q,e.value))})}requestAnimationFrame(()=>{if(_!==V.scrollStart)return;oe===!0&&le(b);const we=w.slice(b,T).reduce(We,0),Ce=we+V.offsetStart+B.value,Re=Ce+w[T];let Ee=Ce+$;if(R!==void 0){const de=we-Be,ee=V.scrollStart+de;Ee=A!==!0&&ee<Ce&&Re<ee+V.scrollViewSize?ee:R==="end"?Re-V.scrollViewSize:Ce-(R==="start"?0:Math.round((V.scrollViewSize-w[T])/2))}_=Ee,Qt(m,Ee,u.virtualScrollHorizontal,c.lang.rtl),xe(T)})}function le(m){const V=j.value;if(V){const T=ol.call(V.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),$=T.length,Y=u.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let A=m,R,U;for(let b=0;b<$;){for(R=Y(T[b]),b++;b<$&&T[b].classList.contains("q-virtual-scroll--with-prev")===!0;)R+=Y(T[b]),b++;U=R-w[A],U!==0&&(w[A]+=U,k[Math.floor(A/Se)]+=U),A++}}}function ve(){j.value!==null&&j.value!==void 0&&j.value.focus()}function se(m,V){const T=1*f.value;(V===!0||Array.isArray(w)===!1)&&(w=[]);const $=w.length;w.length=e.value;for(let A=e.value-1;A>=$;A--)w[A]=T;const Y=Math.floor((e.value-1)/Se);k=[];for(let A=0;A<=Y;A++){let R=0;const U=Math.min((A+1)*Se,e.value);for(let b=A*Se;b<U;b++)R+=w[b];k.push(R)}a=-1,_=void 0,B.value=nt(k,w,0,F.value.from),x.value=nt(k,w,F.value.to,e.value),m>=0?(le(F.value.from),be(()=>{J(m)})):fe()}function ce(m){if(m===void 0&&typeof window!="undefined"){const R=o();R!=null&&R.nodeType!==8&&(m=xt(R,l(),D.value,L.value,u.virtualScrollHorizontal,c.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}g=m;const V=parseFloat(u.virtualScrollSliceRatioBefore)||0,T=parseFloat(u.virtualScrollSliceRatioAfter)||0,$=1+V+T,Y=m===void 0||m<=0?1:Math.ceil(m/f.value),A=Math.max(1,Y,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/$));y.value={total:Math.ceil(A*$),start:Math.ceil(A*V),center:Math.ceil(A*(.5+V)),end:Math.ceil(A*(1+V)),view:Y}}function he(m,V){const T=u.virtualScrollHorizontal===!0?"width":"height",$={["--q-virtual-scroll-item-"+T]:f.value+"px"};return[m==="tbody"?i(m,{class:"q-virtual-scroll__padding",key:"before",ref:D},[i("tr",[i("td",{style:{[T]:`${B.value}px`,...$},colspan:E.value})])]):i(m,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:{[T]:`${B.value}px`,...$}}),i(m,{class:"q-virtual-scroll__content",key:"content",ref:j,tabindex:-1},V.flat()),m==="tbody"?i(m,{class:"q-virtual-scroll__padding",key:"after",ref:L},[i("tr",[i("td",{style:{[T]:`${x.value}px`,...$},colspan:E.value})])]):i(m,{class:"q-virtual-scroll__padding",key:"after",ref:L,style:{[T]:`${x.value}px`,...$}})]}function xe(m){a!==m&&(u.onVirtualScroll!==void 0&&v("virtual-scroll",{index:m,from:F.value.from,to:F.value.to-1,direction:m<a?"decrease":"increase",ref:s}),a=m)}ce();const fe=ml(X,c.platform.is.ios===!0?120:35);Rt(()=>{ce()});let h=!1;return Gt(()=>{h=!0}),Jt(()=>{if(h!==!0)return;const m=o();_!==void 0&&m!==void 0&&m!==null&&m.nodeType!==8?Qt(m,_,u.virtualScrollHorizontal,c.lang.rtl):J(a)}),ut(()=>{fe.cancel()}),Object.assign(s,{scrollTo:J,reset:re,refresh:me}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:ce,onVirtualScrollEvt:fe,localResetVirtualScroll:se,padVirtualScroll:he,scrollTo:J,reset:re,refresh:me}}const Zl={list:Pl,table:Yl},en=["list","table","__qtable"];var tn=_e({name:"QVirtualScroll",props:{...rl,type:{type:String,default:"list",validator:e=>en.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:o,attrs:l}){let f;const d=p(null),u=r(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:v,localResetVirtualScroll:s,padVirtualScroll:c,onVirtualScrollEvt:_}=sl({virtualScrollLength:u,getVirtualScrollTarget:B,getVirtualScrollEl:w}),a=r(()=>{if(u.value===0)return[];const L=(j,F)=>({index:v.value.from+F,item:j});return e.itemsFn===void 0?e.items.slice(v.value.from,v.value.to).map(L):e.itemsFn(v.value.from,v.value.to-v.value.from).map(L)}),g=r(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),k=r(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ne(u,()=>{s()}),ne(()=>e.scrollTarget,()=>{y(),x()});function w(){return d.value.$el||d.value}function B(){return f}function x(){f=Al(w(),e.scrollTarget),f.addEventListener("scroll",_,It.passive)}function y(){f!==void 0&&(f.removeEventListener("scroll",_,It.passive),f=void 0)}function D(){let L=c(e.type==="list"?"div":"tbody",a.value.map(o.default));return o.before!==void 0&&(L=o.before().concat(L)),gt(o.after,L)}return Rt(()=>{s()}),Zt(()=>{x()}),Jt(()=>{x()}),Gt(()=>{y()}),ut(()=>{y()}),()=>{if(o.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?al({ref:d,class:"q-table__middle "+g.value},D()):i(Zl[e.type],{...l,ref:d,class:[l.class,g.value],...k.value},D)}}}),ln=_e({name:"QField",inheritAttrs:!1,props:Ot,emits:el,setup(){return tl(ll())}});const nn={xs:8,sm:10,md:14,lg:20,xl:24};var an=_e({name:"QChip",props:{...it,...Tt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:l}){const{proxy:{$q:f}}=ke(),d=rt(e,f),u=Ft(e,nn),v=r(()=>e.selected===!0||e.icon!==void 0),s=r(()=>e.selected===!0?e.iconSelected||f.iconSet.chip.selected:e.icon),c=r(()=>e.iconRemove||f.iconSet.chip.remove),_=r(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),a=r(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),g=r(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function k(y){y.keyCode===13&&w(y)}function w(y){e.disable||(l("update:selected",!e.selected),l("click",y))}function B(y){(y.keyCode===void 0||y.keyCode===13)&&(Pe(y),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function x(){const y=[];_.value===!0&&y.push(i("div",{class:"q-focus-helper"})),v.value===!0&&y.push(i(Ie,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const D=e.label!==void 0?[i("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(i("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Sl(o.default,D))),e.iconRight&&y.push(i(Ie,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(i(Ie,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...g.value,onClick:B,onKeyup:B})),y}return()=>{if(e.modelValue===!1)return;const y={class:a.value,style:u.value};return _.value===!0&&Object.assign(y,g.value,{onClick:w,onKeyup:k}),gl("div",y,x(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[bl,e.ripple]])}}});let ft=0;const on={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Kt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var un=_e({name:"QDialog",inheritAttrs:!1,props:{...Ll,...$l,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...pl,"shake","click","escape-key"],setup(e,{slots:o,emit:l,attrs:f}){const d=ke(),u=p(null),v=p(!1),s=p(!1),c=p(!1);let _,a=null,g,k;const w=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:B}=Fl(),{registerTimeout:x,removeTimeout:y}=Hl(),{registerTick:D,removeTick:L}=Dl(),{showPortal:j,hidePortal:F,portalIsAccessible:E,renderPortal:te}=jl(d,u,U,!0),{hide:ae}=Nl({showing:v,hideOnRouteChange:w,handleShow:xe,handleHide:fe,processOnMount:!0}),{addToHistory:re,removeFromHistory:me}=Bl(v,ae,w),J=r(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${on[e.position]}`+(c.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),X=r(()=>"q-transition--"+(e.transitionShow===void 0?Kt[e.position][0]:e.transitionShow)),z=r(()=>"q-transition--"+(e.transitionHide===void 0?Kt[e.position][1]:e.transitionHide)),le=r(()=>s.value===!0?z.value:X.value),ve=r(()=>`--q-transition-duration: ${e.transitionDuration}ms`),se=r(()=>v.value===!0&&e.seamless!==!0),ce=r(()=>e.autoClose===!0?{onClick:Y}:{}),he=r(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${se.value===!0?"modal":"seamless"}`,f.class]);ne(v,b=>{be(()=>{s.value=b})}),ne(()=>e.maximized,b=>{v.value===!0&&$(b)}),ne(se,b=>{B(b),b===!0?(Rl(R),Tl(V)):(Dt(R),jt(V))});function xe(b){y(),L(),re(),a=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,$(e.maximized),j(),c.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),D(h)),x(()=>{if(d.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:Q,bottom:oe}=document.activeElement.getBoundingClientRect(),{innerHeight:ye}=window,Z=window.visualViewport!==void 0?window.visualViewport.height:ye;Q>0&&oe>Z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Z,oe>=ye?1/0:Math.ceil(document.scrollingElement.scrollTop+oe-Z/2))),document.activeElement.scrollIntoView()}k=!0,u.value.click(),k=!1}j(!0),c.value=!1,l("show",b)},e.transitionDuration)}function fe(b){y(),L(),me(),T(!0),c.value=!0,F(),a!==null&&(a.focus(),a=null),x(()=>{F(!0),c.value=!1,l("hide",b)},e.transitionDuration)}function h(b){Ql(()=>{let Q=u.value;Q===null||Q.contains(document.activeElement)===!0||(Q=Q.querySelector(b||"[autofocus], [data-autofocus]")||Q,Q.focus({preventScroll:!0}))})}function m(){h(),l("shake");const b=u.value;b!==null&&(b.classList.remove("q-animate--scale"),b.classList.add("q-animate--scale"),clearTimeout(_),_=setTimeout(()=>{u.value!==null&&(b.classList.remove("q-animate--scale"),h())},170))}function V(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&m():(l("escape-key"),ae()))}function T(b){clearTimeout(_),(b===!0||v.value===!0)&&($(!1),e.seamless!==!0&&(B(!1),Dt(R),jt(V))),b!==!0&&(a=null)}function $(b){b===!0?g!==!0&&(ft<1&&document.body.classList.add("q-body--dialog"),ft++,g=!0):g===!0&&(ft<2&&document.body.classList.remove("q-body--dialog"),ft--,g=!1)}function Y(b){k!==!0&&(ae(b),l("click",b))}function A(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?ae(b):e.noShake!==!0&&m()}function R(b){e.allowFocusOutside!==!0&&E.value===!0&&hl(u.value,b.target)!==!0&&h('[tabindex]:not([tabindex="-1"])')}Object.assign(d.proxy,{focus:h,shake:m,__updateRefocusTarget(b){a=b||null}}),ut(T);function U(){return i("div",{...f,class:he.value},[i(Lt,{name:"q-transition--fade",appear:!0},()=>se.value===!0?i("div",{class:"q-dialog__backdrop fixed-full",style:ve.value,"aria-hidden":"true",onMousedown:A}):null),i(Lt,{name:le.value,appear:!0},()=>v.value===!0?i("div",{ref:u,class:J.value,style:ve.value,tabindex:-1,...ce.value},ot(o.default)):null)])}return te}});const Ut=e=>["add","add-unique","toggle"].includes(e),rn=".*+?^${}()|[]\\",sn=Object.keys(Ot);var cn=_e({name:"QSelect",inheritAttrs:!1,props:{...rl,...nl,...Ot,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ut},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...el,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:o,emit:l}){const{proxy:f}=ke(),{$q:d}=f,u=p(!1),v=p(!1),s=p(-1),c=p(""),_=p(!1),a=p(!1);let g,k,w,B,x,y,D,L,j;const F=p(null),E=p(null),te=p(null),ae=p(null),re=p(null),me=Kl(e),J=Il(dt),X=r(()=>Array.isArray(e.options)?e.options.length:0),z=r(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:le,virtualScrollSliceSizeComputed:ve,localResetVirtualScroll:se,padVirtualScroll:ce,onVirtualScrollEvt:he,scrollTo:xe,setVirtualScrollSize:fe}=sl({virtualScrollLength:X,getVirtualScrollTarget:ht,getVirtualScrollEl:ze,virtualScrollItemSizeComputed:z}),h=ll(),m=r(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,q=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const S=e.mapOptions===!0&&k!==void 0?k:[],O=q.map(N=>Me(N,S));return e.modelValue===null&&t===!0?O.filter(N=>N!==null):O}return q}),V=r(()=>{const t={};return sn.forEach(q=>{const S=e[q];S!==void 0&&(t[q]=S)}),t}),T=r(()=>e.optionsDark===null?h.isDark.value:e.optionsDark),$=r(()=>Nt(m.value)),Y=r(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||m.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),A=r(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),R=r(()=>X.value===0),U=r(()=>m.value.map(t=>ee.value(t)).join(", ")),b=r(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Q=r(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||m.value.some(b.value))),oe=r(()=>h.focused.value===!0?e.tabindex:-1),ye=r(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-owns":`${h.targetUid.value}_lb`,"aria-controls":`${h.targetUid.value}_lb`};return s.value>=0&&(t["aria-activedescendant"]=`${h.targetUid.value}_${s.value}`),t}),Z=r(()=>{const t={id:`${h.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return s.value>=0&&(t["aria-activedescendant"]=`${h.targetUid.value}_${s.value}`),t}),Be=r(()=>m.value.map((t,q)=>({index:q,opt:t,html:b.value(t),selected:!0,removeAtIndex:St,toggleOption:Ve,tabindex:oe.value}))),we=r(()=>{if(X.value===0)return[];const{from:t,to:q}=le.value;return e.options.slice(t,q).map((S,O)=>{const N=Te.value(S)===!0,H=t+O,G={clickable:!0,active:!1,activeClass:Ee.value,manualFocus:!0,focused:!1,disable:N,tabindex:-1,dense:e.optionsDense,dark:T.value,role:"option",id:`${h.targetUid.value}_${H}`,onClick:()=>{Ve(S)}};return N!==!0&&(Ge(S)===!0&&(G.active=!0),s.value===H&&(G.focused=!0),G["aria-selected"]=G.active===!0?"true":"false",d.platform.is.desktop===!0&&(G.onMousemove=()=>{u.value===!0&&Fe(H)})),{index:H,opt:S,html:b.value(S),label:ee.value(S),selected:G.active,focused:G.focused,toggleOption:Ve,setOptionIndex:Fe,itemProps:G}})}),Ce=r(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),Re=r(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ee=r(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),de=r(()=>qe(e.optionValue,"value")),ee=r(()=>qe(e.optionLabel,"label")),Te=r(()=>qe(e.optionDisable,"disable")),Le=r(()=>m.value.map(t=>de.value(t))),bt=r(()=>{const t={onInput:dt,onChange:J,onKeydown:et,onKeyup:st,onKeypress:pe,onFocus:Je,onClick(q){w===!0&&Ke(q)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=J,t});ne(m,t=>{k=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&h.innerLoading.value!==!0&&(v.value!==!0&&u.value!==!0||$.value!==!0)&&(B!==!0&&Qe(),(v.value===!0||u.value===!0)&&P(""))},{immediate:!0}),ne(()=>e.fillInput,Qe),ne(u,qt),ne(X,dl);function Xe(t){return e.emitValue===!0?de.value(t):t}function $e(t){if(t>-1&&t<m.value.length)if(e.multiple===!0){const q=e.modelValue.slice();l("remove",{index:t,value:q.splice(t,1)[0]}),l("update:modelValue",q)}else l("update:modelValue",null)}function St(t){$e(t),h.focus()}function Ye(t,q){const S=Xe(t);if(e.multiple!==!0){e.fillInput===!0&&C(ee.value(t),!0,!0),l("update:modelValue",S);return}if(m.value.length===0){l("add",{index:0,value:S}),l("update:modelValue",e.multiple===!0?[S]:S);return}if(q===!0&&Ge(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const O=e.modelValue.slice();l("add",{index:O.length,value:S}),O.push(S),l("update:modelValue",O)}function Ve(t,q){if(h.editable.value!==!0||t===void 0||Te.value(t)===!0)return;const S=de.value(t);if(e.multiple!==!0){q!==!0&&(C(e.fillInput===!0?ee.value(t):"",!0,!0),Ae()),E.value!==null&&E.value.focus(),(m.value.length===0||tt(de.value(m.value[0]),S)!==!0)&&l("update:modelValue",e.emitValue===!0?S:t);return}if((w!==!0||_.value===!0)&&h.focus(),Je(),m.value.length===0){const H=e.emitValue===!0?S:t;l("add",{index:0,value:H}),l("update:modelValue",e.multiple===!0?[H]:H);return}const O=e.modelValue.slice(),N=Le.value.findIndex(H=>tt(H,S));if(N>-1)l("remove",{index:N,value:O.splice(N,1)[0]});else{if(e.maxValues!==void 0&&O.length>=e.maxValues)return;const H=e.emitValue===!0?S:t;l("add",{index:O.length,value:H}),O.push(H)}l("update:modelValue",O)}function Fe(t){if(d.platform.is.desktop!==!0)return;const q=t>-1&&t<X.value?t:-1;s.value!==q&&(s.value=q)}function Oe(t=1,q){if(u.value===!0){let S=s.value;do S=$t(S+t,-1,X.value-1);while(S!==-1&&S!==s.value&&Te.value(e.options[S])===!0);s.value!==S&&(Fe(S),xe(S),q!==!0&&e.useInput===!0&&e.fillInput===!0&&n(S>=0?ee.value(e.options[S]):y))}}function Me(t,q){const S=O=>tt(de.value(O),t);return e.options.find(S)||q.find(S)||t}function qe(t,q){const S=t!==void 0?t:q;return typeof S=="function"?S:O=>O!==null&&typeof O=="object"&&S in O?O[S]:O}function Ge(t){const q=de.value(t);return Le.value.find(S=>tt(S,q))!==void 0}function Je(t){e.useInput===!0&&E.value!==null&&(t===void 0||E.value===t.target&&t.target.value===U.value)&&E.value.select()}function Ze(t){Cl(t,27)===!0&&u.value===!0&&(Ke(t),Ae(),Qe()),l("keyup",t)}function st(t){const{value:q}=t.target;if(t.keyCode!==void 0){Ze(t);return}if(t.target.value="",clearTimeout(g),Qe(),typeof q=="string"&&q.length>0){const S=q.toLocaleLowerCase(),O=H=>{const G=e.options.find(ie=>H.value(ie).toLocaleLowerCase()===S);return G===void 0?!1:(m.value.indexOf(G)===-1?Ve(G):Ae(),!0)},N=H=>{O(de)!==!0&&(O(ee)===!0||H===!0||P(q,!0,()=>N(!0)))};N()}else h.clearValue(t)}function pe(t){l("keypress",t)}function et(t){if(l("keydown",t),ql(t)===!0)return;const q=c.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),S=t.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||q===!0);if(t.keyCode===27){kt(t);return}if(t.keyCode===9&&S===!1){je();return}if(t.target===void 0||t.target.id!==h.targetUid.value)return;if(t.keyCode===40&&h.innerLoading.value!==!0&&u.value===!1){Pe(t),Ne();return}if(t.keyCode===8&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?$e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Pe(t),s.value=-1,Oe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ve.value!==void 0&&(Pe(t),s.value=Math.max(-1,Math.min(X.value,s.value+(t.keyCode===33?-1:1)*ve.value.view)),Oe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Pe(t),Oe(t.keyCode===38?-1:1,e.multiple));const O=X.value;if((L===void 0||j<Date.now())&&(L=""),O>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||L.length>0)){u.value!==!0&&Ne(t);const N=t.key.toLocaleLowerCase(),H=L.length===1&&L[0]===N;j=Date.now()+1500,H===!1&&(Pe(t),L+=N);const G=new RegExp("^"+L.split("").map(_t=>rn.indexOf(_t)>-1?"\\"+_t:_t).join(".*"),"i");let ie=s.value;if(H===!0||ie<0||G.test(ee.value(e.options[ie]))!==!0)do ie=$t(ie+1,-1,O-1);while(ie!==s.value&&(Te.value(e.options[ie])===!0||G.test(ee.value(e.options[ie]))!==!0));s.value!==ie&&be(()=>{Fe(ie),xe(ie),ie>=0&&e.useInput===!0&&e.fillInput===!0&&n(ee.value(e.options[ie]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||L!=="")&&(t.keyCode!==9||S===!1))){if(t.keyCode!==9&&Pe(t),s.value>-1&&s.value<O){Ve(e.options[s.value]);return}if(q===!0){const N=(H,G)=>{if(G){if(Ut(G)!==!0)return}else G=e.newValueMode;if(H==null)return;C("",e.multiple!==!0,!0),(G==="toggle"?Ve:Ye)(H,G==="add-unique"),e.multiple!==!0&&(E.value!==null&&E.value.focus(),Ae())};if(e.onNewValue!==void 0?l("new-value",c.value,N):N(c.value),e.multiple!==!0)return}u.value===!0?je():h.innerLoading.value!==!0&&Ne()}}function ze(){return w===!0?re.value:te.value!==null&&te.value.__qPortalInnerRef.value!==null?te.value.__qPortalInnerRef.value:void 0}function ht(){return ze()}function yt(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?Be.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?Be.value.map((t,q)=>i(an,{key:"option-"+q,removable:h.editable.value===!0&&Te.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:oe.value,onRemove(){t.removeAtIndex(q)}},()=>i("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ee.value(t.opt)}))):[i("span",{[Q.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:U.value})]}function ct(){if(R.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:c.value}):void 0;const t=o.option!==void 0?o.option:S=>i(zl,{key:S.index,...S.itemProps},()=>i(Ml,()=>i(El,()=>i("span",{[S.html===!0?"innerHTML":"textContent"]:S.label}))));let q=ce("div",we.value.map(t));return o["before-options"]!==void 0&&(q=o["before-options"]().concat(q)),gt(o["after-options"],q)}function wt(t,q){const S=q===!0?{...ye.value,...h.splitAttrs.attributes.value}:void 0,O={ref:q===!0?E:void 0,key:"i_t",class:Y.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...S,id:q===!0?h.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...bt.value};return t!==!0&&w===!0&&(Array.isArray(O.class)===!0?O.class=[...O.class,"no-pointer-events"]:O.class+=" no-pointer-events"),i("input",O)}function dt(t){clearTimeout(g),!(t&&t.target&&t.target.qComposing===!0)&&(n(t.target.value||""),B=!0,y=c.value,h.focused.value!==!0&&(w!==!0||_.value===!0)&&h.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{P(c.value)},e.inputDebounce)))}function n(t){c.value!==t&&(c.value=t,l("input-value",t))}function C(t,q,S){B=S!==!0,e.useInput===!0&&(n(t),(q===!0||S!==!0)&&(y=t),q!==!0&&P(t))}function P(t,q,S){if(e.onFilter===void 0||q!==!0&&h.focused.value!==!0)return;h.innerLoading.value===!0?l("filter-abort"):(h.innerLoading.value=!0,a.value=!0),t!==""&&e.multiple!==!0&&m.value.length>0&&B!==!0&&t===ee.value(m.value[0])&&(t="");const O=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);clearTimeout(x),x=O,l("filter",t,(N,H)=>{(q===!0||h.focused.value===!0)&&x===O&&(clearTimeout(x),typeof N=="function"&&N(),a.value=!1,be(()=>{h.innerLoading.value=!1,h.editable.value===!0&&(q===!0?u.value===!0&&Ae():u.value===!0?qt(!0):u.value=!0),typeof H=="function"&&be(()=>{H(f)}),typeof S=="function"&&be(()=>{S(f)})}))},()=>{h.focused.value===!0&&x===O&&(clearTimeout(x),h.innerLoading.value=!1,a.value=!1),u.value===!0&&(u.value=!1)})}function M(){return i(Ol,{ref:te,class:A.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&R.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:T.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Re.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Z.value,onScrollPassive:he,onBeforeShow:Et,onBeforeHide:I,onShow:W},ct)}function I(t){zt(t),je()}function W(){fe()}function K(t){Ke(t),E.value!==null&&E.value.focus(),_.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ge(t){Ke(t),be(()=>{_.value=!1})}function ue(){const t=[i(ln,{class:`col-auto ${h.fieldClass.value}`,...V.value,for:h.targetUid.value,dark:T.value,square:!0,loading:a.value,itemAligned:!1,filled:!0,stackLabel:c.value.length>0,...h.splitAttrs.listeners.value,onFocus:K,onBlur:ge},{...o,rawControl:()=>h.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(i("div",{ref:re,class:A.value+" scroll",style:e.popupContentStyle,...Z.value,onClick:kt,onScrollPassive:he},ct())),i(un,{ref:ae,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:D,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Et,onBeforeHide:He,onHide:De,onShow:Ct},()=>i("div",{class:"q-select__dialog"+(T.value===!0?" q-select__dialog--dark q-dark":"")+(_.value===!0?" q-select__dialog--focused":"")},t))}function He(t){zt(t),ae.value!==null&&ae.value.__updateRefocusTarget(h.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),h.focused.value=!1}function De(t){Ae(),h.focused.value===!1&&l("blur",t),Qe()}function Ct(){const t=document.activeElement;(t===null||t.id!==h.targetUid.value)&&E.value!==null&&E.value!==t&&E.value.focus(),fe()}function je(){v.value!==!0&&(s.value=-1,u.value===!0&&(u.value=!1),h.focused.value===!1&&(clearTimeout(x),x=void 0,h.innerLoading.value===!0&&(l("filter-abort"),h.innerLoading.value=!1,a.value=!1)))}function Ne(t){h.editable.value===!0&&(w===!0?(h.onControlFocusin(t),v.value=!0,be(()=>{h.focus()})):h.focus(),e.onFilter!==void 0?P(c.value):(R.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function Ae(){v.value=!1,je()}function Qe(){e.useInput===!0&&C(e.multiple!==!0&&e.fillInput===!0&&m.value.length>0&&ee.value(m.value[0])||"",!0,!0)}function qt(t){let q=-1;if(t===!0){if(m.value.length>0){const S=de.value(m.value[0]);q=e.options.findIndex(O=>tt(de.value(O),S))}se(q)}Fe(q)}function dl(t,q){u.value===!0&&h.innerLoading.value===!1&&(se(-1,!0),be(()=>{u.value===!0&&h.innerLoading.value===!1&&(t>q?se():qt(!0))}))}function Mt(){v.value===!1&&te.value!==null&&te.value.updatePosition()}function Et(t){t!==void 0&&Ke(t),l("popup-show",t),h.hasPopupOpen=!0,h.onControlFocusin(t)}function zt(t){t!==void 0&&Ke(t),l("popup-hide",t),h.hasPopupOpen=!1,h.onControlFocusout(t)}function At(){w=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||R.value===!1:!0),D=d.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return yl(At),wl(Mt),At(),ut(()=>{clearTimeout(g)}),Object.assign(f,{showPopup:Ne,hidePopup:Ae,removeAtIndex:$e,add:Ye,toggleOption:Ve,getOptionIndex:()=>s.value,setOptionIndex:Fe,moveOptionSelection:Oe,filter:P,updateMenuPosition:Mt,updateInputValue:C,isOptionSelected:Ge,getEmittingOptionValue:Xe,isOptionDisabled:(...t)=>Te.value.apply(null,t)===!0,getOptionValue:(...t)=>de.value.apply(null,t),getOptionLabel:(...t)=>ee.value.apply(null,t)}),Object.assign(h,{innerValue:m,fieldClass:r(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:F,targetRef:E,hasValue:$,showPopup:Ne,floatingLabel:r(()=>e.hideSelected!==!0&&$.value===!0||typeof c.value=="number"||c.value.length>0||Nt(e.displayValue)),getControlChild:()=>{if(h.editable.value!==!1&&(v.value===!0||R.value!==!0||o["no-option"]!==void 0))return w===!0?ue():M();h.hasPopupOpen===!0&&(h.hasPopupOpen=!1)},controlEvents:{onFocusin(t){h.onControlFocusin(t)},onFocusout(t){h.onControlFocusout(t,()=>{Qe(),je()})},onClick(t){if(kt(t),w!==!0&&u.value===!0){je(),E.value!==null&&E.value.focus();return}Ne(t)}},getControl:t=>{const q=yt(),S=t===!0||v.value!==!0||w!==!0;if(e.useInput===!0)q.push(wt(t,S));else if(h.editable.value===!0){const N=S===!0?ye.value:void 0;q.push(i("input",{ref:S===!0?E:void 0,key:"d_t",class:"q-select__focus-target",id:S===!0?h.targetUid.value:void 0,readonly:!0,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,...N,onKeydown:et,onKeyup:Ze,onKeypress:pe})),S===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&q.push(i("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:st}))}if(me.value!==void 0&&e.disable!==!0&&Le.value.length>0){const N=Le.value.map(H=>i("option",{value:H,selected:!0}));q.push(i("select",{class:"hidden",name:me.value,multiple:e.multiple},N))}const O=e.useInput===!0||S!==!0?void 0:h.splitAttrs.attributes.value;return i("div",{class:"q-field__native row items-center",...O},q)},getInnerAppend:()=>e.loading!==!0&&a.value!==!0&&e.hideDropdownIcon!==!0?[i(Ie,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Ce.value})]:null}),tl(h)}});const dn={xs:2,sm:4,md:6,lg:10,xl:14};function Wt(e,o,l){return{transform:o===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var vn=_e({name:"QLinearProgress",props:{...it,...Tt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:o}){const{proxy:l}=ke(),f=rt(e,l.$q),d=Ft(e,dn),u=r(()=>e.indeterminate===!0||e.query===!0),v=r(()=>e.reverse!==e.query),s=r(()=>({...d.value!==null?d.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=r(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),_=r(()=>Wt(e.buffer!==void 0?e.buffer:1,v.value,l.$q)),a=r(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),g=r(()=>Wt(u.value===!0?1:e.value,v.value,l.$q)),k=r(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${u.value===!0?"in":""}determinate`),w=r(()=>({width:`${e.value*100}%`})),B=r(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const x=[i("div",{class:a.value,style:_.value}),i("div",{class:k.value,style:g.value})];return e.stripe===!0&&u.value===!1&&x.push(i("div",{class:B.value,style:w.value})),i("div",{class:c.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},gt(o.default,x))}}});function fn(e,o){const l=p(null),f=r(()=>e.disable===!0?null:i("span",{ref:l,class:"no-outline",tabindex:-1}));function d(u){const v=o.value;u!==void 0&&u.type.indexOf("key")===0?v!==null&&document.activeElement!==v&&v.contains(document.activeElement)===!0&&v.focus():l.value!==null&&(u===void 0||v!==null&&v.contains(u.target)===!0)&&l.value.focus()}return{refocusTargetEl:f,refocusTarget:d}}var mn={xs:30,sm:35,md:40,lg:50,xl:60};const gn={...it,...Tt,...nl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},bn=["update:modelValue"];function Sn(e,o){const{props:l,slots:f,emit:d,proxy:u}=ke(),{$q:v}=u,s=rt(l,v),c=p(null),{refocusTargetEl:_,refocusTarget:a}=fn(l,c),g=Ft(l,mn),k=r(()=>l.val!==void 0&&Array.isArray(l.modelValue)),w=r(()=>{const z=Ue(l.val);return k.value===!0?l.modelValue.findIndex(le=>Ue(le)===z):-1}),B=r(()=>k.value===!0?w.value>-1:Ue(l.modelValue)===Ue(l.trueValue)),x=r(()=>k.value===!0?w.value===-1:Ue(l.modelValue)===Ue(l.falseValue)),y=r(()=>B.value===!1&&x.value===!1),D=r(()=>l.disable===!0?-1:l.tabindex||0),L=r(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),j=r(()=>{const z=B.value===!0?"truthy":x.value===!0?"falsy":"indet",le=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?B.value===!0:x.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${z}${le}`}),F=r(()=>{const z={type:"checkbox"};return l.name!==void 0&&Object.assign(z,{"^checked":B.value===!0?"checked":void 0,name:l.name,value:k.value===!0?l.val:l.trueValue}),z}),E=Ul(F),te=r(()=>{const z={tabindex:D.value,role:"checkbox","aria-label":l.label,"aria-checked":y.value===!0?"mixed":B.value===!0?"true":"false"};return l.disable===!0&&(z["aria-disabled"]="true"),z});function ae(z){z!==void 0&&(Pe(z),a(z)),l.disable!==!0&&d("update:modelValue",re(),z)}function re(){if(k.value===!0){if(B.value===!0){const z=l.modelValue.slice();return z.splice(w.value,1),z}return l.modelValue.concat([l.val])}if(B.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(x.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function me(z){(z.keyCode===13||z.keyCode===32)&&Pe(z)}function J(z){(z.keyCode===13||z.keyCode===32)&&ae(z)}const X=o(B,y);return Object.assign(u,{toggle:ae}),()=>{const z=X();l.disable!==!0&&E(z,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const le=[i("div",{class:j.value,style:g.value},z)];_.value!==null&&le.push(_.value);const ve=l.label!==void 0?gt(f.default,[l.label]):ot(f.default);return ve!==void 0&&le.push(i("div",{class:`q-${e}__label q-anchor--skip`},ve)),i("div",{ref:c,class:L.value,...te.value,onClick:ae,onKeydown:me,onKeyup:J},le)}}const hn=i("div",{key:"svg",class:"q-checkbox__bg absolute"},[i("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[i("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),i("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Vt=_e({name:"QCheckbox",props:gn,emits:bn,setup(e){function o(l,f){const d=r(()=>(l.value===!0?e.checkedIcon:f.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>d.value!==null?[i("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[i(Ie,{class:"q-checkbox__icon",name:d.value})])]:[hn]}return Sn("checkbox",o)}});let at=0;const yn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},wn=["update:fullscreen","fullscreen"];function Cn(){const e=ke(),{props:o,emit:l,proxy:f}=e;let d,u,v;const s=p(!1);_l(e)===!0&&ne(()=>f.$route.fullPath,()=>{o.noRouteFullscreenExit!==!0&&a()}),ne(()=>o.fullscreen,g=>{s.value!==g&&c()}),ne(s,g=>{l("update:fullscreen",g),l("fullscreen",g)});function c(){s.value===!0?a():_()}function _(){s.value!==!0&&(s.value=!0,v=f.$el.parentNode,v.replaceChild(u,f.$el),document.body.appendChild(f.$el),at++,at===1&&document.body.classList.add("q-body--fullscreen-mixin"),d={handler:a},pt.add(d))}function a(){s.value===!0&&(d!==void 0&&(pt.remove(d),d=void 0),v.replaceChild(f.$el,u),s.value=!1,at=Math.max(0,at-1),at===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),f.$el.scrollIntoView!==void 0&&setTimeout(()=>{f.$el.scrollIntoView()})))}return Rt(()=>{u=document.createElement("span")}),Zt(()=>{o.fullscreen===!0&&_()}),ut(a),Object.assign(f,{toggleFullscreen:c,setFullscreen:_,exitFullscreen:a}),{inFullscreen:s,toggleFullscreen:c}}function qn(e,o){return new Date(e)-new Date(o)}const _n={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function kn(e,o,l,f){const d=r(()=>{const{sortBy:s}=o.value;return s&&l.value.find(c=>c.name===s)||null}),u=r(()=>e.sortMethod!==void 0?e.sortMethod:(s,c,_)=>{const a=l.value.find(w=>w.name===c);if(a===void 0||a.field===void 0)return s;const g=_===!0?-1:1,k=typeof a.field=="function"?w=>a.field(w):w=>w[a.field];return s.sort((w,B)=>{let x=k(w),y=k(B);return x==null?-1*g:y==null?1*g:a.sort!==void 0?a.sort(x,y,w,B)*g:Pt(x)===!0&&Pt(y)===!0?(x-y)*g:Ht(x)===!0&&Ht(y)===!0?qn(x,y)*g:typeof x=="boolean"&&typeof y=="boolean"?(x-y)*g:([x,y]=[x,y].map(D=>(D+"").toLocaleString().toLowerCase()),x<y?-1*g:x===y?0:g)})});function v(s){let c=e.columnSortOrder;if(kl(s)===!0)s.sortOrder&&(c=s.sortOrder),s=s.name;else{const g=l.value.find(k=>k.name===s);g!==void 0&&g.sortOrder&&(c=g.sortOrder)}let{sortBy:_,descending:a}=o.value;_!==s?(_=s,a=c==="da"):e.binaryStateSort===!0?a=!a:a===!0?c==="ad"?_=null:a=!1:c==="ad"?a=!0:_=null,f({sortBy:_,descending:a,page:1})}return{columnToSort:d,computedSortMethod:u,sort:v}}const xn={filter:[String,Object],filterMethod:Function};function Vn(e,o){const l=r(()=>e.filterMethod!==void 0?e.filterMethod:(f,d,u,v)=>{const s=d?d.toLowerCase():"";return f.filter(c=>u.some(_=>{const a=v(_,c)+"";return(a==="undefined"||a==="null"?"":a.toLowerCase()).indexOf(s)!==-1}))});return ne(()=>e.filter,()=>{be(()=>{o({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function Pn(e,o){for(const l in o)if(o[l]!==e[l])return!1;return!0}function Xt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Bn={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Rn(e,o){const{props:l,emit:f}=e,d=p(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length>0?l.rowsPerPageOptions[0]:5},l.pagination)),u=r(()=>{const a=l["onUpdate:pagination"]!==void 0?{...d.value,...l.pagination}:d.value;return Xt(a)}),v=r(()=>u.value.rowsNumber!==void 0);function s(a){c({pagination:a,filter:l.filter})}function c(a={}){be(()=>{f("request",{pagination:a.pagination||u.value,filter:a.filter||l.filter,getCellValue:o})})}function _(a,g){const k=Xt({...u.value,...a});if(Pn(u.value,k)===!0){v.value===!0&&g===!0&&s(k);return}if(v.value===!0){s(k);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?f("update:pagination",k):d.value=k}return{innerPagination:d,computedPagination:u,isServerSide:v,requestServerInteraction:c,setPagination:_}}function Tn(e,o,l,f,d,u){const{props:v,emit:s,proxy:{$q:c}}=e,_=r(()=>f.value===!0?l.value.rowsNumber||0:u.value),a=r(()=>{const{page:F,rowsPerPage:E}=l.value;return(F-1)*E}),g=r(()=>{const{page:F,rowsPerPage:E}=l.value;return F*E}),k=r(()=>l.value.page===1),w=r(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(_.value/l.value.rowsPerPage))),B=r(()=>g.value===0?!0:l.value.page>=w.value),x=r(()=>(v.rowsPerPageOptions.includes(o.value.rowsPerPage)?v.rowsPerPageOptions:[o.value.rowsPerPage].concat(v.rowsPerPageOptions)).map(E=>({label:E===0?c.lang.table.allRows:""+E,value:E})));ne(w,(F,E)=>{if(F===E)return;const te=l.value.page;F&&!te?d({page:1}):F<te&&d({page:F})});function y(){d({page:1})}function D(){const{page:F}=l.value;F>1&&d({page:F-1})}function L(){const{page:F,rowsPerPage:E}=l.value;g.value>0&&F*E<_.value&&d({page:F+1})}function j(){d({page:w.value})}return v["onUpdate:pagination"]!==void 0&&s("update:pagination",{...l.value}),{firstRowIndex:a,lastRowIndex:g,isFirstPage:k,isLastPage:B,pagesNumber:w,computedRowsPerPageOptions:x,computedRowsNumber:_,firstPage:y,prevPage:D,nextPage:L,lastPage:j}}const Fn={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},On=["update:selected","selection"];function Mn(e,o,l,f){const d=r(()=>{const B={};return e.selected.map(f.value).forEach(x=>{B[x]=!0}),B}),u=r(()=>e.selection!=="none"),v=r(()=>e.selection==="single"),s=r(()=>e.selection==="multiple"),c=r(()=>l.value.length>0&&l.value.every(B=>d.value[f.value(B)]===!0)),_=r(()=>c.value!==!0&&l.value.some(B=>d.value[f.value(B)]===!0)),a=r(()=>e.selected.length);function g(B){return d.value[B]===!0}function k(){o("update:selected",[])}function w(B,x,y,D){o("selection",{rows:x,added:y,keys:B,evt:D});const L=v.value===!0?y===!0?x:[]:y===!0?e.selected.concat(x):e.selected.filter(j=>B.includes(f.value(j))===!1);o("update:selected",L)}return{hasSelectionMode:u,singleSelection:v,multipleSelection:s,allRowsSelected:c,someRowsSelected:_,rowsSelectedNumber:a,isRowSelected:g,clearSelection:k,updateSelection:w}}function Yt(e){return Array.isArray(e)?e.slice():[]}const En={expanded:Array},zn=["update:expanded"];function An(e,o){const l=p(Yt(e.expanded));ne(()=>e.expanded,v=>{l.value=Yt(v)});function f(v){return l.value.includes(v)}function d(v){e.expanded!==void 0?o("update:expanded",v):l.value=v}function u(v,s){const c=l.value.slice(),_=c.indexOf(v);s===!0?_===-1&&(c.push(v),d(c)):_!==-1&&(c.splice(_,1),d(c))}return{isRowExpanded:f,setExpanded:d,updateExpanded:u}}const In={visibleColumns:Array};function Ln(e,o,l){const f=r(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Pt(s[c])?"right":"left",sortable:!0})):[]}),d=r(()=>{const{sortBy:s,descending:c}=o.value;return(e.visibleColumns!==void 0?f.value.filter(a=>a.required===!0||e.visibleColumns.includes(a.name)===!0):f.value).map(a=>{const g=a.align||"right",k=`text-${g}`;return{...a,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:k+(a.headerClasses!==void 0?" "+a.headerClasses:"")+(a.sortable===!0?" sortable":"")+(a.name===s?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:a.style!==void 0?typeof a.style!="function"?()=>a.style:a.style:()=>null,__tdClass:a.classes!==void 0?typeof a.classes!="function"?()=>k+" "+a.classes:w=>k+" "+a.classes(w):()=>k}})}),u=r(()=>{const s={};return d.value.forEach(c=>{s[c.name]=c}),s}),v=r(()=>e.tableColspan!==void 0?e.tableColspan:d.value.length+(l.value===!0?1:0));return{colList:f,computedCols:d,computedColsMap:u,computedColspan:v}}const mt="q-table__bottom row items-center",cl={};il.forEach(e=>{cl[e]={}});var Wn=_e({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...cl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...it,...yn,...In,...xn,...Bn,...En,...Fn,..._n},emits:["request","virtual-scroll",...wn,...zn,...On],setup(e,{slots:o,emit:l}){const f=ke(),{proxy:{$q:d}}=f,u=rt(e,d),{inFullscreen:v,toggleFullscreen:s}=Cn(),c=r(()=>typeof e.rowKey=="function"?e.rowKey:n=>n[e.rowKey]),_=p(null),a=p(null),g=r(()=>e.grid!==!0&&e.virtualScroll===!0),k=r(()=>" q-table__card"+(u.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),w=r(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":k.value)+(u.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(v.value===!0?" fullscreen scroll":"")),B=r(()=>w.value+(e.loading===!0?" q-table--loading":""));ne(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+w.value,()=>{g.value===!0&&a.value!==null&&a.value.reset()});const{innerPagination:x,computedPagination:y,isServerSide:D,requestServerInteraction:L,setPagination:j}=Rn(f,Me),{computedFilterMethod:F}=Vn(e,j),{isRowExpanded:E,setExpanded:te,updateExpanded:ae}=An(e,l),re=r(()=>{let n=e.rows;if(D.value===!0||n.length===0)return n;const{sortBy:C,descending:P}=y.value;return e.filter&&(n=F.value(n,e.filter,m.value,Me)),$.value!==null&&(n=Y.value(e.rows===n?n.slice():n,C,P)),n}),me=r(()=>re.value.length),J=r(()=>{let n=re.value;if(D.value===!0)return n;const{rowsPerPage:C}=y.value;return C!==0&&(R.value===0&&e.rows!==n?n.length>U.value&&(n=n.slice(0,U.value)):n=n.slice(R.value,U.value)),n}),{hasSelectionMode:X,singleSelection:z,multipleSelection:le,allRowsSelected:ve,someRowsSelected:se,rowsSelectedNumber:ce,isRowSelected:he,clearSelection:xe,updateSelection:fe}=Mn(e,l,J,c),{colList:h,computedCols:m,computedColsMap:V,computedColspan:T}=Ln(e,y,X),{columnToSort:$,computedSortMethod:Y,sort:A}=kn(e,y,h,j),{firstRowIndex:R,lastRowIndex:U,isFirstPage:b,isLastPage:Q,pagesNumber:oe,computedRowsPerPageOptions:ye,computedRowsNumber:Z,firstPage:Be,prevPage:we,nextPage:Ce,lastPage:Re}=Tn(f,x,y,D,j,me),Ee=r(()=>J.value.length===0),de=r(()=>{const n={};return il.forEach(C=>{n[C]=e[C]}),n.virtualScrollItemSize===void 0&&(n.virtualScrollItemSize=e.dense===!0?28:48),n});function ee(){g.value===!0&&a.value.reset()}function Te(){if(e.grid===!0)return dt();const n=e.hideHeader!==!0?Ze:null;if(g.value===!0){const P=o["top-row"],M=o["bottom-row"],I={default:W=>$e(W.item,o.body,W.index)};if(P!==void 0){const W=i("tbody",P({cols:m.value}));I.before=n===null?()=>W:()=>[n()].concat(W)}else n!==null&&(I.before=n);return M!==void 0&&(I.after=()=>i("tbody",M({cols:m.value}))),i(tn,{ref:a,class:e.tableClass,style:e.tableStyle,...de.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:T.value,onVirtualScroll:bt},I)}const C=[St()];return n!==null&&C.unshift(n()),al({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},C)}function Le(n,C){if(a.value!==null){a.value.scrollTo(n,C);return}n=parseInt(n,10);const P=_.value.querySelector(`tbody tr:nth-of-type(${n+1})`);if(P!==null){const M=_.value.querySelector(".q-table__middle.scroll"),{offsetTop:I}=P,W=I<M.scrollTop?"decrease":"increase";M.scrollTop=I,l("virtual-scroll",{index:n,from:0,to:x.value.rowsPerPage-1,direction:W})}}function bt(n){l("virtual-scroll",n)}function Xe(){return[i(vn,{class:"q-table__linear-progress",color:e.color,dark:u.value,indeterminate:!0,trackColor:"transparent"})]}function $e(n,C,P){const M=c.value(n),I=he(M);if(C!==void 0)return C(Ye({key:M,row:n,pageIndex:P,__trClass:I?"selected":""}));const W=o["body-cell"],K=m.value.map(ue=>{const He=o[`body-cell-${ue.name}`],De=He!==void 0?He:W;return De!==void 0?De(Ve({key:M,row:n,pageIndex:P,col:ue})):i("td",{class:ue.__tdClass(n),style:ue.__tdStyle(n)},Me(ue,n))});if(X.value===!0){const ue=o["body-selection"],He=ue!==void 0?ue(Fe({key:M,row:n,pageIndex:P})):[i(Vt,{modelValue:I,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(De,Ct)=>{fe([M],[n],De,Ct)}})];K.unshift(i("td",{class:"q-table--col-auto-width"},He))}const ge={key:M,class:{selected:I}};return e.onRowClick!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onClick=ue=>{l("RowClick",ue,n,P)}),e.onRowDblclick!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onDblclick=ue=>{l("RowDblclick",ue,n,P)}),e.onRowContextmenu!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onContextmenu=ue=>{l("RowContextmenu",ue,n,P)}),i("tr",ge,K)}function St(){const n=o.body,C=o["top-row"],P=o["bottom-row"];let M=J.value.map((I,W)=>$e(I,n,W));return C!==void 0&&(M=C({cols:m.value}).concat(M)),P!==void 0&&(M=M.concat(P({cols:m.value}))),i("tbody",M)}function Ye(n){return Oe(n),n.cols=n.cols.map(C=>{const P={...C};return lt(P,"value",()=>Me(C,n.row)),P}),n}function Ve(n){return Oe(n),lt(n,"value",()=>Me(n.col,n.row)),n}function Fe(n){return Oe(n),n}function Oe(n){Object.assign(n,{cols:m.value,colsMap:V.value,sort:A,rowIndex:R.value+n.pageIndex,color:e.color,dark:u.value,dense:e.dense}),X.value===!0&&lt(n,"selected",()=>he(n.key),(C,P)=>{fe([n.key],[n.row],C,P)}),lt(n,"expand",()=>E(n.key),C=>{ae(n.key,C)})}function Me(n,C){const P=typeof n.field=="function"?n.field(C):C[n.field];return n.format!==void 0?n.format(P,C):P}const qe=r(()=>({pagination:y.value,pagesNumber:oe.value,isFirstPage:b.value,isLastPage:Q.value,firstPage:Be,prevPage:we,nextPage:Ce,lastPage:Re,inFullscreen:v.value,toggleFullscreen:s}));function Ge(){const n=o.top,C=o["top-left"],P=o["top-right"],M=o["top-selection"],I=X.value===!0&&M!==void 0&&ce.value>0,W="q-table__top relative-position row items-center";if(n!==void 0)return i("div",{class:W},[n(qe.value)]);let K;if(I===!0?K=M(qe.value).slice():(K=[],C!==void 0?K.push(i("div",{class:"q-table-control"},[C(qe.value)])):e.title&&K.push(i("div",{class:"q-table__control"},[i("div",{class:["q-table__title",e.titleClass]},e.title)]))),P!==void 0&&(K.push(i("div",{class:"q-table__separator col"})),K.push(i("div",{class:"q-table__control"},[P(qe.value)]))),K.length!==0)return i("div",{class:W},K)}const Je=r(()=>se.value===!0?null:ve.value);function Ze(){const n=st();return e.loading===!0&&o.loading===void 0&&n.push(i("tr",{class:"q-table__progress"},[i("th",{class:"relative-position",colspan:T.value},Xe())])),i("thead",n)}function st(){const n=o.header,C=o["header-cell"];if(n!==void 0)return n(pe({header:!0})).slice();const P=m.value.map(M=>{const I=o[`header-cell-${M.name}`],W=I!==void 0?I:C,K=pe({col:M});return W!==void 0?W(K):i(Wl,{key:M.name,props:K},()=>M.label)});if(z.value===!0&&e.grid!==!0)P.unshift(i("th",{class:"q-table--col-auto-width"}," "));else if(le.value===!0){const M=o["header-selection"],I=M!==void 0?M(pe({})):[i(Vt,{color:e.color,modelValue:Je.value,dark:u.value,dense:e.dense,"onUpdate:modelValue":et})];P.unshift(i("th",{class:"q-table--col-auto-width"},I))}return[i("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},P)]}function pe(n){return Object.assign(n,{cols:m.value,sort:A,colsMap:V.value,color:e.color,dark:u.value,dense:e.dense}),le.value===!0&&lt(n,"selected",()=>Je.value,et),n}function et(n){se.value===!0&&(n=!1),fe(J.value.map(c.value),J.value,n)}const ze=r(()=>{const n=[e.iconFirstPage||d.iconSet.table.firstPage,e.iconPrevPage||d.iconSet.table.prevPage,e.iconNextPage||d.iconSet.table.nextPage,e.iconLastPage||d.iconSet.table.lastPage];return d.lang.rtl===!0?n.reverse():n});function ht(){if(e.hideBottom===!0)return;if(Ee.value===!0){if(e.hideNoData===!0)return;const P=e.loading===!0?e.loadingLabel||d.lang.table.loading:e.filter?e.noResultsLabel||d.lang.table.noResults:e.noDataLabel||d.lang.table.noData,M=o["no-data"],I=M!==void 0?[M({message:P,icon:d.iconSet.table.warning,filter:e.filter})]:[i(Ie,{class:"q-table__bottom-nodata-icon",name:d.iconSet.table.warning}),P];return i("div",{class:mt+" q-table__bottom--nodata"},I)}const n=o.bottom;if(n!==void 0)return i("div",{class:mt},[n(qe.value)]);const C=e.hideSelectedBanner!==!0&&X.value===!0&&ce.value>0?[i("div",{class:"q-table__control"},[i("div",[(e.selectedRowsLabel||d.lang.table.selectedRecords)(ce.value)])])]:[];if(e.hidePagination!==!0)return i("div",{class:mt+" justify-end"},ct(C));if(C.length>0)return i("div",{class:mt},C)}function yt(n){j({page:1,rowsPerPage:n.value})}function ct(n){let C;const{rowsPerPage:P}=y.value,M=e.paginationLabel||d.lang.table.pagination,I=o.pagination,W=e.rowsPerPageOptions.length>1;if(n.push(i("div",{class:"q-table__separator col"})),W===!0&&n.push(i("div",{class:"q-table__control"},[i("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||d.lang.table.recordsPerPage]),i(cn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:P,options:ye.value,displayValue:P===0?d.lang.table.allRows:P,dark:u.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":yt})])),I!==void 0)C=I(qe.value);else if(C=[i("span",P!==0?{class:"q-table__bottom-item"}:{},[P?M(R.value+1,Math.min(U.value,Z.value),Z.value):M(1,me.value,Z.value)])],P!==0&&oe.value>1){const K={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(K.size="sm"),oe.value>2&&C.push(i(vt,{key:"pgFirst",...K,icon:ze.value[0],disable:b.value,onClick:Be})),C.push(i(vt,{key:"pgPrev",...K,icon:ze.value[1],disable:b.value,onClick:we}),i(vt,{key:"pgNext",...K,icon:ze.value[2],disable:Q.value,onClick:Ce})),oe.value>2&&C.push(i(vt,{key:"pgLast",...K,icon:ze.value[3],disable:Q.value,onClick:Re}))}return n.push(i("div",{class:"q-table__control"},C)),n}function wt(){const n=e.gridHeader===!0?[i("table",{class:"q-table"},[Ze()])]:e.loading===!0&&o.loading===void 0?Xe():void 0;return i("div",{class:"q-table__middle"},n)}function dt(){const n=o.item!==void 0?o.item:C=>{const P=C.cols.map(I=>i("div",{class:"q-table__grid-item-row"},[i("div",{class:"q-table__grid-item-title"},[I.label]),i("div",{class:"q-table__grid-item-value"},[I.value])]));if(X.value===!0){const I=o["body-selection"],W=I!==void 0?I(C):[i(Vt,{modelValue:C.selected,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(K,ge)=>{fe([C.key],[C.row],K,ge)}})];P.unshift(i("div",{class:"q-table__grid-item-row"},W),i(Vl,{dark:u.value}))}const M={class:["q-table__grid-item-card"+k.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(M.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(M.onClick=I=>{l("RowClick",I,C.row,C.pageIndex)}),e.onRowDblclick!==void 0&&(M.onDblclick=I=>{l("RowDblclick",I,C.row,C.pageIndex)})),i("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(C.selected===!0?" q-table__grid-item--selected":"")},[i("div",M,P)])};return i("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((C,P)=>n(Ye({key:c.value(C),row:C,pageIndex:P}))))}return Object.assign(f.proxy,{requestServerInteraction:L,setPagination:j,firstPage:Be,prevPage:we,nextPage:Ce,lastPage:Re,isRowSelected:he,clearSelection:xe,isRowExpanded:E,setExpanded:te,sort:A,resetVirtualScroll:ee,scrollTo:Le,getCellValue:Me}),xl(f.proxy,{filteredSortedRows:()=>re.value,computedRows:()=>J.value,computedRowsNumber:()=>Z.value}),()=>{const n=[Ge()],C={ref:_,class:B.value};return e.grid===!0?n.push(wt()):Object.assign(C,{class:[C.class,e.cardClass],style:e.cardStyle}),n.push(Te(),ht()),e.loading===!0&&o.loading!==void 0&&n.push(o.loading()),i("div",C,n)}}});export{Wn as Q};
