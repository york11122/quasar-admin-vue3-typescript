import{C as ae,c as l,h as c,aO as Re,E as Fe,r as $,aZ as Ne,a$ as j,ai as Ie,D as Ae,bi as ze,g as te,aM as L,aL as Pe,b7 as Ve,bu as De,bv as Ee,w as je,K as Ke}from"./index.15f31975.js";import{T as Qe}from"./QScrollArea.008920e7.js";const Oe=["top","middle","bottom"];var ea=ae({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>Oe.includes(t)}},setup(t,{slots:m}){const y=l(()=>t.align!==void 0?{verticalAlign:t.align}:null),n=l(()=>{const e=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(e!==void 0?` text-${e}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>c("div",{class:n.value,style:y.value,role:"status","aria-label":t.label},Re(m.default,t.label!==void 0?[t.label]:[]))}});const ee="q-slider__marker-labels",Ue=t=>({value:t}),We=({marker:t})=>c("div",{key:t.value,style:t.style,class:t.classes},t.label),le=[34,37,40,33,39,38],Xe={...Ae,...ze,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ze=["pan","update:modelValue","change"];function Ge({updateValue:t,updatePosition:m,getDragging:y,formAttrs:n}){const{props:e,emit:B,slots:p,proxy:{$q:v}}=te(),w=Fe(e,v),N=De(n),b=$(!1),M=$(!1),f=$(!1),q=$(!1),d=l(()=>e.vertical===!0?"--v":"--h"),I=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),k=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(v.lang.rtl===!0)),C=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),h=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),s=l(()=>e.disable!==!0&&e.readonly!==!0&&C.value<h.value),g=l(()=>(String(e.step).trim().split(".")[1]||"").length),S=l(()=>e.step===0?1:e.step),re=l(()=>s.value===!0?e.tabindex||0:-1),T=l(()=>e.max-e.min),K=l(()=>h.value-C.value),_=l(()=>z(C.value)),A=l(()=>z(h.value)),R=l(()=>e.vertical===!0?k.value===!0?"bottom":"top":k.value===!0?"right":"left"),Q=l(()=>e.vertical===!0?"height":"width"),ne=l(()=>e.vertical===!0?"width":"height"),O=l(()=>e.vertical===!0?"vertical":"horizontal"),oe=l(()=>{const a={role:"slider","aria-valuemin":C.value,"aria-valuemax":h.value,"aria-orientation":O.value,"data-step":e.step};return e.disable===!0?a["aria-disabled"]="true":e.readonly===!0&&(a["aria-readonly"]="true"),a}),ue=l(()=>`q-slider q-slider${d.value} q-slider--${b.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(s.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(w.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+d.value:""));function F(a){const r="q-slider__"+a;return`${r} ${r}${d.value} ${r}${d.value}${I.value}`}function U(a){const r="q-slider__"+a;return`${r} ${r}${d.value}`}const se=l(()=>{const a=e.selectionColor||e.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),ie=l(()=>U("markers")+" absolute overflow-hidden"),ce=l(()=>U("track-container")),ve=l(()=>F("pin")),de=l(()=>F("label")),me=l(()=>F("text-container")),be=l(()=>F("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),fe=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),ge=l(()=>{const a={[ne.value]:e.trackSize};return e.trackImg!==void 0&&(a.backgroundImage=`url(${e.trackImg}) !important`),a}),ke=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),W=l(()=>{const a={[R.value]:`${100*_.value}%`,[Q.value]:`${100*(A.value-_.value)}%`};return e.innerTrackImg!==void 0&&(a.backgroundImage=`url(${e.innerTrackImg}) !important`),a});function Ce(a){const{min:r,max:o,step:u}=e;let i=r+a*(o-r);if(u>0){const x=(i-r)%u;i+=(Math.abs(x)>=u/2?(x<0?-1:1)*u:0)-x}return g.value>0&&(i=parseFloat(i.toFixed(g.value))),L(i,C.value,h.value)}function z(a){return T.value===0?0:(a-e.min)/T.value}function he(a,r){const o=Pe(a),u=e.vertical===!0?L((o.top-r.top)/r.height,0,1):L((o.left-r.left)/r.width,0,1);return L(k.value===!0?1-u:u,_.value,A.value)}const X=l(()=>Ne(e.markers)===!0?e.markers:S.value),Z=l(()=>{const a=[],r=X.value,o=e.max;let u=e.min;do a.push(u),u+=r;while(u<o);return a.push(o),a}),G=l(()=>{const a=` ${ee}${d.value}-`;return ee+`${a}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${k.value===!0?"rtl":"ltr"}`}),P=l(()=>e.markerLabels===!1?null:ye(e.markerLabels).map((a,r)=>({index:r,value:a.value,label:a.label||a.value,classes:G.value+(a.classes!==void 0?" "+a.classes:""),style:{...J(a.value),...a.style||{}}}))),H=l(()=>({markerList:P.value,markerMap:Se.value,classes:G.value,getStyle:J})),xe=l(()=>{if(K.value!==0){const a=100*X.value/K.value;return{...W.value,backgroundSize:e.vertical===!0?`2px ${a}%`:`${a}% 2px`}}return null});function ye(a){if(a===!1)return null;if(a===!0)return Z.value.map(Ue);if(typeof a=="function")return Z.value.map(o=>{const u=a(o);return j(u)===!0?{...u,value:o}:{value:o,label:u}});const r=({value:o})=>o>=e.min&&o<=e.max;return Array.isArray(a)===!0?a.map(o=>j(o)===!0?o:{value:o}).filter(r):Object.keys(a).map(o=>{const u=a[o],i=Number(o);return j(u)===!0?{...u,value:i}:{value:i,label:u}}).filter(r)}function J(a){return{[R.value]:`${100*(a-e.min)/T.value}%`}}const Se=l(()=>{if(e.markerLabels===!1)return null;const a={};return P.value.forEach(r=>{a[r.value]=r}),a});function $e(){if(p["marker-label-group"]!==void 0)return p["marker-label-group"](H.value);const a=p["marker-label"]||We;return P.value.map(r=>a({marker:r,...H.value}))}const pe=l(()=>[[Qe,Me,void 0,{[O.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Me(a){a.isFinal===!0?(q.value!==void 0&&(m(a.evt),a.touch===!0&&t(!0),q.value=void 0,B("pan","end")),b.value=!1,f.value=!1):a.isFirst===!0?(q.value=y(a.evt),m(a.evt),t(),b.value=!0,B("pan","start")):(m(a.evt),t())}function Y(){f.value=!1}function qe(a){m(a,y(a)),t(),M.value=!0,b.value=!0,document.addEventListener("mouseup",V,!0)}function V(){M.value=!1,b.value=!1,t(!0),Y(),document.removeEventListener("mouseup",V,!0)}function Le(a){m(a,y(a)),t(!0)}function Be(a){le.includes(a.keyCode)&&t(!0)}function we(a){if(e.vertical===!0)return null;const r=v.lang.rtl!==e.reverse?1-a:a;return{transform:`translateX(calc(${2*r-1} * ${e.thumbSize} / 2 + ${50-100*r}%))`}}function Te(a){const r=l(()=>M.value===!1&&(f.value===a.focusValue||f.value==="both")?" q-slider--focus":""),o=l(()=>`q-slider__thumb q-slider__thumb${d.value} q-slider__thumb${d.value}-${k.value===!0?"rtl":"ltr"} absolute non-selectable`+r.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),u=l(()=>({width:e.thumbSize,height:e.thumbSize,[R.value]:`${100*a.ratio.value}%`,zIndex:f.value===a.focusValue?2:void 0})),i=l(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),x=l(()=>we(a.ratio.value)),D=l(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const E=[c("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[c("path",{d:e.thumbPath})]),c("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(E.push(c("div",{class:ve.value+" absolute fit no-pointer-events"+i.value},[c("div",{class:de.value,style:{minWidth:e.thumbSize}},[c("div",{class:me.value,style:x.value},[c("span",{class:D.value},a.label.value)])])])),e.name!==void 0&&e.disable!==!0&&N(E,"push")),c("div",{class:o.value,style:u.value,...a.getNodeData()},E)}}function _e(a,r,o,u){const i=[];e.innerTrackColor!=="transparent"&&i.push(c("div",{key:"inner",class:ke.value,style:W.value})),e.selectionColor!=="transparent"&&i.push(c("div",{key:"selection",class:se.value,style:a.value})),e.markers!==!1&&i.push(c("div",{key:"marker",class:ie.value,style:xe.value})),u(i);const x=[Ve("div",{key:"trackC",class:ce.value,tabindex:r.value,...o.value},[c("div",{class:fe.value,style:ge.value},i)],"slide",s.value,()=>pe.value)];if(e.markerLabels!==!1){const D=e.switchMarkerLabelsSide===!0?"unshift":"push";x[D](c("div",{key:"markerL",class:be.value},$e()))}return x}return Ie(()=>{document.removeEventListener("mouseup",V,!0)}),{state:{active:b,focus:f,preventFocus:M,dragging:q,editable:s,classes:ue,tabindex:re,attributes:oe,step:S,decimals:g,trackLen:T,innerMin:C,innerMinRatio:_,innerMax:h,innerMaxRatio:A,positionProp:R,sizeProp:Q,isReversed:k},methods:{onActivate:qe,onMobileClick:Le,onBlur:Y,onKeyup:Be,getContent:_e,getThumbRenderFn:Te,convertRatioToModel:Ce,convertModelToRatio:z,getDraggingRatio:he}}}const He=()=>({});var aa=ae({name:"QSlider",props:{...Xe,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:Ze,setup(t,{emit:m}){const{proxy:{$q:y}}=te(),{state:n,methods:e}=Ge({updateValue:d,updatePosition:k,getDragging:I,formAttrs:Ee(t)}),B=$(null),p=$(0),v=$(0);function w(){v.value=t.modelValue===null?n.innerMin.value:L(t.modelValue,n.innerMin.value,n.innerMax.value)}je(()=>`${t.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,w),w();const N=l(()=>e.convertModelToRatio(v.value)),b=l(()=>n.active.value===!0?p.value:N.value),M=l(()=>{const s={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(b.value-n.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(s.backgroundImage=`url(${t.selectionImg}) !important`),s}),f=e.getThumbRenderFn({focusValue:!0,getNodeData:He,ratio:b,label:l(()=>t.labelValue!==void 0?t.labelValue:v.value),thumbColor:l(()=>t.thumbColor||t.color),labelColor:l(()=>t.labelColor),labelTextColor:l(()=>t.labelTextColor)}),q=l(()=>n.editable.value!==!0?{}:y.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:C,onBlur:e.onBlur,onKeydown:h,onKeyup:e.onKeyup});function d(s){v.value!==t.modelValue&&m("update:modelValue",v.value),s===!0&&m("change",v.value)}function I(){return B.value.getBoundingClientRect()}function k(s,g=n.dragging.value){const S=e.getDraggingRatio(s,g);v.value=e.convertRatioToModel(S),p.value=t.snap!==!0||t.step===0?S:e.convertModelToRatio(v.value)}function C(){n.focus.value=!0}function h(s){if(!le.includes(s.keyCode))return;Ke(s);const g=([34,33].includes(s.keyCode)?10:1)*n.step.value,S=([34,37,40].includes(s.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*g;v.value=L(parseFloat((v.value+S).toFixed(n.decimals.value)),n.innerMin.value,n.innerMax.value),d()}return()=>{const s=e.getContent(M,n.tabindex,q,g=>{g.push(f())});return c("div",{ref:B,class:n.classes.value+(t.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":t.modelValue},s)}}});export{ea as Q,aa as a};
