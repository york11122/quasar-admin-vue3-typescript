import{Q as G}from"./QSkeleton.39d66882.js";import{k as A,n as S,z as U,A as c,B as j,C as M,D as N,c as P,h as F,E as L,g as z,r as B,G as T,H as K,I as Z,o as H,J,K as I,v as W,L as X,M as Y,l as $,O as w,Q as ee,f as i,S as q,u as k,U as D,d as V,V as te,W as oe,X as R,Y as se,Z as O,$ as ne,a0 as ae,a1 as re,a2 as ie,a3 as le}from"./index.1847bb47.js";import{u as ue}from"./user.59b9e8cc.js";import{_ as de}from"./LottieWeb.9b7e7159.js";import{a as ce,u as fe}from"./user.0d7655e6.js";import{_ as me,a as pe}from"./ToolbarTitle.2216b050.js";import{_ as ve}from"./plugin-vue_export-helper.21dcd24c.js";import"./tagView.47fabf98.js";import"./_commonjsHelpers.4e997714.js";import"./QTooltip.525562f3.js";import"./position-engine.61c866a2.js";import"./theme.67d43349.js";const ge={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"896",width:"967.8852157128662"},_e=c("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1),he={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ye=["stop-color"],xe=["stop-color"],Ce=c("g",{opacity:"1"},[c("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1),be=A({__name:"CornerBottom",props:{startColor:{default:"#28aff0"},endColor:{default:"#120fc4"}},setup(t){return(l,f)=>(S(),U("svg",ge,[c("defs",null,[_e,c("linearGradient",he,[c("stop",{offset:"0","stop-color":l.startColor,"stop-opacity":"1"},null,8,ye),c("stop",{offset:"1","stop-color":l.endColor,"stop-opacity":"1"},null,8,xe)])]),Ce]))}});var we=j({name:"QBanner",props:{...M,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:l}){const{proxy:{$q:f}}=z(),m=N(t,f),n=P(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(m.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),a=P(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const s=[F("div",{class:"q-banner__avatar col-auto row items-center self-start"},L(l.avatar)),F("div",{class:"q-banner__content col text-body2"},L(l.default))],u=L(l.action);return u!==void 0&&s.push(F("div",{class:a.value},u)),F("div",{class:n.value+(t.inlineActions===!1&&u!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}}),ke=j({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:l,emit:f}){const m=z(),n=B(null);let a=0;const s=[];function u(e){const v=typeof e=="boolean"?e:t.noErrorFocus!==!0,C=++a,_=(o,d)=>{f(`validation${o===!0?"Success":"Error"}`,d)},b=o=>{const d=o.validate();return typeof d.then=="function"?d.then(h=>({valid:h,comp:o}),h=>({valid:!1,comp:o,err:h})):Promise.resolve({valid:d,comp:o})};return(t.greedy===!0?Promise.all(s.map(b)).then(o=>o.filter(d=>d.valid!==!0)):s.reduce((o,d)=>o.then(()=>b(d).then(h=>{if(h.valid===!1)return Promise.reject(h)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return C===a&&_(!0),!0;if(C===a){const{comp:d,err:h}=o[0];if(h!==void 0&&console.error(h),_(!1,d),v===!0){const Q=o.find(({comp:E})=>typeof E.focus=="function"&&J(E.$)===!1);Q!==void 0&&Q.comp.focus()}}return!1})}function p(){a++,s.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function g(e){e!==void 0&&I(e);const v=a+1;u().then(C=>{v===a&&C===!0&&(t.onSubmit!==void 0?f("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function y(e){e!==void 0&&I(e),f("reset"),W(()=>{p(),t.autofocus===!0&&t.noResetFocus!==!0&&x()})}function x(){X(()=>{if(n.value===null)return;const e=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),v=>v.tabIndex!==-1);e!=null&&e.focus({preventScroll:!0})})}T(Y,{bindComponent(e){s.push(e)},unbindComponent(e){const v=s.indexOf(e);v!==-1&&s.splice(v,1)}});let r=!1;return K(()=>{r=!0}),Z(()=>{r===!0&&t.autofocus===!0&&x()}),H(()=>{t.autofocus===!0&&x()}),Object.assign(m.proxy,{validate:u,resetValidation:p,submit:g,reset:y,focus:x,getValidationComponents:()=>s}),()=>F("form",{class:"q-form",ref:n,onSubmit:g,onReset:y},L(l.default))}});const Be={class:"absolute-top-left q-pa-md"},Fe={class:"col flex justify-center items-center q-pa-md"},Se=c("span",null,"some descriptions",-1),Le=A({name:"Login",__name:"LoginPanel",props:{username:{default:""},password:{default:""},loading:{type:Boolean,default:!1},message:{default:""}},emits:["update:username","update:password","update:loading","onLoginClick"],setup(t,{emit:l}){const f=t,m=l,n=B(!0),a=B(null),{username:s,password:u,loading:p,message:g}=ce(f,m),y=async()=>{var r;await((r=a.value)==null?void 0:r.validate())&&m("onLoginClick")};return(x,r)=>(S(),$(ee,{flat:"",class:"row",style:{"border-radius":"20px",width:"85%","max-width":"400px"}},{default:w(()=>[c("div",Be,[i(me)]),c("div",Fe,[i(q,null,{default:w(()=>[i(pe,{title:"Quasar Admin",size:"20px"})]),_:1}),i(q,{align:"center",class:"fit q-gutter-y-sm"},{default:w(()=>[i(k(ke),{ref_key:"loginForm",ref:a,class:"custom-form-error-message"},{default:w(()=>[i(D,{modelValue:k(s),"onUpdate:modelValue":r[0]||(r[0]=e=>V(s)?s.value=e:null),placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F",dense:"",clearable:"",outlined:"","no-error-icon":"","lazy-rules":"",rules:[e=>!!e||"\u8ACB\u8F38\u5165\u5E33\u865F"]},null,8,["modelValue","rules"]),i(D,{modelValue:k(u),"onUpdate:modelValue":r[2]||(r[2]=e=>V(u)?u.value=e:null),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC",dense:"",outlined:"","no-error-icon":"",type:n.value?"password":"text","lazy-rules":"",rules:[e=>!!e||"\u8ACB\u8F38\u5165\u5BC6\u78BC"]},{append:w(()=>[i(te,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[1]||(r[1]=e=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),i(oe,{class:"full-width",size:"1.2em",rounded:"",unelevated:"",color:"primary",loading:k(p),onClick:y},{default:w(()=>[R(" \u767B\u5165 ")]),_:1},8,["loading"]),k(g)!==""?(S(),$(we,{key:0,"inline-actions":"",dense:"",rounded:"",class:"text-red"},{default:w(()=>[R(se(k(g)),1)]),_:1})):O("",!0)]),_:1},512),i(ne,{spaced:"lg"}),i(q,{class:"text-caption text-grey-7"},{default:w(()=>[Se]),_:1})]),_:1})])]),_:1}))}});const qe={class:"flex justify-center items-center",style:{height:"100%"}},$e={class:"col-6 flex justify-center items-center"},Ve=A({name:"Login",__name:"Login",setup(t){const l=ue(),f=ae(),m=B(""),{login:n}=fe(),a=B(!1),s=B({path:"https://assets1.lottiefiles.com/packages/lf20_gzl797gs.json",loop:!0,animationSpeed:1}),u=()=>{a.value=!0},p=re({username:"admin",password:"admin"}),{data:g,isFetching:y,onFetchError:x,onFetchResponse:r,execute:e}=n(p,{immediate:!1}),v=()=>{m.value="",e()};return x(C=>{g.value.errorCode&&(m.value=g.value.message)}),r(C=>{l.setLoginToken(g.value.accessToken),f.push("/")}),(C,_)=>(S(),U("div",qe,[i(be,{class:"wave fit bg-black"}),ie(c("div",$e,[a.value?O("",!0):(S(),$(G,{key:0,type:"text",height:"70%",width:"50%"})),i(de,{path:s.value.path,onIsLottieFinish:u},null,8,["path"])],512),[[le,C.$q.screen.gt.sm]]),i(Le,{username:p.username,"onUpdate:username":_[0]||(_[0]=b=>p.username=b),password:p.password,"onUpdate:password":_[1]||(_[1]=b=>p.password=b),loading:k(y),"onUpdate:loading":_[2]||(_[2]=b=>V(y)?y.value=b:null),onOnLoginClick:v,message:m.value},null,8,["username","password","loading","message"])]))}});var Ne=ve(Ve,[["__scopeId","data-v-d77320aa"]]);export{Ne as default};
