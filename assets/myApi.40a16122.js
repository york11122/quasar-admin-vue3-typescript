import{b as Z,r as F,I as ye,c as G,l as be,t as Oe,g as pe,o as we,ap as ge,w as B,A as J,bu as _e,bx as g}from"./index.5fcf0ea0.js";import{u as Fe}from"./user.5a776853.js";var ae;const ee=typeof window!="undefined",Pe=e=>typeof e!="undefined";ee&&((ae=window==null?void 0:window.navigator)==null?void 0:ae.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function m(e){return typeof e=="function"?e():ye(e)}function se(e,t=!1,n="Timeout"){return new Promise((a,r)=>{setTimeout(t?()=>r(n):a,e)})}function Ee(e){return e}function Te(e,...t){return t.some(n=>n in e)}function K(){const e=[],t=r=>{const o=e.indexOf(r);o!==-1&&e.splice(o,1)};return{on:r=>(e.push(r),{off:()=>t(r)}),off:t,trigger:r=>{e.forEach(o=>o(r))}}}function he(e){return be()?(Oe(e),!0):!1}function q(e){return typeof e=="function"?G(e):F(e)}function Ie(e,t=!0){pe()?we(e):t?e():ge(e)}function Ne(e){let t=!1;function n(s,{flush:d="sync",deep:p=!1,timeout:h,throwOnTimeout:v}={}){let f=null;const C=[new Promise(j=>{f=B(e,$=>{s($)!==t&&(f==null||f(),j($))},{flush:d,deep:p,immediate:!0})})];return h!=null&&C.push(se(h,v).then(()=>m(e)).finally(()=>f==null?void 0:f())),Promise.race(C)}function a(s,d){if(!Z(s))return n($=>$===s,d);const{flush:p="sync",deep:h=!1,timeout:v,throwOnTimeout:f}=d!=null?d:{};let P=null;const j=[new Promise($=>{P=B([e,s],([T,D])=>{t!==(T===D)&&(P==null||P(),$(T))},{flush:p,deep:h,immediate:!0})})];return v!=null&&j.push(se(v,f).then(()=>m(e)).finally(()=>(P==null||P(),m(e)))),Promise.race(j)}function r(s){return n(d=>Boolean(d),s)}function o(s){return a(null,s)}function u(s){return a(void 0,s)}function l(s){return n(Number.isNaN,s)}function c(s,d){return n(p=>{const h=Array.from(p);return h.includes(s)||h.includes(m(s))},d)}function O(s){return _(1,s)}function _(s=1,d){let p=-1;return n(()=>(p+=1,p>=s),d)}return Array.isArray(m(e))?{toMatch:n,toContains:c,changed:O,changedTimes:_,get not(){return t=!t,this}}:{toMatch:n,toBe:a,toBeTruthy:r,toBeNull:o,toBeNaN:l,toBeUndefined:u,changed:O,changedTimes:_,get not(){return t=!t,this}}}function je(e,t,n={}){const{immediate:a=!0}=n,r=F(!1);let o=null;function u(){o&&(clearTimeout(o),o=null)}function l(){r.value=!1,u()}function c(...O){u(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,e(...O)},m(t))}return a&&(r.value=!0,ee&&c()),he(l),{isPending:r,start:c,stop:l}}function Xe(e=!1,t={}){const{truthyValue:n=!0,falsyValue:a=!1}=t,r=Z(e),o=F(e);function u(l){if(arguments.length)return o.value=l,o.value;{const c=m(n);return o.value=o.value===c?m(a):c,o.value}}return r?u:[o,u]}function me(e){var t;const n=m(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ve=ee?window:void 0;function $e(e,t=!1){const n=F(),a=()=>n.value=Boolean(e());return a(),Ie(a,t),n}const X=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Y="__vueuse_ssr_handlers__";X[Y]=X[Y]||{};X[Y];var ue=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Ce=(e,t)=>{var n={};for(var a in e)xe.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&ue)for(var a of ue(e))t.indexOf(a)<0&&Be.call(e,a)&&(n[a]=e[a]);return n};function De(e,t,n={}){const a=n,{window:r=ve}=a,o=Ce(a,["window"]);let u;const l=$e(()=>r&&"ResizeObserver"in r),c=()=>{u&&(u.disconnect(),u=void 0)},O=B(()=>me(e),s=>{c(),l.value&&r&&s&&(u=new ResizeObserver(t),u.observe(s,o))},{immediate:!0,flush:"post"}),_=()=>{c(),O()};return he(_),{isSupported:l,stop:_}}function Ye(e,t={width:0,height:0},n={}){const a=F(t.width),r=F(t.height);return De(e,([o])=>{a.value=o.contentRect.width,r.value=o.contentRect.height},n),B(()=>me(e),o=>{a.value=o?t.width:0,r.value=o?t.height:0}),{width:a,height:r}}var Ae=Object.defineProperty,Se=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,le=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i=(e,t)=>{for(var n in t||(t={}))Ue.call(t,n)&&le(e,n,t[n]);if(ie)for(var n of ie(t))Qe.call(t,n)&&le(e,n,t[n]);return e},x=(e,t)=>Se(e,ke(t));const He={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function W(e){return Te(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function Q(e){return typeof Headers!="undefined"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function S(...e){return t=>(e.forEach(async n=>{n&&(t=i(i({},t),await n(t)))}),t)}function Me(e={}){const t=e.options||{},n=e.fetchOptions||{};function a(r,...o){const u=G(()=>e.baseUrl?Ve(m(e.baseUrl),m(r)):m(r));let l=t,c=n;return o.length>0&&(W(o[0])?l=x(i(i({},l),o[0]),{beforeFetch:S(t.beforeFetch,o[0].beforeFetch),afterFetch:S(t.afterFetch,o[0].afterFetch),onFetchError:S(t.onFetchError,o[0].onFetchError)}):c=x(i(i({},c),o[0]),{headers:i(i({},Q(c.headers)||{}),Q(o[0].headers)||{})})),o.length>1&&W(o[1])&&(l=x(i(i({},l),o[1]),{beforeFetch:S(t.beforeFetch,o[1].beforeFetch),afterFetch:S(t.afterFetch,o[1].afterFetch),onFetchError:S(t.onFetchError,o[1].onFetchError)})),Re(u,c,l)}return a}function Re(e,...t){var n;const a=typeof AbortController=="function";let r={},o={immediate:!0,refetch:!1,timeout:0};const u={method:"GET",type:"text",payload:void 0};t.length>0&&(W(t[0])?o=i(i({},o),t[0]):r=t[0]),t.length>1&&W(t[1])&&(o=i(i({},o),t[1]));const{fetch:l=(n=ve)==null?void 0:n.fetch,initialData:c,timeout:O}=o,_=K(),s=K(),d=K(),p=F(!1),h=F(!1),v=F(!1),f=F(null),P=J(null),C=J(null),j=J(c),$=G(()=>a&&h.value);let T,D;const te=()=>{a&&T&&T.abort()},L=y=>{h.value=y,p.value=!y};O&&(D=je(te,O,{immediate:!1}));const H=async(y=!1)=>{var E;L(!0),C.value=null,f.value=null,v.value=!1,T=void 0,a&&(T=new AbortController,T.signal.onabort=()=>v.value=!0,r=x(i({},r),{signal:T.signal}));const w={method:u.method,headers:{}};if(u.payload){const R=Q(w.headers);u.payloadType&&(R["Content-Type"]=(E=He[u.payloadType])!=null?E:u.payloadType);const V=m(u.payload);w.body=u.payloadType==="json"?JSON.stringify(V):V}let U=!1;const I={url:m(e),options:i(i({},w),r),cancel:()=>{U=!0}};if(o.beforeFetch&&Object.assign(I,await o.beforeFetch(I)),U||!l)return L(!1),Promise.resolve(null);let N=null;return D&&D.start(),new Promise((R,V)=>{var re;l(I.url,x(i(i({},w),I.options),{headers:i(i({},Q(w.headers)),Q((re=I.options)==null?void 0:re.headers))})).then(async b=>{if(P.value=b,f.value=b.status,N=await b[u.type](),o.afterFetch&&f.value>=200&&f.value<300&&({data:N}=await o.afterFetch({data:N,response:b})),j.value=N,!b.ok)throw new Error(b.statusText);return _.trigger(b),R(b)}).catch(async b=>{let oe=b.message||b.name;return o.onFetchError&&({data:N,error:oe}=await o.onFetchError({data:N,error:b,response:P.value})),j.value=N,C.value=oe,s.trigger(b),y?V(b):R(null)}).finally(()=>{L(!1),D&&D.stop(),d.trigger(null)})})},ne=q(o.refetch);B([ne,q(e)],([y])=>y&&H(),{deep:!0});const M={isFinished:p,statusCode:f,response:P,error:C,data:j,isFetching:h,canAbort:$,aborted:v,abort:te,execute:H,onFetchResponse:_.on,onFetchError:s.on,onFetchFinally:d.on,get:A("GET"),put:A("PUT"),post:A("POST"),delete:A("DELETE"),patch:A("PATCH"),head:A("HEAD"),options:A("OPTIONS"),json:k("json"),text:k("text"),blob:k("blob"),arrayBuffer:k("arrayBuffer"),formData:k("formData")};function A(y){return(E,w)=>{if(!h.value){u.method=y,u.payload=E,u.payloadType=w,Z(u.payload)&&B([ne,q(u.payload)],([I])=>I&&H(),{deep:!0});const U=m(u.payload);return!w&&U&&Object.getPrototypeOf(U)===Object.prototype&&(u.payloadType="json"),x(i({},M),{then(I,N){return z().then(I,N)}})}}}function z(){return new Promise((y,E)=>{Ne(p).toBe(!0).then(()=>y(M)).catch(w=>E(w))})}function k(y){return()=>{if(!h.value)return u.type=y,x(i({},M),{then(E,w){return z().then(E,w)}})}}return o.immediate&&setTimeout(H,0),x(i({},M),{then(y,E){return z().then(y,E)}})}function Ve(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}var ce;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ce||(ce={}));var We=Object.defineProperty,fe=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,de=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ze=(e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&de(e,n,t[n]);if(fe)for(var n of fe(t))Le.call(t,n)&&de(e,n,t[n]);return e};const Je={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ze({linear:Ee},Je);function Ze(e,t,n,a={}){var r,o,u;const{passive:l=!1,eventName:c,deep:O=!1,defaultValue:_}=a,s=pe(),d=n||(s==null?void 0:s.emit)||((r=s==null?void 0:s.$emit)==null?void 0:r.bind(s))||((u=(o=s==null?void 0:s.proxy)==null?void 0:o.$emit)==null?void 0:u.bind(s==null?void 0:s.proxy));let p=c;t||(t="modelValue"),p=c||p||`update:${t.toString()}`;const h=()=>Pe(e[t])?e[t]:_;if(l){const v=F(h());return B(()=>e[t],f=>v.value=f),B(v,f=>{(f!==e[t]||O)&&d(p,f)},{deep:O}),v}else return G({get(){return h()},set(v){d(p,v)}})}const et=()=>{const e=Fe();return Me({baseUrl:"https://httpbin.org",options:{async beforeFetch({options:t}){const n=_e.getItem("access_token");return n&&(t.headers={Authorization:`Bearer ${n}`}),{options:t}},afterFetch({data:t,response:n}){return{data:t,response:n}},onFetchError({data:t,error:n,response:a}){const r={message:"unknow error",icon:"warning",color:"warning",position:"top",timeout:1500};switch((n.code==="ECONNABORTED"||n.message.indexOf("timeout")!==-1||n.message==="Network Error")&&(r.message="\u7DB2\u8DEF\u7570\u5E38",g.create(r)),a==null?void 0:a.status){case 401:r.message="(401)\u6B0A\u9650\u4E0D\u8DB3",g.create(r),e.setLogout();break;case 403:r.message="(403)",g.create(r);break;case 404:r.message="(404)",g.create(r);break;case 408:r.message="(408)",g.create(r);break;case 500:r.message="(500)",g.create(r);break;case 501:r.message="(501)",g.create(r);break;case 502:r.message="(502)",g.create(r);break;case 503:r.message="(503)",g.create(r);break;case 504:r.message="(504)",g.create(r);break;case 505:r.message="(505)",g.create(r);break;default:g.create(r);break}return{data:t,error:n}}},fetchOptions:{mode:"cors"}})};export{Ze as a,Ye as b,Me as c,Xe as d,et as u};
