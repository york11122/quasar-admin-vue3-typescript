import{u as Oe,a as Pe}from"./use-dark.ff92aee8.js";import{bV as Me,bW as I,r as g,bM as xe,o as P,bz as Y,g as k,ap as J,as as M,bX as B,h as y,bY as R,w as Ae,bZ as Le,b_ as He,bQ as w,b$ as De,c0 as _,c1 as x,bN as Z,bR as A,c2 as j,c3 as L,bC as Re,c as b,bK as je,au as Fe,aq as Xe,c4 as Ye,b4 as G,bJ as q}from"./index.92fd86a8.js";const ke=[null,document,document.body,document.scrollingElement,document.documentElement];function Be(e,i){let r=Me(i);if(r===void 0){if(e==null)return window;r=e.closest(".scroll,.scroll-y,.overflow-auto")}return ke.includes(r)?window:r}function de(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ve(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function fe(e,i,r=0){const u=arguments[3]===void 0?performance.now():arguments[3],t=de(e);if(r<=0){t!==i&&F(e,i);return}requestAnimationFrame(n=>{const l=n-u,o=t+(i-t)/Math.max(l,r)*l;F(e,o),o!==i&&fe(e,i,r-l,n)})}function he(e,i,r=0){const u=arguments[3]===void 0?performance.now():arguments[3],t=ve(e);if(r<=0){t!==i&&X(e,i);return}requestAnimationFrame(n=>{const l=n-u,o=t+(i-t)/Math.max(l,r)*l;X(e,o),o!==i&&he(e,i,r-l,n)})}function F(e,i){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i);return}e.scrollTop=i}function X(e,i){if(e===window){window.scrollTo(i,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=i}function ee(e,i,r){if(r){fe(e,i,r);return}F(e,i)}function te(e,i,r){if(r){he(e,i,r);return}X(e,i)}let O;function Je(){if(O!==void 0)return O;const e=document.createElement("p"),i=document.createElement("div");I(e,{width:"100%",height:"200px"}),I(i,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),i.appendChild(e),document.body.appendChild(i);const r=e.offsetWidth;i.style.overflow="scroll";let u=e.offsetWidth;return r===u&&(u=i.clientWidth),i.remove(),O=r-u,O}function Ze(e,i=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:i?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}function Ne(){const e=g(!xe.value);return e.value===!1&&P(()=>{e.value=!0}),e}const me=typeof ResizeObserver!="undefined",oe=me===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var ie=Y({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let r=null,u,t={width:-1,height:-1};function n(c){c===!0||e.debounce===0||e.debounce==="0"?l():r===null&&(r=setTimeout(l,e.debounce))}function l(){if(clearTimeout(r),r=null,u){const{offsetWidth:c,offsetHeight:s}=u;(c!==t.width||s!==t.height)&&(t={width:c,height:s},i("resize",t))}}const o=k();if(Object.assign(o.proxy,{trigger:n}),me===!0){let c;return P(()=>{J(()=>{u=o.proxy.$el.parentNode,u&&(c=new ResizeObserver(n),c.observe(u),l())})}),M(()=>{clearTimeout(r),c!==void 0&&(c.disconnect!==void 0?c.disconnect():u&&c.unobserve(u))}),B}else{let p=function(){clearTimeout(r),s!==void 0&&(s.removeEventListener!==void 0&&s.removeEventListener("resize",n,R.passive),s=void 0)},h=function(){p(),u&&u.contentDocument&&(s=u.contentDocument.defaultView,s.addEventListener("resize",n,R.passive),l())};const c=Ne();let s;return P(()=>{J(()=>{u=o.proxy.$el,u&&h()})}),M(p),()=>{if(c.value===!0)return y("object",{style:oe.style,tabindex:-1,type:"text/html",data:oe.url,"aria-hidden":"true",onLoad:h})}}}});const{passive:ne}=R,$e=["both","horizontal","vertical"];var Ve=Y({name:"QScrollObserver",props:{axis:{type:String,validator:e=>$e.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:i}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let u=null,t,n;Ae(()=>e.scrollTarget,()=>{c(),o()});function l(){u!==null&&u();const h=Math.max(0,de(t)),m=ve(t),f={top:h-r.position.top,left:m-r.position.left};if(e.axis==="vertical"&&f.top===0||e.axis==="horizontal"&&f.left===0)return;const z=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";r.position={top:h,left:m},r.directionChanged=r.direction!==z,r.delta=f,r.directionChanged===!0&&(r.direction=z,r.inflectionPoint=r.position),i("scroll",{...r})}function o(){t=Be(n,e.scrollTarget),t.addEventListener("scroll",s,ne),s(!0)}function c(){t!==void 0&&(t.removeEventListener("scroll",s,ne),t=void 0)}function s(h){if(h===!0||e.debounce===0||e.debounce==="0")l();else if(u===null){const[m,f]=e.debounce?[setTimeout(l,e.debounce),clearTimeout]:[requestAnimationFrame(l),cancelAnimationFrame];u=()=>{f(m),u=null}}}const p=k();return P(()=>{n=p.proxy.$el.parentNode,o()}),M(()=>{u!==null&&u(),c()}),Object.assign(p.proxy,{trigger:s,getPosition:()=>r}),B}});const N={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Qe=Object.keys(N);N.all=!0;function re(e){const i={};for(const r of Qe)e[r]===!0&&(i[r]=!0);return Object.keys(i).length===0?N:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}function le(e,i){return i.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof i.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(i.uid)===-1)}function We(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Le.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function H(e,i,r){const u=j(e);let t,n=u.left-i.event.x,l=u.top-i.event.y,o=Math.abs(n),c=Math.abs(l);const s=i.direction;s.horizontal===!0&&s.vertical!==!0?t=n<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?t=l<0?"up":"down":s.up===!0&&l<0?(t="up",o>c&&(s.left===!0&&n<0?t="left":s.right===!0&&n>0&&(t="right"))):s.down===!0&&l>0?(t="down",o>c&&(s.left===!0&&n<0?t="left":s.right===!0&&n>0&&(t="right"))):s.left===!0&&n<0?(t="left",o<c&&(s.up===!0&&l<0?t="up":s.down===!0&&l>0&&(t="down"))):s.right===!0&&n>0&&(t="right",o<c&&(s.up===!0&&l<0?t="up":s.down===!0&&l>0&&(t="down")));let p=!1;if(t===void 0&&r===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,p=!0,t==="left"||t==="right"?(u.left-=n,o=0,n=0):(u.top-=l,c=0,l=0)}return{synthetic:p,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:u,direction:t,isFirst:i.event.isFirst,isFinal:r===!0,duration:Date.now()-i.event.time,distance:{x:o,y:c},offset:{x:n,y:l},delta:{x:u.left-i.event.lastX,y:u.top-i.event.lastY}}}}let Ue=0;var ae=He({name:"touch-pan",beforeMount(e,{value:i,modifiers:r}){if(r.mouse!==!0&&w.has.touch!==!0)return;function u(n,l){r.mouse===!0&&l===!0?Re(n):(r.stop===!0&&A(n),r.prevent===!0&&Z(n))}const t={uid:"qvtp_"+Ue++,handler:i,modifiers:r,direction:re(r),noop:B,mouseStart(n){le(n,t)&&De(n)&&(_(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(le(n,t)){const l=n.target;_(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,l){if(w.is.firefox===!0&&x(e,!0),t.lastEvt=n,l===!0||r.stop===!0){if(t.direction.all!==!0&&(l!==!0||t.modifiers.mouseAllDir!==!0)){const s=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&Z(s),n.cancelBubble===!0&&A(s),Object.assign(s,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:s}}A(n)}const{left:o,top:c}=j(n);t.event={x:o,y:c,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:o,lastY:c}},move(n){if(t.event===void 0)return;const l=j(n),o=l.left-t.event.x,c=l.top-t.event.y;if(o===0&&c===0)return;t.lastEvt=n;const s=t.event.mouse===!0,p=()=>{u(n,s),r.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),We(),t.styleCleanup=f=>{if(t.styleCleanup=void 0,r.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),s===!0){const z=()=>{document.body.classList.remove("no-pointer-events--children")};f!==void 0?setTimeout(()=>{z(),f()},50):z()}else f!==void 0&&f()}};if(t.event.detected===!0){t.event.isFirst!==!0&&u(n,t.event.mouse);const{payload:f,synthetic:z}=H(n,t,!1);f!==void 0&&(t.handler(f)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&p(),t.event.lastX=f.position.left,t.event.lastY=f.position.top,t.event.lastDir=z===!0?void 0:f.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||s===!0&&t.modifiers.mouseAllDir===!0){p(),t.event.detected=!0,t.move(n);return}const h=Math.abs(o),m=Math.abs(c);h!==m&&(t.direction.horizontal===!0&&h>m||t.direction.vertical===!0&&h<m||t.direction.up===!0&&h<m&&c<0||t.direction.down===!0&&h<m&&c>0||t.direction.left===!0&&h>m&&o<0||t.direction.right===!0&&h>m&&o>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,l){if(t.event!==void 0){if(L(t,"temp"),w.is.firefox===!0&&x(e,!1),l===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(H(n===void 0?t.lastEvt:n,t).payload);const{payload:o}=H(n===void 0?t.lastEvt:n,t,!0),c=()=>{t.handler(o)};t.styleCleanup!==void 0?t.styleCleanup(c):c()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};e.__qtouchpan=t,r.mouse===!0&&_(t,"main",[[e,"mousedown","mouseStart",`passive${r.mouseCapture===!0?"Capture":""}`]]),w.has.touch===!0&&_(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const r=e.__qtouchpan;r!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&r.end(),r.handler=i.value),r.direction=re(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),L(i,"main"),L(i,"temp"),w.is.firefox===!0&&x(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete e.__qtouchpan)}});const ue=["vertical","horizontal"],D={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},se={prevent:!0,mouse:!0,mouseAllDir:!0},ce=e=>e>=250?50:Math.ceil(e/5);var Ge=Y({name:"QScrollArea",props:{...Oe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:r}){const u=g(!1),t=g(!1),n=g(!1),l={vertical:g(0),horizontal:g(0)},o={vertical:{ref:g(null),position:g(0),size:g(0)},horizontal:{ref:g(null),position:g(0),size:g(0)}},c=k(),s=Pe(e,c.proxy.$q);let p,h;const m=g(null),f=b(()=>"q-scrollarea"+(s.value===!0?" q-scrollarea--dark":""));o.vertical.percentage=b(()=>{const a=o.vertical.size.value-l.vertical.value;if(a<=0)return 0;const d=q(o.vertical.position.value/a,0,1);return Math.round(d*1e4)/1e4}),o.vertical.thumbHidden=b(()=>(e.visible===null?n.value:e.visible)!==!0&&u.value===!1&&t.value===!1||o.vertical.size.value<=l.vertical.value+1),o.vertical.thumbStart=b(()=>o.vertical.percentage.value*(l.vertical.value-o.vertical.thumbSize.value)),o.vertical.thumbSize=b(()=>Math.round(q(l.vertical.value*l.vertical.value/o.vertical.size.value,ce(l.vertical.value),l.vertical.value))),o.vertical.style=b(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${o.vertical.thumbStart.value}px`,height:`${o.vertical.thumbSize.value}px`})),o.vertical.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.vertical.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),o.horizontal.percentage=b(()=>{const a=o.horizontal.size.value-l.horizontal.value;if(a<=0)return 0;const d=q(o.horizontal.position.value/a,0,1);return Math.round(d*1e4)/1e4}),o.horizontal.thumbHidden=b(()=>(e.visible===null?n.value:e.visible)!==!0&&u.value===!1&&t.value===!1||o.horizontal.size.value<=l.horizontal.value+1),o.horizontal.thumbStart=b(()=>o.horizontal.percentage.value*(l.horizontal.value-o.horizontal.thumbSize.value)),o.horizontal.thumbSize=b(()=>Math.round(q(l.horizontal.value*l.horizontal.value/o.horizontal.size.value,ce(l.horizontal.value),l.horizontal.value))),o.horizontal.style=b(()=>({...e.thumbStyle,...e.horizontalThumbStyle,left:`${o.horizontal.thumbStart.value}px`,width:`${o.horizontal.thumbSize.value}px`})),o.horizontal.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.horizontal.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=b(()=>o.vertical.thumbHidden.value===!0&&o.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),be=[[ae,a=>{W(a,"vertical")},void 0,{vertical:!0,...se}]],pe=[[ae,a=>{W(a,"horizontal")},void 0,{horizontal:!0,...se}]];function $(){const a={};return ue.forEach(d=>{const v=o[d];a[d+"Position"]=v.position.value,a[d+"Percentage"]=v.percentage.value,a[d+"Size"]=v.size.value,a[d+"ContainerSize"]=l[d].value}),a}const V=je(()=>{const a=$();a.ref=c.proxy,r("scroll",a)},0);function Q(a,d,v){if(ue.includes(a)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(a==="vertical"?ee:te)(m.value,d,v)}function ge({height:a,width:d}){let v=!1;l.vertical.value!==a&&(l.vertical.value=a,v=!0),l.horizontal.value!==d&&(l.horizontal.value=d,v=!0),v===!0&&C()}function ye({position:a}){let d=!1;o.vertical.position.value!==a.top&&(o.vertical.position.value=a.top,d=!0),o.horizontal.position.value!==a.left&&(o.horizontal.position.value=a.left,d=!0),d===!0&&C()}function ze({height:a,width:d}){o.horizontal.size.value!==d&&(o.horizontal.size.value=d,C()),o.vertical.size.value!==a&&(o.vertical.size.value=a,C())}function W(a,d){const v=o[d];if(a.isFirst===!0){if(v.thumbHidden.value===!0)return;h=v.position.value,t.value=!0}else if(t.value!==!0)return;a.isFinal===!0&&(t.value=!1);const S=D[d],T=l[d].value,Te=(v.size.value-T)/(T-v.thumbSize.value),_e=a.distance[S.dist],qe=h+(a.direction===S.dir?1:-1)*_e*Te;K(qe,d)}function U(a,d){const v=o[d];if(v.thumbHidden.value!==!0){const S=a[D[d].offset];if(S<v.thumbStart.value||S>v.thumbStart.value+v.thumbSize.value){const T=S-v.thumbSize.value/2;K(T/l[d].value*v.size.value,d)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(a.type,a))}}function Se(a){U(a,"vertical")}function we(a){U(a,"horizontal")}function C(){u.value===!0?clearTimeout(p):u.value=!0,p=setTimeout(()=>{u.value=!1},e.delay),e.onScroll!==void 0&&V()}function K(a,d){m.value[D[d].scroll]=a}function Ce(){n.value=!0}function Ee(){n.value=!1}Object.assign(c.proxy,{getScrollTarget:()=>m.value,getScroll:$,getScrollPosition:()=>({top:o.vertical.position.value,left:o.horizontal.position.value}),getScrollPercentage:()=>({top:o.vertical.percentage.value,left:o.horizontal.percentage.value}),setScrollPosition:Q,setScrollPercentage(a,d,v){Q(a,d*(o[a].size.value-l[a].value),v)}});let E=null;return Fe(()=>{E={top:o.vertical.position.value,left:o.horizontal.position.value}}),Xe(()=>{if(E===null)return;const a=m.value;a!==null&&(te(a,E.left),ee(a,E.top))}),M(V.cancel),()=>y("div",{class:f.value,onMouseenter:Ce,onMouseleave:Ee},[y("div",{ref:m,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[y("div",{class:"q-scrollarea__content absolute",style:z.value},Ye(i.default,[y(ie,{debounce:0,onResize:ze})])),y(Ve,{axis:"both",onScroll:ye})]),y(ie,{debounce:0,onResize:ge}),y("div",{class:o.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:Se}),y("div",{class:o.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:we}),G(y("div",{ref:o.vertical.ref,class:o.vertical.thumbClass.value,style:o.vertical.style.value,"aria-hidden":"true"}),be),G(y("div",{ref:o.horizontal.ref,class:o.horizontal.thumbClass.value,style:o.horizontal.style.value,"aria-hidden":"true"}),pe)])}});export{Ge as Q,ae as T,ve as a,de as b,We as c,Je as d,ie as e,Ve as f,Be as g,Ze as h};
