import{ac as l,r as n,c as f,bS as v,o as _,w,a as h,aB as m,a3 as k,L as g,I as y,a1 as E,b3 as V,d as B}from"./index.7940135a.js";import{a as M}from"./user.095a32b8.js";import{T as x,c as C,u as S}from"./fetch.7f9ee169.js";import{P as T}from"./prism-typescript.c6c5edc7.js";import{B as P}from"./BaseContent.e314c0ee.js";import"./user.fe4b5201.js";import"./tagView.a600b68a.js";import"./_commonjsHelpers.825a3ddb.js";import"./QScrollArea.1bd2efc9.js";import"./selection.a8b98b68.js";const R=l({name:"MarkdownEditorToast"}),U=l({...R,props:{modelValue:{default:""},previewOnly:{type:Boolean,default:!1}},emits:["update:modelValue","onSave"],setup(u,{emit:i}){const a=M(u,"modelValue",i),o=n(null),s=n(!1),r=f(()=>`editor-panel-editor ${v.isActive?" toastui-editor-dark":""} `);let e;const c=()=>{e=new x({el:o.value,initialEditType:"wysiwyg",previewStyle:"vertical",height:"100%",events:{change:()=>{a.value=e.getMarkdown()}},plugins:[[C,{highlighter:T}]]})};_(()=>{c()});const p=w(()=>a.value,d=>{!s.value&&d!==e.getMarkdown()&&(e.setMarkdown(d),e.moveCursorToStart(),s.value=!0)});return h(()=>{e.destroy(),p()}),(d,b)=>(m(),k("div",{class:g(y(r)),ref_key:"editorElement",ref:o},null,2))}}),$=l({name:"MDEditor"}),W=l({...$,setup(u){const i=n(),t=n(""),{data:a,onFetchResponse:o}=S("data/md-editor-v3.md").text();return o(s=>{t.value=a.value}),(s,r)=>(m(),E(P,{class:"q-pa-sm"},{default:V(()=>[B(U,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),ref_key:"markdownRef",ref:i,"preview-only":""},null,8,["modelValue"])]),_:1}))}});export{W as default};
