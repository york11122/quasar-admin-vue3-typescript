import{bz as x,g as z,c as r,h as y,bB as M,cj as _e,ck as Oe,r as F,c0 as me,bC as X,bT as He,bR as v,w as le,ch as Re,b7 as Fe,as as he,bZ as Me,c2 as ie,bV as h,cl as Ae}from"./index.454dc290.js";import{u as Y,a as N}from"./use-dark.2aa88f47.js";import{g as Ke,u as Qe,a as De,v as ae,h as We,b as $e,d as Ie,c as Ve,i as je,j as ze,k as Xe,f as Ye,e as Ne,r as se,s as Ue,p as re,l as Ze,m as Ge}from"./position-engine.60a9fa45.js";import{g as Je,a as et,b as tt,h as ot}from"./QScrollArea.e43349d9.js";import{a as nt}from"./focus-manager.387b0375.js";var wt=x({name:"QList",props:{...Y,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const l=z(),n=N(e,l.proxy.$q),i=r(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>y("div",{class:i.value},M(t.default))}});let lt=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,lt=e.scrollLeft>=0,e.remove()}var qt=x({name:"QItem",props:{...Y,..._e,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=z(),i=N(e,n),{hasRouterLink:d,hasLink:s,linkProps:p,linkClass:B,linkTag:T,navigateToRouterLink:f}=Oe(),u=F(null),c=F(null),P=r(()=>e.clickable===!0||s.value===!0||e.tag==="label"),m=r(()=>e.disable!==!0&&P.value===!0),A=r(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(s.value===!0&&e.active===null?B.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),_=r(()=>{if(e.insetLevel===void 0)return null;const a=n.lang.rtl===!0?"Right":"Left";return{["padding"+a]:16+e.insetLevel*56+"px"}});function O(a){m.value===!0&&(c.value!==null&&(a.qKeyEvent!==!0&&document.activeElement===u.value?c.value.focus():document.activeElement===c.value&&u.value.focus()),d.value===!0&&f(a),l("click",a))}function H(a){if(m.value===!0&&me(a,13)===!0){X(a),a.qKeyEvent=!0;const E=new MouseEvent("click",a);E.qKeyEvent=!0,u.value.dispatchEvent(E)}l("keyup",a)}function K(){const a=He(t.default,[]);return m.value===!0&&a.unshift(y("div",{class:"q-focus-helper",tabindex:-1,ref:c})),a}return()=>{const a={ref:u,class:A.value,style:_.value,onClick:O,onKeyup:H};return m.value===!0?(a.tabindex=e.tabindex||"0",Object.assign(a,p.value)):P.value===!0&&(a["aria-disabled"]="true"),y(T.value,a,K())}}}),kt=x({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=r(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>y("div",{class:l.value},M(t.default))}}),pt=x({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=r(()=>parseInt(e.lines,10)),n=r(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),i=r(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>y("div",{style:i.value,class:n.value},M(t.default))}});const g=[];let k;function it(e){k=e.keyCode===27}function at(){k===!0&&(k=!1)}function st(e){k===!0&&(k=!1,me(e,27)===!0&&g[g.length-1](e))}function ge(e){window[e]("keydown",it),window[e]("blur",at),window[e]("keyup",st),k=!1}function rt(e){v.is.desktop===!0&&(g.push(e),g.length===1&&ge("addEventListener"))}function ue(e){const t=g.indexOf(e);t>-1&&(g.splice(t,1),g.length===0&&ge("removeEventListener"))}const b=[];function be(e){b[b.length-1](e)}function ut(e){v.is.desktop===!0&&(b.push(e),b.length===1&&document.body.addEventListener("focusin",be))}function ct(e){const t=b.indexOf(e);t>-1&&(b.splice(t,1),b.length===0&&document.body.removeEventListener("focusin",be))}var Tt=x({name:"QMenu",inheritAttrs:!1,props:{...Ke,...Qe,...Y,...De,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ae},self:{type:String,validator:ae},offset:{type:Array,validator:We},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...$e,"click","escape-key"],setup(e,{slots:t,emit:l,attrs:n}){let i=null,d,s,p;const B=z(),{proxy:T}=B,{$q:f}=T,u=F(null),c=F(!1),P=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=N(e,f),{registerTick:A,removeTick:_}=Ie(),{registerTimeout:O,removeTimeout:H}=Ve(),{transition:K,transitionStyle:a}=je(e,c),{localScrollTarget:E,changeScrollEvent:ye,unconfigureScrollTarget:we}=ze(e,oe),{anchorEl:w,canShow:qe}=Xe({showing:c}),{hide:U}=Ye({showing:c,canShow:qe,handleShow:Le,handleHide:Ce,hideOnRouteChange:P,processOnMount:!0}),{showPortal:Z,hidePortal:G,renderPortal:ke}=Ne(B,u,xe),Q={anchorEl:w,innerRef:u,onClickOutside(o){if(e.persistent!==!0&&c.value===!0)return U(o),(o.type==="touchstart"||o.target.classList.contains("q-dialog__backdrop"))&&X(o),!0}},J=r(()=>re(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),pe=r(()=>e.cover===!0?J.value:re(e.self||"top start",f.lang.rtl)),Te=r(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),Ee=r(()=>e.autoClose===!0?{onClick:Se}:{}),ee=r(()=>c.value===!0&&e.persistent!==!0);le(ee,o=>{o===!0?(rt(W),Ze(Q)):(ue(W),se(Q))});function D(){nt(()=>{let o=u.value;o&&o.contains(document.activeElement)!==!0&&(o=o.querySelector("[autofocus], [data-autofocus]")||o,o.focus({preventScroll:!0}))})}function Le(o){if(_(),H(),i=e.noRefocus===!1?document.activeElement:null,ut(ne),Z(),oe(),d=void 0,o!==void 0&&(e.touchPosition||e.contextMenu)){const $=Re(o);if($.left!==void 0){const{top:Be,left:Pe}=w.value.getBoundingClientRect();d={left:$.left-Pe,top:$.top-Be}}}s===void 0&&(s=le(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,L)),e.noFocus!==!0&&document.activeElement.blur(),A(()=>{L(),e.noFocus!==!0&&D()}),O(()=>{f.platform.is.ios===!0&&(p=e.autoClose,u.value.click()),L(),Z(!0),l("show",o)},e.transitionDuration)}function Ce(o){_(),H(),G(),te(!0),i!==null&&(o===void 0||o.qClickOutside!==!0)&&(i.focus(),i=null),O(()=>{G(!0),l("hide",o)},e.transitionDuration)}function te(o){d=void 0,s!==void 0&&(s(),s=void 0),(o===!0||c.value===!0)&&(ct(ne),we(),se(Q),ue(W)),o!==!0&&(i=null)}function oe(){(w.value!==null||e.scrollTarget!==void 0)&&(E.value=Je(w.value,e.scrollTarget),ye(E.value,L))}function Se(o){p!==!0?(Ge(T,o),l("click",o)):p=!1}function ne(o){ee.value===!0&&e.noFocus!==!0&&Me(u.value,o.target)!==!0&&D()}function W(o){l("escape-key"),U(o)}function L(){const o=u.value;o===null||w.value===null||Ue({el:o,offset:e.offset,anchorEl:w.value,anchorOrigin:J.value,selfOrigin:pe.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function xe(){return y(Fe,{name:K.value,appear:!0},()=>c.value===!0?y("div",{...n,ref:u,tabindex:-1,class:["q-menu q-position-engine scroll"+Te.value,n.class],style:[n.style,a.value],...Ee.value},M(t.default)):null)}return he(te),Object.assign(T,{focus:D,updatePosition:L}),ke}});function Et(e,t,l){let n;function i(){n!==void 0&&(ie.remove(n),n=void 0)}return he(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){n={condition:()=>l.value===!0,handler:t},ie.add(n)}}}let C=0,I,V,S,j=!1,ce,de,q;function dt(e){ft(e)&&X(e)}function ft(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Ae(e),l=e.shiftKey&&!e.deltaX,n=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=l||n?e.deltaY:e.deltaX;for(let d=0;d<t.length;d++){const s=t[d];if(ot(s,n))return n?i<0&&s.scrollTop===0?!0:i>0&&s.scrollTop+s.clientHeight===s.scrollHeight:i<0&&s.scrollLeft===0?!0:i>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function fe(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function R(e){j!==!0&&(j=!0,requestAnimationFrame(()=>{j=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:n}=document.scrollingElement;(S===void 0||t!==window.innerHeight)&&(S=l-t,document.scrollingElement.scrollTop=n),n>S&&(document.scrollingElement.scrollTop-=Math.ceil((n-S)/8))}))}function ve(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:i}=window.getComputedStyle(t);I=et(window),V=tt(window),ce=t.style.left,de=t.style.top,t.style.left=`-${I}px`,t.style.top=`-${V}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,v.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",R,h.passiveCapture),window.visualViewport.addEventListener("scroll",R,h.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",fe,h.passiveCapture))}v.is.desktop===!0&&v.is.mac===!0&&window[`${e}EventListener`]("wheel",dt,h.notPassive),e==="remove"&&(v.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",R,h.passiveCapture),window.visualViewport.removeEventListener("scroll",R,h.passiveCapture)):window.removeEventListener("scroll",fe,h.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=ce,t.style.top=de,window.scrollTo(I,V),S=void 0)}function vt(e){let t="add";if(e===!0){if(C++,q!==void 0){clearTimeout(q),q=void 0;return}if(C>1)return}else{if(C===0||(C--,C>0))return;if(t="remove",v.is.ios===!0&&v.is.nativeMobile===!0){clearTimeout(q),q=setTimeout(()=>{ve(t),q=void 0},100);return}}ve(t)}function Lt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,vt(t))}}}export{wt as Q,ut as a,rt as b,ct as c,ue as d,Lt as e,Tt as f,kt as g,pt as h,qt as i,lt as r,Et as u};
