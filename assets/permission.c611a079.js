import{j as f,_ as v,k as E,l as R,m as P,n as k,p as e,b as A,P as O,q as L}from"./index.2f3dbc23.js";import{u as p}from"./user.19fa3a1e.js";import{d as g}from"./tagView.97afa936.js";import{u as V}from"./permission.94859c66.js";import{u as D}from"./user.218ca0e9.js";const I=f("routes",{state:()=>({permissionRoutes:[]}),getters:{getPermissionRoutes(r){return r.permissionRoutes}},actions:{setRoutes(r){this.permissionRoutes=r}}}),T=E({name:"Layout"});function w(r,a,t,o,n,d){const i=R("router-view");return P(),k(i)}var s=v(T,[["render",w]]);const l=[{component:()=>e(()=>import("./Dashboard.fe46b887.js"),["assets/Dashboard.fe46b887.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/eCharts.26bf8269.js","assets/user.218ca0e9.js","assets/user.19fa3a1e.js","assets/tagView.97afa936.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"/",name:"home",meta:{title:"router.home",icon:"home"}},{component:()=>e(()=>import("./Chart.cd5e5091.js"),["assets/Chart.cd5e5091.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/eCharts.26bf8269.js","assets/user.218ca0e9.js","assets/user.19fa3a1e.js","assets/tagView.97afa936.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"/chart",name:"Chart",meta:{title:"router.chart",icon:"insert_chart_outlined"}},{component:()=>e(()=>import("./FitTable.da777795.js"),["assets/FitTable.da777795.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QList.dd1b0979.js","assets/QSelect.6fc12cba.js","assets/position-engine.78dd2e62.js","assets/theme.d79c3fc9.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js"]),path:"/table",name:"FitTable",meta:{title:"router.talbe",icon:"table_view"}},{component:()=>e(()=>import("./Calendar.7dd7cf3a.js"),["assets/Calendar.7dd7cf3a.js","assets/Calendar.eaacd9ae.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"/calendar",name:"Calendar",meta:{title:"router.calendar",icon:"fa-solid fa-calendar-days"}},{component:s,path:"/permission",name:"Permission",meta:{title:"router.permission",icon:"verified_user",isOpen:!0},children:[{component:()=>e(()=>import("./Directive.2a5cf9c9.js"),["assets/Directive.2a5cf9c9.js","assets/QSelect.6fc12cba.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/position-engine.78dd2e62.js","assets/theme.d79c3fc9.js","assets/user.19fa3a1e.js","assets/tagView.97afa936.js","assets/app.97d0e03b.js","assets/permission.94859c66.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js"]),path:"directive",name:"Directive",meta:{title:"router.directive",icon:"how_to_reg",keepAlive:!0}},{component:()=>e(()=>import("./Permission.51a16599.js"),["assets/Permission.51a16599.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"router-permission",name:"Permission",meta:{title:"router.routerPermission",icon:"where_to_vote",keepAlive:!0,roles:["admin"]}}]},{component:s,path:"/markdown",name:"markdown",meta:{title:"router.markdown",icon:"fa-brands fa-markdown",keepAlive:!1,isOpen:!0},children:[{component:()=>e(()=>import("./MDViewer.d5017a52.js"),["assets/MDViewer.d5017a52.js","assets/MDViewer.658a86f0.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/fetch.7ceff812.js","assets/fetch.0a895612.css","assets/_commonjsHelpers.4e997714.js","assets/user.218ca0e9.js","assets/user.19fa3a1e.js","assets/tagView.97afa936.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"md-viewer",name:"MDViewer",meta:{title:"router.markdownViewer",icon:"article",keepAlive:!0}},{component:()=>e(()=>import("./MDEditor.5ca5b79a.js"),["assets/MDEditor.5ca5b79a.js","assets/MDEditor.cd1283db.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/user.218ca0e9.js","assets/user.19fa3a1e.js","assets/tagView.97afa936.js","assets/fetch.7ceff812.js","assets/fetch.0a895612.css","assets/_commonjsHelpers.4e997714.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"md-editor",name:"MDEditor",meta:{title:"router.markdownEditor",icon:"edit_note",keepAlive:!0}}]},{component:()=>e(()=>import("./Lottie.149d403b.js"),["assets/Lottie.149d403b.js","assets/QSkeleton.8756eb9e.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QSlider.fefe33d7.js","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js","assets/QTooltip.67b6ffb1.js","assets/position-engine.78dd2e62.js","assets/LottieWeb.ab6a86ff.js","assets/_commonjsHelpers.4e997714.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css"]),path:"/lottie",name:"Lottie",meta:{title:"router.lottie",icon:"animation",keepAlive:!1,roles:["admin"]}},{component:s,path:"/menu1",name:"menu1",meta:{title:"router.menu1",icon:"filter_1",isOpen:!1},children:[{component:s,path:"menu2",name:"menu2",meta:{title:"router.menu2",icon:"filter_2"},children:[{component:()=>e(()=>import("./ExpansionMenu.a7673925.js"),["assets/ExpansionMenu.a7673925.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"menu3",name:"menu3",meta:{title:"router.menu3",icon:"filter_3"}}]}]},{component:s,path:"/externalLink",name:"externalLink",meta:{title:"router.externalLink",icon:"description",isOpen:!1},children:[{component:()=>e(()=>import("./TypeScript.877bb6b2.js"),["assets/TypeScript.877bb6b2.js","assets/Iframe.4bb3d5ae.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QSkeleton.8756eb9e.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"ts",name:"TypeScript",meta:{title:"router.typeScript",icon:"fa-brands fa-js"}},{component:()=>e(()=>import("./Vite.eca1ea9f.js"),["assets/Vite.eca1ea9f.js","assets/Iframe.4bb3d5ae.js","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QSkeleton.8756eb9e.js","assets/BaseContent.8ff51c25.js","assets/BaseContent.0426fe13.css","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js"]),path:"vite",name:"Vite",meta:{title:"router.vite",icon:"fa-solid fa-file-code"}},{path:"https://vuejs.org/",name:"Vue3",meta:{title:"router.vue3",icon:"fa-brands fa-vuejs"}},{path:"https://quasar.dev/",name:"Quasar",meta:{title:"router.quasar",icon:"fa-solid fa-file-code"}}]}],c=[{component:()=>e(()=>import("./MainLayout.285ae56c.js"),["assets/MainLayout.285ae56c.js","assets/MainLayout.9cfd8973.css","assets/index.2f3dbc23.js","assets/index.dd398ff6.css","assets/QList.dd1b0979.js","assets/QScrollArea.ecc33d4f.js","assets/theme.d79c3fc9.js","assets/keep-alive.4e0bbd4e.js","assets/tagView.97afa936.js","assets/app.97d0e03b.js","assets/QSelect.6fc12cba.js","assets/position-engine.78dd2e62.js","assets/QTooltip.67b6ffb1.js","assets/QSlider.fefe33d7.js","assets/user.19fa3a1e.js","assets/ToolbarTitle.a1603d14.js","assets/vue-i18n.runtime.esm-bundler.1dcb1caa.js","assets/user.218ca0e9.js","assets/permission.94859c66.js"]),path:"/",name:"index",redirect:"/",children:l}];function _(r){p();const{hasPermission:a}=V();let t=r.filter(o=>{var n;return!((n=o.meta)!=null&&n.roles)||o.meta.roles.length===0?!0:a(o.meta.roles)});for(const o in t)t[o].children&&(t[o].children=_(t[o].children));return t}var b=A(async({router:r})=>{const a=I(),t=p(),{me:o}=D();r.beforeEach(async(n,d,i)=>{if(O.getItem("access_token"))if(n.path==="/login"&&i({path:"/"}),t.getUserRoles.length>0&&a.getPermissionRoutes.length)i();else{if(t.getUserRoles.length<=0){const{data:u,error:h}=await o();h.value||t.setUserInfo(u.value)}const m=g(l);c[0].children=_(m),a.setRoutes(c);for(let u of c)r.addRoute(u);i({...n,replace:!0})}else L.some(m=>m.path===n.path)?i():i({path:"/login"})})}),q=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{q as p,I as u};
