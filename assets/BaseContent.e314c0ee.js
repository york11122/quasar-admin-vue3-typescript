import{i as $,c8 as p,cb as B,c as f,g as Q,bD as A,h as _,bA as I,cc as w,ac as q,cd as T,r as x,o as F,bv as h,a as O,ar as z,av as D,aB as S,a1 as k,b3 as y,I as H,aI as C,d as b,b8 as R,b5 as K,bI as L,bp as j,bt as M}from"./index.7940135a.js";import{Q as N}from"./QScrollArea.1bd2efc9.js";const U={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function V(){const{props:e,proxy:{$q:c}}=Q(),a=$(B,p);if(a===p)return console.error("QPageSticky needs to be child of QLayout"),p;const n=f(()=>{const o=e.position;return{top:o.indexOf("top")>-1,right:o.indexOf("right")>-1,bottom:o.indexOf("bottom")>-1,left:o.indexOf("left")>-1,vertical:o==="top"||o==="bottom",horizontal:o==="left"||o==="right"}}),l=f(()=>a.header.offset),r=f(()=>a.right.offset),i=f(()=>a.footer.offset),s=f(()=>a.left.offset),g=f(()=>{let o=0,u=0;const d=n.value,P=c.lang.rtl===!0?-1:1;d.top===!0&&l.value!==0?u=`${l.value}px`:d.bottom===!0&&i.value!==0&&(u=`${-i.value}px`),d.left===!0&&s.value!==0?o=`${P*s.value}px`:d.right===!0&&r.value!==0&&(o=`${-P*r.value}px`);const v={transform:`translate(${o}, ${u})`};return e.offset&&(v.margin=`${e.offset[1]}px ${e.offset[0]}px`),d.vertical===!0?(s.value!==0&&(v[c.lang.rtl===!0?"right":"left"]=`${s.value}px`),r.value!==0&&(v[c.lang.rtl===!0?"left":"right"]=`${r.value}px`)):d.horizontal===!0&&(l.value!==0&&(v.top=`${l.value}px`),i.value!==0&&(v.bottom=`${i.value}px`)),v}),m=f(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function t(o){const u=A(o.default);return _("div",{class:m.value,style:g.value},e.expand===!0?u:[_("div",u)])}return{$layout:a,getStickyContent:t}}var X=I({name:"QPageSticky",props:U,setup(e,{slots:c}){const{getStickyContent:a}=V();return()=>a(c)}}),Y=I({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:c}){const{proxy:{$q:a}}=Q(),n=$(B,p);if(n===p)return console.error("QPage needs to be a deep child of QLayout"),p;if($(w,p)===p)return console.error("QPage needs to be child of QPageContainer"),p;const r=f(()=>{const s=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const g=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return e.styleFn(s,g)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-s+"px":a.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":a.screen.height-s+"px"}}),i=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>_("main",{class:i.value,style:r.value},A(c.default))}});const E=q({name:"BaseContent"}),G=q({...E,props:{contentActiveStyle:{default:""},scrollable:{type:Boolean,default:!1},padding:{type:Boolean,default:!1}},setup(e){const c={right:"2px",borderRadius:"3px",width:"7px"},a=T(),n=x(null),l=x(""),r=x(!1),i=(t,o=0)=>{var u;(u=n.value)==null||u.setScrollPosition("vertical",t,o)},s=()=>{var t;return(t=n.value)==null?void 0:t.getScrollPosition()},g=t=>{t.verticalPercentage>=.1?r.value=!0:r.value=!1},m=()=>{i(0,300)};return F(()=>{l.value=a.fullPath;const t=h.getItem(l.value);t&&i(t.top)}),O(()=>{h.remove(l.value)}),z(()=>{const t=h.getItem(a.fullPath);t&&i(t.top)}),D(()=>{const t=s();h.set(l.value,t)}),(t,o)=>(S(),k(Y,{class:"fit",padding:e.padding},{default:y(()=>[e.scrollable?(S(),k(H(N),{key:0,ref_key:"scrollArea",ref:n,"thumb-style":c,visible:!1,style:{height:"100%"},"content-active-style":e.contentActiveStyle,onScroll:g},{default:y(()=>[C(t.$slots,"default",{},void 0,!0)]),_:3},8,["content-active-style"])):C(t.$slots,"default",{key:1},void 0,!0),b(X,{position:"bottom-right",offset:[18,18]},{default:y(()=>[b(R,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:y(()=>[K(b(L,{class:"toTopBtn",fab:"",padding:"10px",icon:"expand_less",onClick:m},null,512),[[j,r.value]])]),_:1})]),_:1})]),_:3},8,["padding"]))}});var Z=M(G,[["__scopeId","data-v-21a21914"]]);export{Z as B};
