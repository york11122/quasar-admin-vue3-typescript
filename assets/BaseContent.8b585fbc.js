import{i as P,c8 as x,cd as k,c,g as B,bD as C,h as S,bA as A,ac as $,ce as I,r as y,o as Q,bv as d,a as w,ar as T,av as O,aB as q,a3 as D,d as g,b3 as b,aI as R,b8 as z,b5 as j,bI as E,bp as F,I as K,bt as L}from"./index.a5777cb9.js";import{Q as M}from"./QScrollArea.7e135f11.js";const N={position:{type:String,default:"bottom-right",validator:o=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(o)},offset:{type:Array,validator:o=>o.length===2},expand:Boolean};function U(){const{props:o,proxy:{$q:i}}=B(),a=P(k,x);if(a===x)return console.error("QPageSticky needs to be child of QLayout"),x;const v=c(()=>{const e=o.position;return{top:e.indexOf("top")>-1,right:e.indexOf("right")>-1,bottom:e.indexOf("bottom")>-1,left:e.indexOf("left")>-1,vertical:e==="top"||e==="bottom",horizontal:e==="left"||e==="right"}}),s=c(()=>a.header.offset),l=c(()=>a.right.offset),r=c(()=>a.footer.offset),u=c(()=>a.left.offset),h=c(()=>{let e=0,n=0;const f=v.value,_=i.lang.rtl===!0?-1:1;f.top===!0&&s.value!==0?n=`${s.value}px`:f.bottom===!0&&r.value!==0&&(n=`${-r.value}px`),f.left===!0&&u.value!==0?e=`${_*u.value}px`:f.right===!0&&l.value!==0&&(e=`${-_*l.value}px`);const p={transform:`translate(${e}, ${n})`};return o.offset&&(p.margin=`${o.offset[1]}px ${o.offset[0]}px`),f.vertical===!0?(u.value!==0&&(p[i.lang.rtl===!0?"right":"left"]=`${u.value}px`),l.value!==0&&(p[i.lang.rtl===!0?"left":"right"]=`${l.value}px`)):f.horizontal===!0&&(s.value!==0&&(p.top=`${s.value}px`),r.value!==0&&(p.bottom=`${r.value}px`)),p}),m=c(()=>`q-page-sticky row flex-center fixed-${o.position} q-page-sticky--${o.expand===!0?"expand":"shrink"}`);function t(e){const n=C(e.default);return S("div",{class:m.value,style:h.value},o.expand===!0?n:[S("div",n)])}return{$layout:a,getStickyContent:t}}var V=A({name:"QPageSticky",props:N,setup(o,{slots:i}){const{getStickyContent:a}=U();return()=>a(i)}});const X={class:"main-content"},Y=$({name:"BaseContent"}),G=$({...Y,props:{contentActiveStyle:{default:""}},setup(o){const i={right:"2px",borderRadius:"3px",width:"7px"},a=I(),v=y(null),s=y(""),l=y(!1),r=(t,e=0)=>{var n;(n=v.value)==null||n.setScrollPosition("vertical",t,e)},u=()=>{var t;return(t=v.value)==null?void 0:t.getScrollPosition()},h=t=>{t.verticalPercentage>=.1?l.value=!0:l.value=!1},m=()=>{r(0,300)};return Q(()=>{s.value=a.fullPath;const t=d.getItem(s.value);t&&r(t.top)}),w(()=>{d.remove(s.value)}),T(()=>{const t=d.getItem(a.fullPath);t&&r(t.top)}),O(()=>{const t=u();d.set(s.value,t)}),(t,e)=>(q(),D("div",X,[g(K(M),{ref_key:"scrollArea",ref:v,"thumb-style":i,visible:!1,style:{height:"100%"},"content-active-style":o.contentActiveStyle,onScroll:h},{default:b(()=>[R(t.$slots,"default",{},void 0,!0),g(V,{position:"bottom-right",offset:[18,18]},{default:b(()=>[g(z,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:b(()=>[j(g(E,{class:"toTopBtn",fab:"",padding:"10px",icon:"expand_less",onClick:m},null,512),[[F,l.value]])]),_:1})]),_:1})]),_:3},8,["content-active-style"])]))}});var W=L(G,[["__scopeId","data-v-1e4f1b81"]]);export{W as B};
