import{u as $,c as D,r as T,s as Oe,d as ue,t as Te,v as Ie,g as _e,o as Se,x as xe,w as j,y as ee,P as Ae,N as S}from"./index.15f31975.js";import{u as je}from"./user.65b01987.js";var fe;const Q=typeof window!="undefined",Ne=e=>typeof e!="undefined",Fe=e=>typeof e=="function",te=e=>typeof e=="number",Be=(e,t,n)=>Math.min(n,Math.max(t,e)),de=()=>{};Q&&((fe=window==null?void 0:window.navigator)==null?void 0:fe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e){return typeof e=="function"?e():$(e)}function pe(e,t=!1,n="Timeout"){return new Promise((s,o)=>{setTimeout(t?()=>o(n):s,e)})}function Pe(e){return e}function $e(e,...t){return t.some(n=>n in e)}function K(e){return Te()?(Ie(e),!0):!1}function ne(){const e=[],t=o=>{const u=e.indexOf(o);u!==-1&&e.splice(u,1)};return{on:o=>{e.push(o);const u=()=>t(o);return K(u),{off:u}},off:t,trigger:o=>{e.forEach(u=>u(o))}}}function oe(e){return typeof e=="function"?D(e):T(e)}function De(e,t=!0){_e()?Se(e):t?e():xe(e)}function re(e,t=!1){function n(r,{flush:c="sync",deep:h=!1,timeout:v,throwOnTimeout:O}={}){let b=null;const w=[new Promise(g=>{b=j(e,x=>{r(x)!==t&&(b==null||b(),g(x))},{flush:c,deep:h,immediate:!0})})];return v!=null&&w.push(pe(v,O).then(()=>P(e)).finally(()=>b==null?void 0:b())),Promise.race(w)}function s(r,c){if(!ue(r))return n(x=>x===r,c);const{flush:h="sync",deep:v=!1,timeout:O,throwOnTimeout:b}=c!=null?c:{};let y=null;const g=[new Promise(x=>{y=j([e,r],([p,E])=>{t!==(p===E)&&(y==null||y(),x(p))},{flush:h,deep:v,immediate:!0})})];return O!=null&&g.push(pe(O,b).then(()=>P(e)).finally(()=>(y==null||y(),P(e)))),Promise.race(g)}function o(r){return n(c=>Boolean(c),r)}function u(r){return s(null,r)}function a(r){return s(void 0,r)}function d(r){return n(Number.isNaN,r)}function l(r,c){return n(h=>{const v=Array.from(h);return v.includes(r)||v.includes(P(r))},c)}function f(r){return i(1,r)}function i(r=1,c){let h=-1;return n(()=>(h+=1,h>=r),c)}return Array.isArray(P(e))?{toMatch:n,toContains:l,changed:f,changedTimes:i,get not(){return re(e,!t)}}:{toMatch:n,toBe:s,toBeTruthy:o,toBeNull:u,toBeNaN:d,toBeUndefined:a,changed:f,changedTimes:i,get not(){return re(e,!t)}}}function Ce(e){return re(e)}function Ee(e,t,n={}){const{immediate:s=!0}=n,o=T(!1);let u=null;function a(){u&&(clearTimeout(u),u=null)}function d(){o.value=!1,a()}function l(...f){a(),o.value=!0,u=setTimeout(()=>{o.value=!1,u=null,e(...f)},P(t))}return s&&(o.value=!0,Q&&l()),K(d),{isPending:Oe(o),start:l,stop:d}}function ct(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,o=ue(e),u=T(e);function a(d){if(arguments.length)return u.value=d,u.value;{const l=P(n);return u.value=u.value===l?P(s):l,u.value}}return o?a:[u,a]}function X(e){var t;const n=P(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Y=Q?window:void 0;Q&&window.document;Q&&window.navigator;Q&&window.location;function Ue(e,t=!1){const n=T(),s=()=>n.value=Boolean(e());return s(),De(s,t),n}function Ve(e){return JSON.parse(JSON.stringify(e))}const ae=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},se="__vueuse_ssr_handlers__";ae[se]=ae[se]||{};ae[se];var me=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,ze=(e,t)=>{var n={};for(var s in e)ke.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&me)for(var s of me(e))t.indexOf(s)<0&&Me.call(e,s)&&(n[s]=e[s]);return n};function Re(e,t,n={}){const s=n,{window:o=Y}=s,u=ze(s,["window"]);let a;const d=Ue(()=>o&&"ResizeObserver"in o),l=()=>{a&&(a.disconnect(),a=void 0)},f=j(()=>X(e),r=>{l(),d.value&&o&&r&&(a=new ResizeObserver(t),a.observe(r,u))},{immediate:!0,flush:"post"}),i=()=>{l(),f()};return K(i),{isSupported:d,stop:i}}function Qe(e,t={}){const{immediate:n=!0,window:s=Y}=t,o=T(!1);let u=0,a=null;function d(i){if(!o.value||!s)return;const r=i-u;e({delta:r,timestamp:i}),u=i,a=s.requestAnimationFrame(d)}function l(){!o.value&&s&&(o.value=!0,a=s.requestAnimationFrame(d))}function f(){o.value=!1,a!=null&&s&&(s.cancelAnimationFrame(a),a=null)}return n&&l(),K(f),{isActive:Oe(o),pause:f,resume:l}}function lt(e,t={width:0,height:0},n={}){const{window:s=Y,box:o="content-box"}=n,u=D(()=>{var l,f;return(f=(l=X(e))==null?void 0:l.namespaceURI)==null?void 0:f.includes("svg")}),a=T(t.width),d=T(t.height);return Re(e,([l])=>{const f=o==="border-box"?l.borderBoxSize:o==="content-box"?l.contentBoxSize:l.devicePixelContentBoxSize;if(s&&u.value){const i=X(e);if(i){const r=s.getComputedStyle(i);a.value=parseFloat(r.width),d.value=parseFloat(r.height)}}else if(f){const i=Array.isArray(f)?f:[f];a.value=i.reduce((r,{inlineSize:c})=>r+c,0),d.value=i.reduce((r,{blockSize:c})=>r+c,0)}else a.value=l.contentRect.width,d.value=l.contentRect.height},n),j(()=>X(e),l=>{a.value=l?t.width:0,d.value=l?t.height:0}),{width:a,height:d}}var He=Object.defineProperty,Ge=Object.defineProperties,We=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&he(e,n,t[n]);if(ve)for(var n of ve(t))Le.call(t,n)&&he(e,n,t[n]);return e},V=(e,t)=>Ge(e,We(t));const Xe={json:"application/json",text:"text/plain"};function q(e){return e&&$e(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function qe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function G(e){return typeof Headers!="undefined"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function R(e,...t){return e==="overwrite"?async n=>{const s=t[t.length-1];return s!==void 0&&await s(n),n}:async n=>(await t.reduce((s,o)=>s.then(async()=>{o&&(n=m(m({},n),await o(n)))}),Promise.resolve()),n)}function Ke(e={}){const t=e.combination||"chain",n=e.options||{},s=e.fetchOptions||{};function o(u,...a){const d=D(()=>{const i=P(e.baseUrl),r=P(u);return i&&!qe(r)?Ze(i,r):r});let l=n,f=s;return a.length>0&&(q(a[0])?l=V(m(m({},l),a[0]),{beforeFetch:R(t,n.beforeFetch,a[0].beforeFetch),afterFetch:R(t,n.afterFetch,a[0].afterFetch),onFetchError:R(t,n.onFetchError,a[0].onFetchError)}):f=V(m(m({},f),a[0]),{headers:m(m({},G(f.headers)||{}),G(a[0].headers)||{})})),a.length>1&&q(a[1])&&(l=V(m(m({},l),a[1]),{beforeFetch:R(t,n.beforeFetch,a[1].beforeFetch),afterFetch:R(t,n.afterFetch,a[1].afterFetch),onFetchError:R(t,n.onFetchError,a[1].onFetchError)})),Ye(d,f,l)}return o}function Ye(e,...t){var n;const s=typeof AbortController=="function";let o={},u={immediate:!0,refetch:!1,timeout:0};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(q(t[0])?u=m(m({},u),t[0]):o=t[0]),t.length>1&&q(t[1])&&(u=m(m({},u),t[1]));const{fetch:d=(n=Y)==null?void 0:n.fetch,initialData:l,timeout:f}=u,i=ne(),r=ne(),c=ne(),h=T(!1),v=T(!1),O=T(!1),b=T(null),y=ee(null),w=ee(null),g=ee(l),x=D(()=>s&&v.value);let p,E;const C=()=>{s&&p&&(p.abort(),p=void 0)},U=_=>{v.value=_,h.value=!_};f&&(E=Ee(C,f,{immediate:!1}));const k=async(_=!1)=>{var A;U(!0),w.value=null,b.value=null,O.value=!1,s&&(C(),p=new AbortController,p.signal.onabort=()=>O.value=!0,o=V(m({},o),{signal:p.signal}));const I={method:a.method,headers:{}};if(a.payload){const J=G(I.headers);a.payloadType&&(J["Content-Type"]=(A=Xe[a.payloadType])!=null?A:a.payloadType);const L=P(a.payload);I.body=a.payloadType==="json"?JSON.stringify(L):L}let z=!1;const N={url:P(e),options:m(m({},I),o),cancel:()=>{z=!0}};if(u.beforeFetch&&Object.assign(N,await u.beforeFetch(N)),z||!d)return U(!1),Promise.resolve(null);let B=null;return E&&E.start(),new Promise((J,L)=>{var ce;d(N.url,V(m(m({},I),N.options),{headers:m(m({},G(I.headers)),G((ce=N.options)==null?void 0:ce.headers))})).then(async F=>{if(y.value=F,b.value=F.status,B=await F[a.type](),u.afterFetch&&b.value>=200&&b.value<300&&({data:B}=await u.afterFetch({data:B,response:F})),g.value=B,!F.ok)throw new Error(F.statusText);return i.trigger(F),J(F)}).catch(async F=>{let le=F.message||F.name;return u.onFetchError&&({data:B,error:le}=await u.onFetchError({data:B,error:F,response:y.value})),g.value=B,w.value=le,r.trigger(F),_?L(F):J(null)}).finally(()=>{U(!1),E&&E.stop(),c.trigger(null)})})},ie=oe(u.refetch);j([ie,oe(e)],([_])=>_&&k(),{deep:!0});const W={isFinished:h,statusCode:b,response:y,error:w,data:g,isFetching:v,canAbort:x,aborted:O,abort:C,execute:k,onFetchResponse:i.on,onFetchError:r.on,onFetchFinally:c.on,get:M("GET"),put:M("PUT"),post:M("POST"),delete:M("DELETE"),patch:M("PATCH"),head:M("HEAD"),options:M("OPTIONS"),json:H("json"),text:H("text"),blob:H("blob"),arrayBuffer:H("arrayBuffer"),formData:H("formData")};function M(_){return(A,I)=>{if(!v.value){a.method=_,a.payload=A,a.payloadType=I,ue(a.payload)&&j([ie,oe(a.payload)],([N])=>N&&k(),{deep:!0});const z=P(a.payload);return!I&&z&&Object.getPrototypeOf(z)===Object.prototype&&!(z instanceof FormData)&&(a.payloadType="json"),V(m({},W),{then(N,B){return Z().then(N,B)}})}}}function Z(){return new Promise((_,A)=>{Ce(h).toBe(!0).then(()=>_(W)).catch(I=>A(I))})}function H(_){return()=>{if(!v.value)return a.type=_,V(m({},W),{then(A,I){return Z().then(A,I)}})}}return u.immediate&&setTimeout(k,0),V(m({},W),{then(_,A){return Z().then(_,A)}})}function Ze(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}var ye;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ye||(ye={}));var et=Object.defineProperty,be=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,ge=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))tt.call(t,n)&&ge(e,n,t[n]);if(be)for(var n of be(t))nt.call(t,n)&&ge(e,n,t[n]);return e};const rt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},ft=ot({linear:Pe},rt);function at([e,t,n,s]){const o=(i,r)=>1-3*r+3*i,u=(i,r)=>3*r-6*i,a=i=>3*i,d=(i,r,c)=>((o(r,c)*i+u(r,c))*i+a(r))*i,l=(i,r,c)=>3*o(r,c)*i*i+2*u(r,c)*i+a(r),f=i=>{let r=i;for(let c=0;c<4;++c){const h=l(r,e,n);if(h===0)return r;r-=(d(r,e,n)-i)/h}return r};return i=>e===t&&n===s?i:d(f(i),t,s)}function dt(e,t={}){const{delay:n=0,disabled:s=!1,duration:o=1e3,onFinished:u=de,onStarted:a=de,transition:d=Pe}=t,l=D(()=>{const p=$(d);return Fe(p)?p:at(p)}),f=D(()=>{const p=$(e);return te(p)?p:p.map($)}),i=D(()=>te(f.value)?[f.value]:f.value),r=T(i.value.slice(0));let c,h,v,O,b;const{resume:y,pause:w}=Qe(()=>{const p=Date.now(),E=Be(1-(v-p)/c,0,1);r.value=b.map((C,U)=>{var k;return C+((k=h[U])!=null?k:0)*l.value(E)}),E>=1&&(w(),u())},{immediate:!1}),g=()=>{w(),c=$(o),h=r.value.map((p,E)=>{var C,U;return((C=i.value[E])!=null?C:0)-((U=r.value[E])!=null?U:0)}),b=r.value.slice(0),O=Date.now(),v=O+c,y(),a()},x=Ee(g,n,{immediate:!1});return j(i,()=>{$(s)||($(n)<=0?g():x.start())},{deep:!0}),j(()=>$(s),p=>{p&&(r.value=i.value.slice(0),w())}),D(()=>{const p=$(s)?i:r;return te(f.value)?p.value[0]:p.value})}function st(e,t,n,s={}){var o,u,a;const{clone:d=!1,passive:l=!1,eventName:f,deep:i=!1,defaultValue:r}=s,c=_e(),h=n||(c==null?void 0:c.emit)||((o=c==null?void 0:c.$emit)==null?void 0:o.bind(c))||((a=(u=c==null?void 0:c.proxy)==null?void 0:u.$emit)==null?void 0:a.bind(c==null?void 0:c.proxy));let v=f;t||(t="modelValue"),v=f||v||`update:${t.toString()}`;const O=y=>d?Fe(d)?d(y):Ve(y):y,b=()=>Ne(e[t])?O(e[t]):r;if(l){const y=b(),w=T(y);return j(()=>e[t],g=>w.value=O(g)),j(w,g=>{(g!==e[t]||i)&&h(v,g)},{deep:i}),w}else return D({get(){return b()},set(y){h(v,y)}})}function pt(e,t,n={}){const s={};for(const o in e)s[o]=st(e,o,t,n);return s}const we=Ke({baseUrl:"./",options:{async beforeFetch({options:e}){const t=Ae.getItem("access_token");return t&&(e.headers={Authorization:`Bearer ${t}`}),{options:e}},afterFetch({data:e,response:t}){return{data:e,response:t}},onFetchError({data:e,error:t,response:n}){const s=je(),o={message:"unknow error",icon:"warning",color:"warning"};switch((t.code==="ECONNABORTED"||t.message.indexOf("timeout")!==-1||t.message==="Network Error")&&(o.message="\u7DB2\u8DEF\u7570\u5E38",S.create(o)),t instanceof DOMException&&(o.message=t.message),n==null?void 0:n.status){case 400:o.message="(400)api\u53C3\u6578\u7570\u5E38",S.create(o);break;case 422:break;case 401:o.message="(401)\u6B0A\u9650\u4E0D\u8DB3",s.setLogout();break;case 403:o.message="(403)",S.create(o);break;case 404:o.message="(404)",S.create(o);break;case 408:o.message="(408)",S.create(o);break;case 500:o.message="(500)",S.create(o);break;case 501:o.message="(501)",S.create(o);break;case 502:o.message="(502)",S.create(o);break;case 503:o.message="(503)",S.create(o);break;case 504:o.message="(504)",S.create(o);break;case 505:o.message="(505)",S.create(o);break;default:S.create(o);break}return{data:e,error:t}}},fetchOptions:{mode:"cors"}}),mt=()=>({me:(n={})=>we("/data/mock/me.json",n).json(),login:(n,s={})=>we("/data/mock/login.json",s).json()});export{ft as T,pt as a,dt as b,lt as c,Ke as d,st as e,ct as f,mt as u};
