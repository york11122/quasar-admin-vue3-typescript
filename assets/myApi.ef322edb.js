import{b as ne,r as F,I as C,c as V,l as _e,t as Fe,g as be,o as Pe,ap as Ee,w as B,A as J,bu as Te,bx as T}from"./index.454dc290.js";import{u as Ie}from"./user.9164f33f.js";var le;const re=typeof window!="undefined",Ne=e=>typeof e!="undefined",je=e=>typeof e=="function",K=e=>typeof e=="number",$e=(e,t,n)=>Math.min(n,Math.max(t,e)),ce=()=>{};re&&((le=window==null?void 0:window.navigator)==null?void 0:le.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function O(e){return typeof e=="function"?e():C(e)}function fe(e,t=!1,n="Timeout"){return new Promise((s,r)=>{setTimeout(t?()=>r(n):s,e)})}function Oe(e){return e}function Ae(e,...t){return t.some(n=>n in e)}function Y(){const e=[],t=r=>{const o=e.indexOf(r);o!==-1&&e.splice(o,1)};return{on:r=>(e.push(r),{off:()=>t(r)}),off:t,trigger:r=>{e.forEach(o=>o(r))}}}function oe(e){return _e()?(Fe(e),!0):!1}function Z(e){return typeof e=="function"?V(e):F(e)}function De(e,t=!0){be()?Pe(e):t?e():Ee(e)}function Be(e){let t=!1;function n(a,{flush:l="sync",deep:p=!1,timeout:v,throwOnTimeout:b}={}){let m=null;const N=[new Promise(I=>{m=B(e,j=>{a(j)!==t&&(m==null||m(),I(j))},{flush:l,deep:p,immediate:!0})})];return v!=null&&N.push(fe(v,b).then(()=>O(e)).finally(()=>m==null?void 0:m())),Promise.race(N)}function s(a,l){if(!ne(a))return n(j=>j===a,l);const{flush:p="sync",deep:v=!1,timeout:b,throwOnTimeout:m}=l!=null?l:{};let P=null;const I=[new Promise(j=>{P=B([e,a],([h,_])=>{t!==(h===_)&&(P==null||P(),j(h))},{flush:p,deep:v,immediate:!0})})];return b!=null&&I.push(fe(b,m).then(()=>O(e)).finally(()=>(P==null||P(),O(e)))),Promise.race(I)}function r(a){return n(l=>Boolean(l),a)}function o(a){return s(null,a)}function u(a){return s(void 0,a)}function c(a){return n(Number.isNaN,a)}function f(a,l){return n(p=>{const v=Array.from(p);return v.includes(a)||v.includes(O(a))},l)}function y(a){return i(1,a)}function i(a=1,l){let p=-1;return n(()=>(p+=1,p>=a),l)}return Array.isArray(O(e))?{toMatch:n,toContains:f,changed:y,changedTimes:i,get not(){return t=!t,this}}:{toMatch:n,toBe:s,toBeTruthy:r,toBeNull:o,toBeNaN:c,toBeUndefined:u,changed:y,changedTimes:i,get not(){return t=!t,this}}}function we(e,t,n={}){const{immediate:s=!0}=n,r=F(!1);let o=null;function u(){o&&(clearTimeout(o),o=null)}function c(){r.value=!1,u()}function f(...y){u(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,e(...y)},O(t))}return s&&(r.value=!0,re&&f()),oe(c),{isPending:r,start:f,stop:c}}function rt(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,r=ne(e),o=F(e);function u(c){if(arguments.length)return o.value=c,o.value;{const f=O(n);return o.value=o.value===f?O(s):f,o.value}}return r?u:[o,u]}function ge(e){var t;const n=O(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ae=re?window:void 0;function Se(e,t=!1){const n=F(),s=()=>n.value=Boolean(e());return s(),De(s,t),n}const ee=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},te="__vueuse_ssr_handlers__";ee[te]=ee[te]||{};ee[te];var de=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Ve=(e,t)=>{var n={};for(var s in e)Ce.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&de)for(var s of de(e))t.indexOf(s)<0&&xe.call(e,s)&&(n[s]=e[s]);return n};function ke(e,t,n={}){const s=n,{window:r=ae}=s,o=Ve(s,["window"]);let u;const c=Se(()=>r&&"ResizeObserver"in r),f=()=>{u&&(u.disconnect(),u=void 0)},y=B(()=>ge(e),a=>{f(),c.value&&r&&a&&(u=new ResizeObserver(t),u.observe(a,o))},{immediate:!0,flush:"post"}),i=()=>{f(),y()};return oe(i),{isSupported:c,stop:i}}function Ue(e,t={}){const{immediate:n=!0,window:s=ae}=t,r=F(!1);let o=null;function u(){!r.value||!s||(e(),o=s.requestAnimationFrame(u))}function c(){!r.value&&s&&(r.value=!0,u())}function f(){r.value=!1,o!=null&&s&&(s.cancelAnimationFrame(o),o=null)}return n&&c(),oe(f),{isActive:r,pause:f,resume:c}}function ot(e,t={width:0,height:0},n={}){const s=F(t.width),r=F(t.height);return ke(e,([o])=>{s.value=o.contentRect.width,r.value=o.contentRect.height},n),B(()=>ge(e),o=>{s.value=o?t.width:0,r.value=o?t.height:0}),{width:s,height:r}}var Me=Object.defineProperty,Qe=Object.defineProperties,Re=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))He.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))We.call(t,n)&&he(e,n,t[n]);return e},x=(e,t)=>Qe(e,Re(t));const Ge={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function X(e){return Ae(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function W(e){return typeof Headers!="undefined"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function Q(...e){return t=>(e.forEach(async n=>{n&&(t=d(d({},t),await n(t)))}),t)}function ze(e={}){const t=e.options||{},n=e.fetchOptions||{};function s(r,...o){const u=V(()=>e.baseUrl?Xe(O(e.baseUrl),O(r)):O(r));let c=t,f=n;return o.length>0&&(X(o[0])?c=x(d(d({},c),o[0]),{beforeFetch:Q(t.beforeFetch,o[0].beforeFetch),afterFetch:Q(t.afterFetch,o[0].afterFetch),onFetchError:Q(t.onFetchError,o[0].onFetchError)}):f=x(d(d({},f),o[0]),{headers:d(d({},W(f.headers)||{}),W(o[0].headers)||{})})),o.length>1&&X(o[1])&&(c=x(d(d({},c),o[1]),{beforeFetch:Q(t.beforeFetch,o[1].beforeFetch),afterFetch:Q(t.afterFetch,o[1].afterFetch),onFetchError:Q(t.onFetchError,o[1].onFetchError)})),Le(u,f,c)}return s}function Le(e,...t){var n;const s=typeof AbortController=="function";let r={},o={immediate:!0,refetch:!1,timeout:0};const u={method:"GET",type:"text",payload:void 0};t.length>0&&(X(t[0])?o=d(d({},o),t[0]):r=t[0]),t.length>1&&X(t[1])&&(o=d(d({},o),t[1]));const{fetch:c=(n=ae)==null?void 0:n.fetch,initialData:f,timeout:y}=o,i=Y(),a=Y(),l=Y(),p=F(!1),v=F(!1),b=F(!1),m=F(null),P=J(null),N=J(null),I=J(f),j=V(()=>s&&v.value);let h,_;const k=()=>{s&&h&&h.abort()},S=w=>{v.value=w,p.value=!w};y&&(_=we(k,y,{immediate:!1}));const U=async(w=!1)=>{var $;S(!0),N.value=null,m.value=null,b.value=!1,h=void 0,s&&(h=new AbortController,h.signal.onabort=()=>b.value=!0,r=x(d({},r),{signal:h.signal}));const E={method:u.method,headers:{}};if(u.payload){const z=W(E.headers);u.payloadType&&(z["Content-Type"]=($=Ge[u.payloadType])!=null?$:u.payloadType);const L=O(u.payload);E.body=u.payloadType==="json"?JSON.stringify(L):L}let H=!1;const A={url:O(e),options:d(d({},E),r),cancel:()=>{H=!0}};if(o.beforeFetch&&Object.assign(A,await o.beforeFetch(A)),H||!c)return S(!1),Promise.resolve(null);let D=null;return _&&_.start(),new Promise((z,L)=>{var ue;c(A.url,x(d(d({},E),A.options),{headers:d(d({},W(E.headers)),W((ue=A.options)==null?void 0:ue.headers))})).then(async g=>{if(P.value=g,m.value=g.status,D=await g[u.type](),o.afterFetch&&m.value>=200&&m.value<300&&({data:D}=await o.afterFetch({data:D,response:g})),I.value=D,!g.ok)throw new Error(g.statusText);return i.trigger(g),z(g)}).catch(async g=>{let ie=g.message||g.name;return o.onFetchError&&({data:D,error:ie}=await o.onFetchError({data:D,error:g,response:P.value})),I.value=D,N.value=ie,a.trigger(g),w?L(g):z(null)}).finally(()=>{S(!1),_&&_.stop(),l.trigger(null)})})},se=Z(o.refetch);B([se,Z(e)],([w])=>w&&U(),{deep:!0});const G={isFinished:p,statusCode:m,response:P,error:N,data:I,isFetching:v,canAbort:j,aborted:b,abort:k,execute:U,onFetchResponse:i.on,onFetchError:a.on,onFetchFinally:l.on,get:M("GET"),put:M("PUT"),post:M("POST"),delete:M("DELETE"),patch:M("PATCH"),head:M("HEAD"),options:M("OPTIONS"),json:R("json"),text:R("text"),blob:R("blob"),arrayBuffer:R("arrayBuffer"),formData:R("formData")};function M(w){return($,E)=>{if(!v.value){u.method=w,u.payload=$,u.payloadType=E,ne(u.payload)&&B([se,Z(u.payload)],([A])=>A&&U(),{deep:!0});const H=O(u.payload);return!E&&H&&Object.getPrototypeOf(H)===Object.prototype&&(u.payloadType="json"),x(d({},G),{then(A,D){return q().then(A,D)}})}}}function q(){return new Promise((w,$)=>{Be(p).toBe(!0).then(()=>w(G)).catch(E=>$(E))})}function R(w){return()=>{if(!v.value)return u.type=w,x(d({},G),{then($,E){return q().then($,E)}})}}return o.immediate&&setTimeout(U,0),x(d({},G),{then(w,$){return q().then(w,$)}})}function Xe(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}var me;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(me||(me={}));var qe=Object.defineProperty,ve=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&ye(e,n,t[n]);if(ve)for(var n of ve(t))Ke.call(t,n)&&ye(e,n,t[n]);return e};const Ze={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},at=Ye({linear:Oe},Ze);function et([e,t,n,s]){const r=(i,a)=>1-3*a+3*i,o=(i,a)=>3*a-6*i,u=i=>3*i,c=(i,a,l)=>((r(a,l)*i+o(a,l))*i+u(a))*i,f=(i,a,l)=>3*r(a,l)*i*i+2*o(a,l)*i+u(a),y=i=>{let a=i;for(let l=0;l<4;++l){const p=f(a,e,n);if(p===0)return a;a-=(c(a,e,n)-i)/p}return a};return i=>e===t&&n===s?i:c(y(i),t,s)}function st(e,t={}){const{delay:n=0,disabled:s=!1,duration:r=1e3,onFinished:o=ce,onStarted:u=ce,transition:c=Oe}=t,f=V(()=>{const h=C(c);return je(h)?h:et(h)}),y=V(()=>{const h=C(e);return K(h)?h:h.map(C)}),i=V(()=>K(y.value)?[y.value]:y.value),a=F(i.value.slice(0));let l,p,v,b,m;const{resume:P,pause:N}=Ue(()=>{const h=Date.now(),_=$e(1-(v-h)/l,0,1);a.value=m.map((k,S)=>{var U;return k+((U=p[S])!=null?U:0)*f.value(_)}),_>=1&&(N(),o())},{immediate:!1}),I=()=>{N(),l=C(r),p=a.value.map((h,_)=>{var k,S;return((k=i.value[_])!=null?k:0)-((S=a.value[_])!=null?S:0)}),m=a.value.slice(0),b=Date.now(),v=b+l,P(),u()},j=we(I,n,{immediate:!1});return B(i,()=>{C(s)?a.value=i.value.slice(0):C(n)<=0?I():j.start()},{deep:!0}),V(()=>{const h=C(s)?i:a;return K(y.value)?h.value[0]:h.value})}function ut(e,t,n,s={}){var r,o,u;const{passive:c=!1,eventName:f,deep:y=!1,defaultValue:i}=s,a=be(),l=n||(a==null?void 0:a.emit)||((r=a==null?void 0:a.$emit)==null?void 0:r.bind(a))||((u=(o=a==null?void 0:a.proxy)==null?void 0:o.$emit)==null?void 0:u.bind(a==null?void 0:a.proxy));let p=f;t||(t="modelValue"),p=f||p||`update:${t.toString()}`;const v=()=>Ne(e[t])?e[t]:i;if(c){const b=F(v());return B(()=>e[t],m=>b.value=m),B(b,m=>{(m!==e[t]||y)&&l(p,m)},{deep:y}),b}else return V({get(){return v()},set(b){l(p,b)}})}const it=()=>{const e=Ie();return ze({baseUrl:"https://httpbin.org",options:{async beforeFetch({options:t}){const n=Te.getItem("access_token");return n&&(t.headers={Authorization:`Bearer ${n}`}),{options:t}},afterFetch({data:t,response:n}){return{data:t,response:n}},onFetchError({data:t,error:n,response:s}){const r={message:"unknow error",icon:"warning",color:"warning",position:"top",timeout:1500};switch((n.code==="ECONNABORTED"||n.message.indexOf("timeout")!==-1||n.message==="Network Error")&&(r.message="\u7DB2\u8DEF\u7570\u5E38",T.create(r)),s==null?void 0:s.status){case 401:r.message="(401)\u6B0A\u9650\u4E0D\u8DB3",T.create(r),e.setLogout();break;case 403:r.message="(403)",T.create(r);break;case 404:r.message="(404)",T.create(r);break;case 408:r.message="(408)",T.create(r);break;case 500:r.message="(500)",T.create(r);break;case 501:r.message="(501)",T.create(r);break;case 502:r.message="(502)",T.create(r);break;case 503:r.message="(503)",T.create(r);break;case 504:r.message="(504)",T.create(r);break;case 505:r.message="(505)",T.create(r);break;default:T.create(r);break}return{data:t,error:n}}},fetchOptions:{mode:"cors"}})};export{at as T,ut as a,st as b,ot as c,ze as d,rt as e,it as u};
