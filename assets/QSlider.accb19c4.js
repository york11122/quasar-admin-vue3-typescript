import{B as te,c as l,h as c,aO as Re,D as Fe,r as p,aZ as Ne,a$ as j,ai as Ie,C as Ae,bi as ze,g as ae,aM as L,aL as Ve,b7 as De,bu as Pe,bv as Ee,w as je,K as Ke}from"./index.1847bb47.js";import{T as Qe}from"./QScrollArea.9227f4e2.js";const Oe=["top","middle","bottom"];var et=te({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:a=>Oe.includes(a)}},setup(a,{slots:m}){const y=l(()=>a.align!==void 0?{verticalAlign:a.align}:null),n=l(()=>{const e=a.outline===!0&&a.color||a.textColor;return`q-badge flex inline items-center no-wrap q-badge--${a.multiLine===!0?"multi":"single"}-line`+(a.outline===!0?" q-badge--outline":a.color!==void 0?` bg-${a.color}`:"")+(e!==void 0?` text-${e}`:"")+(a.floating===!0?" q-badge--floating":"")+(a.rounded===!0?" q-badge--rounded":"")+(a.transparent===!0?" q-badge--transparent":"")});return()=>c("div",{class:n.value,style:y.value,role:"status","aria-label":a.label},Re(m.default,a.label!==void 0?[a.label]:[]))}});const ee="q-slider__marker-labels",Ue=a=>({value:a}),We=({marker:a})=>c("div",{key:a.value,style:a.style,class:a.classes},a.label),le=[34,37,40,33,39,38],Xe={...Ae,...ze,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ze=["pan","update:modelValue","change"];function Ge({updateValue:a,updatePosition:m,getDragging:y,formAttrs:n}){const{props:e,emit:B,slots:$,proxy:{$q:v}}=ae(),w=Fe(e,v),N=Pe(n),b=p(!1),M=p(!1),f=p(!1),q=p(!1),d=l(()=>e.vertical===!0?"--v":"--h"),I=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),k=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(v.lang.rtl===!0)),g=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),C=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),s=l(()=>e.disable!==!0&&e.readonly!==!0&&g.value<C.value),h=l(()=>{if(e.step===0)return r=>r;const t=(String(e.step).trim().split(".")[1]||"").length;return r=>parseFloat(r.toFixed(t))}),S=l(()=>e.step===0?1:e.step),re=l(()=>s.value===!0?e.tabindex||0:-1),T=l(()=>e.max-e.min),K=l(()=>C.value-g.value),_=l(()=>z(g.value)),A=l(()=>z(C.value)),R=l(()=>e.vertical===!0?k.value===!0?"bottom":"top":k.value===!0?"right":"left"),Q=l(()=>e.vertical===!0?"height":"width"),ne=l(()=>e.vertical===!0?"width":"height"),O=l(()=>e.vertical===!0?"vertical":"horizontal"),oe=l(()=>{const t={role:"slider","aria-valuemin":g.value,"aria-valuemax":C.value,"aria-orientation":O.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),ue=l(()=>`q-slider q-slider${d.value} q-slider--${b.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(s.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(w.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+d.value:""));function F(t){const r="q-slider__"+t;return`${r} ${r}${d.value} ${r}${d.value}${I.value}`}function U(t){const r="q-slider__"+t;return`${r} ${r}${d.value}`}const se=l(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),ie=l(()=>U("markers")+" absolute overflow-hidden"),ce=l(()=>U("track-container")),ve=l(()=>F("pin")),de=l(()=>F("label")),me=l(()=>F("text-container")),be=l(()=>F("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),fe=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),ge=l(()=>{const t={[ne.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),ke=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),W=l(()=>{const t=A.value-_.value,r={[R.value]:`${100*_.value}%`,[Q.value]:t===0?"2px":`${100*t}%`};return e.innerTrackImg!==void 0&&(r.backgroundImage=`url(${e.innerTrackImg}) !important`),r});function Ce(t){const{min:r,max:o,step:u}=e;let i=r+t*(o-r);if(u>0){const x=(i-g.value)%u;i+=(Math.abs(x)>=u/2?(x<0?-1:1)*u:0)-x}return i=h.value(i),L(i,g.value,C.value)}function z(t){return T.value===0?0:(t-e.min)/T.value}function he(t,r){const o=Ve(t),u=e.vertical===!0?L((o.top-r.top)/r.height,0,1):L((o.left-r.left)/r.width,0,1);return L(k.value===!0?1-u:u,_.value,A.value)}const X=l(()=>Ne(e.markers)===!0?e.markers:S.value),Z=l(()=>{const t=[],r=X.value,o=e.max;let u=e.min;do t.push(u),u+=r;while(u<o);return t.push(o),t}),G=l(()=>{const t=` ${ee}${d.value}-`;return ee+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${k.value===!0?"rtl":"ltr"}`}),V=l(()=>e.markerLabels===!1?null:ye(e.markerLabels).map((t,r)=>({index:r,value:t.value,label:t.label||t.value,classes:G.value+(t.classes!==void 0?" "+t.classes:""),style:{...J(t.value),...t.style||{}}}))),H=l(()=>({markerList:V.value,markerMap:Se.value,classes:G.value,getStyle:J})),xe=l(()=>{const t=K.value===0?"2px":100*X.value/K.value;return{...W.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}});function ye(t){if(t===!1)return null;if(t===!0)return Z.value.map(Ue);if(typeof t=="function")return Z.value.map(o=>{const u=t(o);return j(u)===!0?{...u,value:o}:{value:o,label:u}});const r=({value:o})=>o>=e.min&&o<=e.max;return Array.isArray(t)===!0?t.map(o=>j(o)===!0?o:{value:o}).filter(r):Object.keys(t).map(o=>{const u=t[o],i=Number(o);return j(u)===!0?{...u,value:i}:{value:i,label:u}}).filter(r)}function J(t){return{[R.value]:`${100*(t-e.min)/T.value}%`}}const Se=l(()=>{if(e.markerLabels===!1)return null;const t={};return V.value.forEach(r=>{t[r.value]=r}),t});function pe(){if($["marker-label-group"]!==void 0)return $["marker-label-group"](H.value);const t=$["marker-label"]||We;return V.value.map(r=>t({marker:r,...H.value}))}const $e=l(()=>[[Qe,Me,void 0,{[O.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Me(t){t.isFinal===!0?(q.value!==void 0&&(m(t.evt),t.touch===!0&&a(!0),q.value=void 0,B("pan","end")),b.value=!1,f.value=!1):t.isFirst===!0?(q.value=y(t.evt),m(t.evt),a(),b.value=!0,B("pan","start")):(m(t.evt),a())}function Y(){f.value=!1}function qe(t){m(t,y(t)),a(),M.value=!0,b.value=!0,document.addEventListener("mouseup",D,!0)}function D(){M.value=!1,b.value=!1,a(!0),Y(),document.removeEventListener("mouseup",D,!0)}function Le(t){m(t,y(t)),a(!0)}function Be(t){le.includes(t.keyCode)&&a(!0)}function we(t){if(e.vertical===!0)return null;const r=v.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*r-1} * ${e.thumbSize} / 2 + ${50-100*r}%))`}}function Te(t){const r=l(()=>M.value===!1&&(f.value===t.focusValue||f.value==="both")?" q-slider--focus":""),o=l(()=>`q-slider__thumb q-slider__thumb${d.value} q-slider__thumb${d.value}-${k.value===!0?"rtl":"ltr"} absolute non-selectable`+r.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),u=l(()=>({width:e.thumbSize,height:e.thumbSize,[R.value]:`${100*t.ratio.value}%`,zIndex:f.value===t.focusValue?2:void 0})),i=l(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),x=l(()=>we(t.ratio.value)),P=l(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const E=[c("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[c("path",{d:e.thumbPath})]),c("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(E.push(c("div",{class:ve.value+" absolute fit no-pointer-events"+i.value},[c("div",{class:de.value,style:{minWidth:e.thumbSize}},[c("div",{class:me.value,style:x.value},[c("span",{class:P.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&N(E,"push")),c("div",{class:o.value,style:u.value,...t.getNodeData()},E)}}function _e(t,r,o,u){const i=[];e.innerTrackColor!=="transparent"&&i.push(c("div",{key:"inner",class:ke.value,style:W.value})),e.selectionColor!=="transparent"&&i.push(c("div",{key:"selection",class:se.value,style:t.value})),e.markers!==!1&&i.push(c("div",{key:"marker",class:ie.value,style:xe.value})),u(i);const x=[De("div",{key:"trackC",class:ce.value,tabindex:r.value,...o.value},[c("div",{class:fe.value,style:ge.value},i)],"slide",s.value,()=>$e.value)];if(e.markerLabels!==!1){const P=e.switchMarkerLabelsSide===!0?"unshift":"push";x[P](c("div",{key:"markerL",class:be.value},pe()))}return x}return Ie(()=>{document.removeEventListener("mouseup",D,!0)}),{state:{active:b,focus:f,preventFocus:M,dragging:q,editable:s,classes:ue,tabindex:re,attributes:oe,roundValueFn:h,keyStep:S,trackLen:T,innerMin:g,innerMinRatio:_,innerMax:C,innerMaxRatio:A,positionProp:R,sizeProp:Q,isReversed:k},methods:{onActivate:qe,onMobileClick:Le,onBlur:Y,onKeyup:Be,getContent:_e,getThumbRenderFn:Te,convertRatioToModel:Ce,convertModelToRatio:z,getDraggingRatio:he}}}const He=()=>({});var tt=te({name:"QSlider",props:{...Xe,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:Ze,setup(a,{emit:m}){const{proxy:{$q:y}}=ae(),{state:n,methods:e}=Ge({updateValue:d,updatePosition:k,getDragging:I,formAttrs:Ee(a)}),B=p(null),$=p(0),v=p(0);function w(){v.value=a.modelValue===null?n.innerMin.value:L(a.modelValue,n.innerMin.value,n.innerMax.value)}je(()=>`${a.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,w),w();const N=l(()=>e.convertModelToRatio(v.value)),b=l(()=>n.active.value===!0?$.value:N.value),M=l(()=>{const s={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(b.value-n.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(s.backgroundImage=`url(${a.selectionImg}) !important`),s}),f=e.getThumbRenderFn({focusValue:!0,getNodeData:He,ratio:b,label:l(()=>a.labelValue!==void 0?a.labelValue:v.value),thumbColor:l(()=>a.thumbColor||a.color),labelColor:l(()=>a.labelColor),labelTextColor:l(()=>a.labelTextColor)}),q=l(()=>n.editable.value!==!0?{}:y.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:g,onBlur:e.onBlur,onKeydown:C,onKeyup:e.onKeyup});function d(s){v.value!==a.modelValue&&m("update:modelValue",v.value),s===!0&&m("change",v.value)}function I(){return B.value.getBoundingClientRect()}function k(s,h=n.dragging.value){const S=e.getDraggingRatio(s,h);v.value=e.convertRatioToModel(S),$.value=a.snap!==!0||a.step===0?S:e.convertModelToRatio(v.value)}function g(){n.focus.value=!0}function C(s){if(!le.includes(s.keyCode))return;Ke(s);const h=([34,33].includes(s.keyCode)?10:1)*n.keyStep.value,S=([34,37,40].includes(s.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*h;v.value=L(n.roundValueFn.value(v.value+S),n.innerMin.value,n.innerMax.value),d()}return()=>{const s=e.getContent(M,n.tabindex,q,h=>{h.push(f())});return c("div",{ref:B,class:n.classes.value+(a.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":a.modelValue},s)}}});export{et as Q,tt as a};
