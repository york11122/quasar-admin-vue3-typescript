import{bz as R,g as W,r as x,c as o,bL as Y,w as G,h as w,c0 as H,bD as _,ab as U,aA as I,a2 as J,d as b,b2 as C,bE as X,a3 as Z,I as p,a0 as ee}from"./index.454dc290.js";import{Q as ae}from"./QSpace.8b9d11b3.js";import{Q as z}from"./QInput.8e426293.js";import{u as le,a as te}from"./use-dark.2aa88f47.js";import{Q as O}from"./QTable.4993a28a.js";import{B as ne}from"./BaseContent.73438a82.js";import"./use-key-composition.3536542a.js";import"./QSeparator.d663d29e.js";import"./focus-manager.387b0375.js";import"./use-form.685f47cb.js";import"./use-prevent-scroll.218c91c1.js";import"./position-engine.60a9fa45.js";import"./QScrollArea.e43349d9.js";var ie=R({name:"QPagination",props:{...le,modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:m}){const{proxy:B}=W(),{$q:s}=B,S=te(e,s),f=x(null),d=o({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const t=Y(a,e.min,e.max);e.modelValue!==t&&m("update:modelValue",t)}});G(()=>e.min+e.max,()=>{d.value=e.modelValue});function l(a,t){return[!0,!1].includes(a)?a:t}const n=o(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),i=o(()=>d.value+" / "+e.max),D=o(()=>l(e.boundaryLinks,e.input)),h=o(()=>l(e.boundaryNumbers,!e.input)),E=o(()=>l(e.directionLinks,e.input)),P=o(()=>l(e.ellipses,!e.input)),V=o(()=>{const a=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return s.lang.rtl===!0?a.reverse():a}),T=o(()=>e.disable===!0?{"aria-disabled":"true"}:{}),A=o(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),N=o(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function F(a){d.value=a}function K(a){d.value=d.value+a}function M(){d.value=f.value,f.value=null}function c(a,t){const v={...A.value,...a};return t!==void 0&&(e.toFn!==void 0?v.to=e.toFn(t):v.onClick=()=>F(t)),w(_,v)}return Object.assign(B,{set:F,setByOffset:K}),()=>{const a=[],t=[],v=[];if(D.value&&(a.push(c({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:V.value[0]},e.min)),t.unshift(c({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:V.value[3]},e.max))),E.value&&(a.push(c({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:V.value[1]},e.modelValue-1)),t.unshift(c({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:V.value[2]},e.modelValue+1))),e.input===!0)v.push(w(z,{class:"inline",style:{width:`${i.value.length/1.5}em`},type:"number",dense:!0,value:f.value,disable:e.disable,dark:S.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:i.value,min:e.min,max:e.max,"onUpdate:modelValue"(r){f.value=r},onKeyup(r){H(r,13)===!0&&M()},onBlur:M}));else{let r=Math.max(e.maxPages,1+(P.value?2:0)+(h.value?2:0)),g=e.min,y=e.max,Q=!1,q=!1,L=!1,j=!1;e.maxPages&&r<e.max-e.min+1&&(r=1+Math.floor(r/2)*2,g=Math.max(e.min,Math.min(e.max-r+1,e.modelValue-Math.floor(r/2))),y=Math.min(e.max,g+r-1),h.value&&(L=!0,g+=1),P.value&&g>e.min+(h.value?1:0)&&(Q=!0,g+=1),h.value&&(j=!0,y-=1),P.value&&y<e.max-(h.value?1:0)&&(q=!0,y-=1));const k={minWidth:`${Math.max(2,String(e.max).length)}em`};if(L){const u=e.min===e.modelValue;a.push(c({key:"bns",style:k,disable:e.disable,flat:!u,label:e.min,...u?N.value:{}},e.min))}if(j){const u=e.max===e.modelValue;t.unshift(c({key:"bne",style:k,disable:e.disable,flat:!u,label:e.max,...u?N.value:{}},e.max))}Q&&a.push(c({key:"bes",style:k,disable:e.disable,label:"\u2026",ripple:!1},g-1)),q&&t.unshift(c({key:"bee",style:k,disable:e.disable,label:"\u2026",ripple:!1},y+1));for(let u=g;u<=y;u++){const $={key:`bpg${u}`,style:k,disable:e.disable,label:u};u===e.modelValue&&Object.assign($,N.value),v.push(c($,u))}}return w("div",{class:n.value,...T.value},[a,w("div",{class:"row justify-center"},[v]),t])}}});const ue={key:0,class:"q-pa-sm fit"},oe={class:"full-width row justify-center"},de=U({name:"FitTable"}),Se=U({...de,setup(e){const m=x({sortBy:"desc",descending:!1,page:1,rowsPerPage:100}),B=o(()=>Math.ceil(d.value.length/m.value.rowsPerPage)),s=x(""),S=x([]),f=x([{name:"name",required:!0,label:"Dessert (100g serving)",align:"left",field:l=>l.name,format:l=>`${l}`,sortable:!0},{name:"calories",align:"center",label:"Calories",field:"calories",sortable:!0},{name:"fat",label:"Fat (g)",field:"fat",sortable:!0},{name:"carbs",label:"Carbs (g)",field:"carbs"},{name:"protein",label:"Protein (g)",field:"protein"},{name:"sodium",label:"Sodium (mg)",field:"sodium"},{name:"calcium",label:"Calcium (%)",field:"calcium",sortable:!0},{name:"iron",label:"Iron (%)",field:"iron",sortable:!0}]),d=x([]);for(let l=0;l<500;l++)d.value.push({name:"Frozen Yogurt "+l,calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"});return(l,n)=>l.$q.screen.gt.xs?(I(),J("div",ue,[b(O,{class:"fit sticky-header-table",selection:"multiple",selected:S.value,"onUpdate:selected":n[2]||(n[2]=i=>S.value=i),dense:l.$q.screen.lt.md,separator:"cell",flat:"",bordered:"",rows:d.value,filter:s.value,columns:f.value,"row-key":"name",pagination:m.value,"onUpdate:pagination":n[3]||(n[3]=i=>m.value=i)},{top:C(()=>[b(_,{color:"primary",label:"Add row"}),b(_,{class:"q-ml-sm",color:"primary",label:"Remove row"}),b(ae),b(z,{dense:"",outlined:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=i=>s.value=i)},{append:C(()=>[b(X,{name:"search"})]),_:1},8,["modelValue"])]),bottom:C(()=>[Z("div",oe,[b(ie,{modelValue:m.value.page,"onUpdate:modelValue":n[1]||(n[1]=i=>m.value.page=i),input:"",max:p(B)},null,8,["modelValue","max"])])]),_:1},8,["selected","dense","rows","filter","columns","pagination"])])):(I(),ee(ne,{key:1},{default:C(()=>[b(O,{grid:"",flat:"",bordered:"",rows:d.value,columns:f.value,"row-key":"name",pagination:m.value,"onUpdate:pagination":n[4]||(n[4]=i=>m.value=i)},null,8,["rows","columns","pagination"])]),_:1}))}});export{Se as default};
