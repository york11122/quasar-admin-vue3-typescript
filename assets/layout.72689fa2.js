import{b as f,z as l,q as o,P as h}from"./index.0984c3c0.js";import{u as g}from"./tagView.c294302f.js";import{u as d,a as p}from"./keep-alive.5d257f58.js";var V=f(async({router:e})=>{const a=g(),s=d(),n=p();e.beforeEach((t,c)=>{var m;if(l.stop(),l.start(),t.name!=null){for(let r=0;r<o.length;r++)if(o[r].path===t.path)return;const i=(m=h.getItem("tagView"))!=null?m:[];a.getTagView.length===0&&i.length!==0?(a.setTagView(i),n.setKeepAliveList(i)):c.fullPath!==t.fullPath&&a.addTagView(t),s.setBreadcurmbs(t.matched,t.query),u(t)}}),e.afterEach(()=>{l.stop()})});function u(e){var a;if(e.matched&&e.matched.length>2)for(let s=0;s<e.matched.length;s++)((a=e.matched[s].components)==null?void 0:a.default.name)==="Layout"&&(e.matched.splice(s,1),u(e))}export{V as default};
