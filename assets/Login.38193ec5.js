import{Q as M}from"./QSkeleton.bb68d31c.js";import{ac as q,aB as F,a3 as T,a4 as m,bA as z,bB as K,bC as H,c as P,h as k,bD as L,g as N,r as w,aD as J,av as W,ar as Z,o as X,bE as Y,bF as R,aq as ee,bG as te,bH as oe,a1 as Q,b3 as _,d as n,bI as j,bJ as U,aa as V,bK as $,I as B,bL as O,b as E,O as se,a2 as G,bM as ae,bN as ne,bt as re,bO as le,v as ie,b5 as ue,bp as de}from"./index.e4387ea1.js";import{u as ce}from"./user.34f42a06.js";import{_ as fe}from"./LottieWeb.3e8bfb86.js";import{_ as me,Q as pe}from"./DarkMode.044891f0.js";import{a as A,u as ve}from"./user.5777acaa.js";import"./tagView.cdc126fe.js";import"./_commonjsHelpers.825a3ddb.js";import"./QTooltip.90e4b6c8.js";import"./position-engine.ac6bac36.js";import"./selection.57a36c23.js";const ge={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"896",width:"967.8852157128662"},_e=m("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1),be={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},he=["stop-color"],ye=["stop-color"],xe=m("g",{opacity:"1"},[m("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1),Ce=q({__name:"CornerBottom",props:{startColor:{default:"#28aff0"},endColor:{default:"#120fc4"}},setup(t){return(i,d)=>(F(),T("svg",ge,[m("defs",null,[_e,m("linearGradient",be,[m("stop",{offset:"0","stop-color":t.startColor,"stop-opacity":"1"},null,8,he),m("stop",{offset:"1","stop-color":t.endColor,"stop-opacity":"1"},null,8,ye)])]),xe]))}});var we=z({name:"QBanner",props:{...K,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:i}){const{proxy:{$q:d}}=N(),c=H(t,d),u=P(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(c.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),r=P(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const s=[k("div",{class:"q-banner__avatar col-auto row items-center self-start"},L(i.avatar)),k("div",{class:"q-banner__content col text-body2"},L(i.default))],p=L(i.action);return p!==void 0&&s.push(k("div",{class:r.value},p)),k("div",{class:u.value+(t.inlineActions===!1&&p!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}}),ke=z({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:i,emit:d}){const c=N(),u=w(null);let r=0;const s=[];function p(e){const g=typeof e=="boolean"?e:t.noErrorFocus!==!0,x=++r,b=(o,f)=>{d("validation"+(o===!0?"Success":"Error"),f)},C=o=>{const f=o.validate();return typeof f.then=="function"?f.then(h=>({valid:h,comp:o}),h=>({valid:!1,comp:o,err:h})):Promise.resolve({valid:f,comp:o})};return(t.greedy===!0?Promise.all(s.map(C)).then(o=>o.filter(f=>f.valid!==!0)):s.reduce((o,f)=>o.then(()=>C(f).then(h=>{if(h.valid===!1)return Promise.reject(h)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return x===r&&b(!0),!0;if(x===r){const{comp:f,err:h}=o[0];if(h!==void 0&&console.error(h),b(!1,f),g===!0){const I=o.find(({comp:D})=>typeof D.focus=="function"&&Y(D.$)===!1);I!==void 0&&I.comp.focus()}}return!1})}function v(){r++,s.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function y(e){e!==void 0&&R(e);const g=r+1;p().then(x=>{g===r&&x===!0&&(t.onSubmit!==void 0?d("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function a(e){e!==void 0&&R(e),d("reset"),ee(()=>{v(),t.autofocus===!0&&t.noResetFocus!==!0&&l()})}function l(){te(()=>{if(u.value===null)return;const e=u.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),g=>g.tabIndex>-1);e!=null&&e.focus({preventScroll:!0})})}J(oe,{bindComponent(e){s.push(e)},unbindComponent(e){const g=s.indexOf(e);g>-1&&s.splice(g,1)}});let S=!1;return W(()=>{S=!0}),Z(()=>{S===!0&&t.autofocus===!0&&l()}),X(()=>{t.autofocus===!0&&l()}),Object.assign(c.proxy,{validate:p,resetValidation:v,submit:y,reset:a,focus:l,getValidationComponents:()=>s}),()=>k("form",{class:"q-form",ref:u,onSubmit:y,onReset:a},L(i.default))}});const Be={class:"absolute-top-left q-pa-md"},Fe={class:"col flex justify-center items-center q-pa-md"},qe=m("span",null,"some descriptions",-1),Se=q({name:"Login"}),Le=q({...Se,props:{username:{default:""},password:{default:""},loading:{type:Boolean,default:!1},message:{default:""}},emits:["update:username","update:password","update:loading","onLoginClick"],setup(t,{emit:i}){const d=t,c=w(!0),u=w(null),r=A(d,"username",i),s=A(d,"password",i),p=A(d,"loading",i),v=async()=>{var a;await((a=u.value)==null?void 0:a.validate())&&i("onLoginClick")};return(y,a)=>(F(),Q(ne,{flat:"",class:"row",style:{"border-radius":"20px",width:"85%","max-width":"400px"}},{default:_(()=>[m("div",Be,[n(me)]),m("div",Fe,[n($,null,{default:_(()=>[n(j,{flat:""},{default:_(()=>[n(U,{name:"fa-solid fa-shield-dog",size:"30px"}),n(pe,{shrink:"",class:"text-weight-bold"},{default:_(()=>[V(" Windripple ")]),_:1})]),_:1})]),_:1}),n($,{align:"center",class:"fit q-gutter-y-sm"},{default:_(()=>[n(B(ke),{ref_key:"loginForm",ref:u,class:"custom-form-error-message"},{default:_(()=>[n(O,{modelValue:B(r),"onUpdate:modelValue":a[0]||(a[0]=l=>E(r)?r.value=l:null),placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F",dense:"",clearable:"",outlined:"","no-error-icon":"","lazy-rules":"",rules:[l=>!!l||"\u8ACB\u8F38\u5165\u5E33\u865F"]},null,8,["modelValue","rules"]),n(O,{modelValue:B(s),"onUpdate:modelValue":a[2]||(a[2]=l=>E(s)?s.value=l:null),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC",dense:"",outlined:"","no-error-icon":"",type:c.value?"password":"text","lazy-rules":"",rules:[l=>!!l||"\u8ACB\u8F38\u5165\u5BC6\u78BC"]},{append:_(()=>[n(U,{name:c.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=l=>c.value=!c.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),n(j,{class:"full-width",size:"1.2em",rounded:"",unelevated:"",color:"primary",loading:B(p),onClick:v},{default:_(()=>[V(" \u767B\u5165 ")]),_:1},8,["loading"]),t.message!==""?(F(),Q(we,{key:0,"inline-actions":"",dense:"",rounded:"",class:"text-red"},{default:_(()=>[V(se(t.message),1)]),_:1})):G("",!0)]),_:1},512),n(ae,{spaced:"lg"}),n($,{class:"text-caption text-grey-7"},{default:_(()=>[qe]),_:1})]),_:1})])]),_:1}))}});const Ve={class:"flex justify-center items-center",style:{height:"100%"}},$e={class:"col-6 flex justify-center items-center"},Ae=q({name:"Login"}),Qe=q({...Ae,setup(t){const i=ce(),d=le(),c=w(""),{login:u}=ve(),r=w(!1),s=w({path:"https://assets1.lottiefiles.com/packages/lf20_gzl797gs.json",loop:!0,animationSpeed:1}),p=()=>{r.value=!0},v=ie({username:"admin",password:"admin"}),{data:y,isFetching:a,onFetchError:l,onFetchResponse:S,execute:e}=u(v,{immediate:!1}),g=()=>{c.value="",e()};return l(x=>{y.value.errorCode&&(c.value=y.value.message)}),S(x=>{i.setLoginToken(y.value.accessToken),d.push("/")}),(x,b)=>(F(),T("div",Ve,[n(Ce,{class:"wave fit bg-black"}),ue(m("div",$e,[r.value?G("",!0):(F(),Q(M,{key:0,type:"text",height:"70%",width:"50%"})),n(fe,{path:s.value.path,onIsLottieFinish:p},null,8,["path"])],512),[[de,x.$q.screen.gt.sm]]),n(Le,{username:v.username,"onUpdate:username":b[0]||(b[0]=C=>v.username=C),password:v.password,"onUpdate:password":b[1]||(b[1]=C=>v.password=C),loading:B(a),"onUpdate:loading":b[2]||(b[2]=C=>E(a)?a.value=C:null),onOnLoginClick:g,message:c.value},null,8,["username","password","loading","message"])]))}});var Me=re(Qe,[["__scopeId","data-v-0601d2c0"]]);export{Me as default};
