import{Q as G}from"./QSkeleton.8756eb9e.js";import{k as q,m as S,A as U,B as m,C as j,D as M,E as N,c as I,h as F,G as L,g as z,r as B,H as T,I as K,o as Z,J as H,K as P,x as J,L as W,M as X,O as Y,n as V,Q as w,S as ee,f as r,U as $,u as k,V as D,d as A,W as te,X as oe,Y as R,Z as se,$ as O,a0 as ne,_ as ae,a1 as re,a2 as ie,a3 as le,a4 as ue}from"./index.2f3dbc23.js";import{u as de}from"./user.19fa3a1e.js";import{_ as ce}from"./LottieWeb.ab6a86ff.js";import{a as fe,u as me}from"./user.218ca0e9.js";import{_ as pe,a as ve}from"./ToolbarTitle.a1603d14.js";import"./tagView.97afa936.js";import"./_commonjsHelpers.4e997714.js";import"./QTooltip.67b6ffb1.js";import"./position-engine.78dd2e62.js";import"./theme.d79c3fc9.js";const _e={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"896",width:"967.8852157128662"},ge=m("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1),he={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ye=["stop-color"],xe=["stop-color"],Ce=m("g",{opacity:"1"},[m("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1),be=q({__name:"CornerBottom",props:{startColor:{default:"#28aff0"},endColor:{default:"#120fc4"}},setup(t){return(d,p)=>(S(),U("svg",_e,[m("defs",null,[ge,m("linearGradient",he,[m("stop",{offset:"0","stop-color":t.startColor,"stop-opacity":"1"},null,8,ye),m("stop",{offset:"1","stop-color":t.endColor,"stop-opacity":"1"},null,8,xe)])]),Ce]))}});var we=j({name:"QBanner",props:{...M,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:d}){const{proxy:{$q:p}}=z(),u=N(t,p),i=I(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),a=I(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const s=[F("div",{class:"q-banner__avatar col-auto row items-center self-start"},L(d.avatar)),F("div",{class:"q-banner__content col text-body2"},L(d.default))],v=L(d.action);return v!==void 0&&s.push(F("div",{class:a.value},v)),F("div",{class:i.value+(t.inlineActions===!1&&v!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}}),ke=j({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:d,emit:p}){const u=z(),i=B(null);let a=0;const s=[];function v(e){const _=typeof e=="boolean"?e:t.noErrorFocus!==!0,C=++a,g=(o,f)=>{p("validation"+(o===!0?"Success":"Error"),f)},b=o=>{const f=o.validate();return typeof f.then=="function"?f.then(h=>({valid:h,comp:o}),h=>({valid:!1,comp:o,err:h})):Promise.resolve({valid:f,comp:o})};return(t.greedy===!0?Promise.all(s.map(b)).then(o=>o.filter(f=>f.valid!==!0)):s.reduce((o,f)=>o.then(()=>b(f).then(h=>{if(h.valid===!1)return Promise.reject(h)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return C===a&&g(!0),!0;if(C===a){const{comp:f,err:h}=o[0];if(h!==void 0&&console.error(h),g(!1,f),_===!0){const Q=o.find(({comp:E})=>typeof E.focus=="function"&&H(E.$)===!1);Q!==void 0&&Q.comp.focus()}}return!1})}function c(){a++,s.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function y(e){e!==void 0&&P(e);const _=a+1;v().then(C=>{_===a&&C===!0&&(t.onSubmit!==void 0?p("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function x(e){e!==void 0&&P(e),p("reset"),J(()=>{c(),t.autofocus===!0&&t.noResetFocus!==!0&&n()})}function n(){W(()=>{if(i.value===null)return;const e=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),_=>_.tabIndex>-1);e!=null&&e.focus({preventScroll:!0})})}X(Y,{bindComponent(e){s.push(e)},unbindComponent(e){const _=s.indexOf(e);_>-1&&s.splice(_,1)}});let l=!1;return T(()=>{l=!0}),K(()=>{l===!0&&t.autofocus===!0&&n()}),Z(()=>{t.autofocus===!0&&n()}),Object.assign(u.proxy,{validate:v,resetValidation:c,submit:y,reset:x,focus:n,getValidationComponents:()=>s}),()=>F("form",{class:"q-form",ref:i,onSubmit:y,onReset:x},L(d.default))}});const Be={class:"absolute-top-left q-pa-md"},Fe={class:"col flex justify-center items-center q-pa-md"},Se=m("span",null,"some descriptions",-1),qe=q({name:"Login"}),Le=q({...qe,props:{username:{default:""},password:{default:""},loading:{type:Boolean,default:!1},message:{default:""}},emits:["update:username","update:password","update:loading","onLoginClick"],setup(t,{emit:d}){const p=t,u=B(!0),i=B(null),{username:a,password:s,loading:v,message:c}=fe(p,d),y=async()=>{var n;await((n=i.value)==null?void 0:n.validate())&&d("onLoginClick")};return(x,n)=>(S(),V(ee,{flat:"",class:"row",style:{"border-radius":"20px",width:"85%","max-width":"400px"}},{default:w(()=>[m("div",Be,[r(pe)]),m("div",Fe,[r($,null,{default:w(()=>[r(ve,{title:"Quasar Admin",size:"20px"})]),_:1}),r($,{align:"center",class:"fit q-gutter-y-sm"},{default:w(()=>[r(k(ke),{ref_key:"loginForm",ref:i,class:"custom-form-error-message"},{default:w(()=>[r(D,{modelValue:k(a),"onUpdate:modelValue":n[0]||(n[0]=l=>A(a)?a.value=l:null),placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F",dense:"",clearable:"",outlined:"","no-error-icon":"","lazy-rules":"",rules:[l=>!!l||"\u8ACB\u8F38\u5165\u5E33\u865F"]},null,8,["modelValue","rules"]),r(D,{modelValue:k(s),"onUpdate:modelValue":n[2]||(n[2]=l=>A(s)?s.value=l:null),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC",dense:"",outlined:"","no-error-icon":"",type:u.value?"password":"text","lazy-rules":"",rules:[l=>!!l||"\u8ACB\u8F38\u5165\u5BC6\u78BC"]},{append:w(()=>[r(te,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:n[1]||(n[1]=l=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),r(oe,{class:"full-width",size:"1.2em",rounded:"",unelevated:"",color:"primary",loading:k(v),onClick:y},{default:w(()=>[R(" \u767B\u5165 ")]),_:1},8,["loading"]),k(c)!==""?(S(),V(we,{key:0,"inline-actions":"",dense:"",rounded:"",class:"text-red"},{default:w(()=>[R(se(k(c)),1)]),_:1})):O("",!0)]),_:1},512),r(ne,{spaced:"lg"}),r($,{class:"text-caption text-grey-7"},{default:w(()=>[Se]),_:1})]),_:1})])]),_:1}))}});const $e={class:"flex justify-center items-center",style:{height:"100%"}},Ve={class:"col-6 flex justify-center items-center"},Ae=q({name:"Login"}),Qe=q({...Ae,setup(t){const d=de(),p=ue(),u=B(""),{login:i}=me(),a=B(!1),s=B({path:"https://assets1.lottiefiles.com/packages/lf20_gzl797gs.json",loop:!0,animationSpeed:1}),v=()=>{a.value=!0},c=re({username:"admin",password:"admin"}),{data:y,isFetching:x,onFetchError:n,onFetchResponse:l,execute:e}=i(c,{immediate:!1}),_=()=>{u.value="",e()};return n(C=>{y.value.errorCode&&(u.value=y.value.message)}),l(C=>{d.setLoginToken(y.value.accessToken),p.push("/")}),(C,g)=>(S(),U("div",$e,[r(be,{class:"wave fit bg-black"}),ie(m("div",Ve,[a.value?O("",!0):(S(),V(G,{key:0,type:"text",height:"70%",width:"50%"})),r(ce,{path:s.value.path,onIsLottieFinish:v},null,8,["path"])],512),[[le,C.$q.screen.gt.sm]]),r(Le,{username:c.username,"onUpdate:username":g[0]||(g[0]=b=>c.username=b),password:c.password,"onUpdate:password":g[1]||(g[1]=b=>c.password=b),loading:k(x),"onUpdate:loading":g[2]||(g[2]=b=>A(x)?x.value=b:null),onOnLoginClick:_,message:u.value},null,8,["username","password","loading","message"])]))}});var Te=ae(Qe,[["__scopeId","data-v-0601d2c0"]]);export{Te as default};
