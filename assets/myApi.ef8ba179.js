import{b as se,r as E,I as j,c as D,x as ge,l as Te,t as Ee,g as we,o as Ie,aq as Se,w as B,A as Z,bv as xe,by as S}from"./index.5ef4f9c7.js";import{u as Ae}from"./user.bbd5e7e4.js";var fe;const ue=typeof window!="undefined",Be=e=>typeof e!="undefined",_e=e=>typeof e=="function",ee=e=>typeof e=="number",Ne=(e,t,n)=>Math.min(n,Math.max(t,e)),de=()=>{};ue&&((fe=window==null?void 0:window.navigator)==null?void 0:fe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e){return typeof e=="function"?e():j(e)}function pe(e,t=!1,n="Timeout"){return new Promise((s,r)=>{setTimeout(t?()=>r(n):s,e)})}function Fe(e){return e}function $e(e,...t){return t.some(n=>n in e)}function X(e){return Te()?(Ee(e),!0):!1}function te(){const e=[],t=r=>{const u=e.indexOf(r);u!==-1&&e.splice(u,1)};return{on:r=>{e.push(r);const u=()=>t(r);return X(u),{off:u}},off:t,trigger:r=>{e.forEach(u=>u(r))}}}function ne(e){return typeof e=="function"?D(e):E(e)}function je(e,t=!0){we()?Ie(e):t?e():Se(e)}function re(e,t=!1){function n(o,{flush:l="sync",deep:m=!1,timeout:h,throwOnTimeout:w}={}){let y=null;const g=[new Promise(O=>{y=B(e,x=>{o(x)!==t&&(y==null||y(),O(x))},{flush:l,deep:m,immediate:!0})})];return h!=null&&g.push(pe(h,w).then(()=>P(e)).finally(()=>y==null?void 0:y())),Promise.race(g)}function s(o,l){if(!se(o))return n(x=>x===o,l);const{flush:m="sync",deep:h=!1,timeout:w,throwOnTimeout:y}=l!=null?l:{};let b=null;const O=[new Promise(x=>{b=B([e,o],([p,T])=>{t!==(p===T)&&(b==null||b(),x(p))},{flush:m,deep:h,immediate:!0})})];return w!=null&&O.push(pe(w,y).then(()=>P(e)).finally(()=>(b==null||b(),P(e)))),Promise.race(O)}function r(o){return n(l=>Boolean(l),o)}function u(o){return s(null,o)}function a(o){return s(void 0,o)}function d(o){return n(Number.isNaN,o)}function c(o,l){return n(m=>{const h=Array.from(m);return h.includes(o)||h.includes(P(o))},l)}function f(o){return i(1,o)}function i(o=1,l){let m=-1;return n(()=>(m+=1,m>=o),l)}return Array.isArray(P(e))?{toMatch:n,toContains:c,changed:f,changedTimes:i,get not(){return re(e,!t)}}:{toMatch:n,toBe:s,toBeTruthy:r,toBeNull:u,toBeNaN:d,toBeUndefined:a,changed:f,changedTimes:i,get not(){return re(e,!t)}}}function De(e){return re(e)}function Pe(e,t,n={}){const{immediate:s=!0}=n,r=E(!1);let u=null;function a(){u&&(clearTimeout(u),u=null)}function d(){r.value=!1,a()}function c(...f){a(),r.value=!0,u=setTimeout(()=>{r.value=!1,u=null,e(...f)},P(t))}return s&&(r.value=!0,ue&&c()),X(d),{isPending:ge(r),start:c,stop:d}}function ut(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,r=se(e),u=E(e);function a(d){if(arguments.length)return u.value=d,u.value;{const c=P(n);return u.value=u.value===c?P(s):c,u.value}}return r?a:[u,a]}function L(e){var t;const n=P(e);return(t=n==null?void 0:n.$el)!=null?t:n}const K=ue?window:void 0;function Ce(e,t=!1){const n=E(),s=()=>n.value=Boolean(e());return s(),je(s,t),n}function Ue(e){return JSON.parse(JSON.stringify(e))}const oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ae="__vueuse_ssr_handlers__";oe[ae]=oe[ae]||{};oe[ae];var ve=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,ze=(e,t)=>{var n={};for(var s in e)Ve.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ve)for(var s of ve(e))t.indexOf(s)<0&&ke.call(e,s)&&(n[s]=e[s]);return n};function Re(e,t,n={}){const s=n,{window:r=K}=s,u=ze(s,["window"]);let a;const d=Ce(()=>r&&"ResizeObserver"in r),c=()=>{a&&(a.disconnect(),a=void 0)},f=B(()=>L(e),o=>{c(),d.value&&r&&o&&(a=new ResizeObserver(t),a.observe(o,u))},{immediate:!0,flush:"post"}),i=()=>{c(),f()};return X(i),{isSupported:d,stop:i}}function Me(e,t={}){const{immediate:n=!0,window:s=K}=t,r=E(!1);let u=0,a=null;function d(i){if(!r.value||!s)return;const o=i-u;e({delta:o,timestamp:i}),u=i,a=s.requestAnimationFrame(d)}function c(){!r.value&&s&&(r.value=!0,a=s.requestAnimationFrame(d))}function f(){r.value=!1,a!=null&&s&&(s.cancelAnimationFrame(a),a=null)}return n&&c(),X(f),{isActive:ge(r),pause:f,resume:c}}function it(e,t={width:0,height:0},n={}){const{window:s=K,box:r="content-box"}=n,u=D(()=>{var c,f;return(f=(c=L(e))==null?void 0:c.namespaceURI)==null?void 0:f.includes("svg")}),a=E(t.width),d=E(t.height);return Re(e,([c])=>{const f=r==="border-box"?c.borderBoxSize:r==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(s&&u.value){const i=L(e);if(i){const o=s.getComputedStyle(i);a.value=parseFloat(o.width),d.value=parseFloat(o.height)}}else if(f){const i=Array.isArray(f)?f:[f];a.value=i.reduce((o,{inlineSize:l})=>o+l,0),d.value=i.reduce((o,{blockSize:l})=>o+l,0)}else a.value=c.contentRect.width,d.value=c.contentRect.height},n),B(()=>L(e),c=>{a.value=c?t.width:0,d.value=c?t.height:0}),{width:a,height:d}}var Qe=Object.defineProperty,He=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,me=(e,t,n)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&me(e,n,t[n]);if(he)for(var n of he(t))Je.call(t,n)&&me(e,n,t[n]);return e},V=(e,t)=>He(e,Ge(t));const Le={json:"application/json",text:"text/plain"};function q(e){return e&&$e(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function qe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function H(e){return typeof Headers!="undefined"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function M(e,...t){return e==="overwrite"?async n=>{const s=t[t.length-1];return s!==void 0&&await s(n),n}:async n=>(await t.reduce((s,r)=>s.then(async()=>{r&&(n=v(v({},n),await r(n)))}),Promise.resolve()),n)}function Xe(e={}){const t=e.combination||"chain",n=e.options||{},s=e.fetchOptions||{};function r(u,...a){const d=D(()=>{const i=P(e.baseUrl),o=P(u);return i&&!qe(o)?Ye(i,o):o});let c=n,f=s;return a.length>0&&(q(a[0])?c=V(v(v({},c),a[0]),{beforeFetch:M(t,n.beforeFetch,a[0].beforeFetch),afterFetch:M(t,n.afterFetch,a[0].afterFetch),onFetchError:M(t,n.onFetchError,a[0].onFetchError)}):f=V(v(v({},f),a[0]),{headers:v(v({},H(f.headers)||{}),H(a[0].headers)||{})})),a.length>1&&q(a[1])&&(c=V(v(v({},c),a[1]),{beforeFetch:M(t,n.beforeFetch,a[1].beforeFetch),afterFetch:M(t,n.afterFetch,a[1].afterFetch),onFetchError:M(t,n.onFetchError,a[1].onFetchError)})),Ke(d,f,c)}return r}function Ke(e,...t){var n;const s=typeof AbortController=="function";let r={},u={immediate:!0,refetch:!1,timeout:0};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(q(t[0])?u=v(v({},u),t[0]):r=t[0]),t.length>1&&q(t[1])&&(u=v(v({},u),t[1]));const{fetch:d=(n=K)==null?void 0:n.fetch,initialData:c,timeout:f}=u,i=te(),o=te(),l=te(),m=E(!1),h=E(!1),w=E(!1),y=E(null),b=Z(null),g=Z(null),O=Z(c),x=D(()=>s&&h.value);let p,T;const C=()=>{s&&p&&(p.abort(),p=void 0)},U=_=>{h.value=_,m.value=!_};f&&(T=Pe(C,f,{immediate:!1}));const k=async(_=!1)=>{var A;U(!0),g.value=null,y.value=null,w.value=!1,s&&(C(),p=new AbortController,p.signal.onabort=()=>w.value=!0,r=V(v({},r),{signal:p.signal}));const I={method:a.method,headers:{}};if(a.payload){const W=H(I.headers);a.payloadType&&(W["Content-Type"]=(A=Le[a.payloadType])!=null?A:a.payloadType);const J=P(a.payload);I.body=a.payloadType==="json"?JSON.stringify(J):J}let R=!1;const N={url:P(e),options:v(v({},I),r),cancel:()=>{R=!0}};if(u.beforeFetch&&Object.assign(N,await u.beforeFetch(N)),R||!d)return U(!1),Promise.resolve(null);let $=null;return T&&T.start(),new Promise((W,J)=>{var le;d(N.url,V(v(v({},I),N.options),{headers:v(v({},H(I.headers)),H((le=N.options)==null?void 0:le.headers))})).then(async F=>{if(b.value=F,y.value=F.status,$=await F[a.type](),u.afterFetch&&y.value>=200&&y.value<300&&({data:$}=await u.afterFetch({data:$,response:F})),O.value=$,!F.ok)throw new Error(F.statusText);return i.trigger(F),W(F)}).catch(async F=>{let ce=F.message||F.name;return u.onFetchError&&({data:$,error:ce}=await u.onFetchError({data:$,error:F,response:b.value})),O.value=$,g.value=ce,o.trigger(F),_?J(F):W(null)}).finally(()=>{U(!1),T&&T.stop(),l.trigger(null)})})},ie=ne(u.refetch);B([ie,ne(e)],([_])=>_&&k(),{deep:!0});const G={isFinished:m,statusCode:y,response:b,error:g,data:O,isFetching:h,canAbort:x,aborted:w,abort:C,execute:k,onFetchResponse:i.on,onFetchError:o.on,onFetchFinally:l.on,get:z("GET"),put:z("PUT"),post:z("POST"),delete:z("DELETE"),patch:z("PATCH"),head:z("HEAD"),options:z("OPTIONS"),json:Q("json"),text:Q("text"),blob:Q("blob"),arrayBuffer:Q("arrayBuffer"),formData:Q("formData")};function z(_){return(A,I)=>{if(!h.value){a.method=_,a.payload=A,a.payloadType=I,se(a.payload)&&B([ie,ne(a.payload)],([N])=>N&&k(),{deep:!0});const R=P(a.payload);return!I&&R&&Object.getPrototypeOf(R)===Object.prototype&&!(R instanceof FormData)&&(a.payloadType="json"),V(v({},G),{then(N,$){return Y().then(N,$)}})}}}function Y(){return new Promise((_,A)=>{De(m).toBe(!0).then(()=>_(G)).catch(I=>A(I))})}function Q(_){return()=>{if(!h.value)return a.type=_,V(v({},G),{then(A,I){return Y().then(A,I)}})}}return u.immediate&&setTimeout(k,0),V(v({},G),{then(_,A){return Y().then(_,A)}})}function Ye(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}var be;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(be||(be={}));var Ze=Object.defineProperty,ye=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Oe=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nt=(e,t)=>{for(var n in t||(t={}))et.call(t,n)&&Oe(e,n,t[n]);if(ye)for(var n of ye(t))tt.call(t,n)&&Oe(e,n,t[n]);return e};const rt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},lt=nt({linear:Fe},rt);function ot([e,t,n,s]){const r=(i,o)=>1-3*o+3*i,u=(i,o)=>3*o-6*i,a=i=>3*i,d=(i,o,l)=>((r(o,l)*i+u(o,l))*i+a(o))*i,c=(i,o,l)=>3*r(o,l)*i*i+2*u(o,l)*i+a(o),f=i=>{let o=i;for(let l=0;l<4;++l){const m=c(o,e,n);if(m===0)return o;o-=(d(o,e,n)-i)/m}return o};return i=>e===t&&n===s?i:d(f(i),t,s)}function ct(e,t={}){const{delay:n=0,disabled:s=!1,duration:r=1e3,onFinished:u=de,onStarted:a=de,transition:d=Fe}=t,c=D(()=>{const p=j(d);return _e(p)?p:ot(p)}),f=D(()=>{const p=j(e);return ee(p)?p:p.map(j)}),i=D(()=>ee(f.value)?[f.value]:f.value),o=E(i.value.slice(0));let l,m,h,w,y;const{resume:b,pause:g}=Me(()=>{const p=Date.now(),T=Ne(1-(h-p)/l,0,1);o.value=y.map((C,U)=>{var k;return C+((k=m[U])!=null?k:0)*c.value(T)}),T>=1&&(g(),u())},{immediate:!1}),O=()=>{g(),l=j(r),m=o.value.map((p,T)=>{var C,U;return((C=i.value[T])!=null?C:0)-((U=o.value[T])!=null?U:0)}),y=o.value.slice(0),w=Date.now(),h=w+l,b(),a()},x=Pe(O,n,{immediate:!1});return B(i,()=>{j(s)||(j(n)<=0?O():x.start())},{deep:!0}),B(()=>j(s),p=>{p&&(o.value=i.value.slice(0),g())}),D(()=>{const p=j(s)?i:o;return ee(f.value)?p.value[0]:p.value})}function ft(e,t,n,s={}){var r,u,a;const{clone:d=!1,passive:c=!1,eventName:f,deep:i=!1,defaultValue:o}=s,l=we(),m=n||(l==null?void 0:l.emit)||((r=l==null?void 0:l.$emit)==null?void 0:r.bind(l))||((a=(u=l==null?void 0:l.proxy)==null?void 0:u.$emit)==null?void 0:a.bind(l==null?void 0:l.proxy));let h=f;t||(t="modelValue"),h=f||h||`update:${t.toString()}`;const w=b=>d?_e(d)?d(b):Ue(b):b,y=()=>Be(e[t])?w(e[t]):o;if(c){const b=y(),g=E(b);return B(()=>e[t],O=>g.value=w(O)),B(g,O=>{(O!==e[t]||i)&&m(h,O)},{deep:i}),g}else return D({get(){return y()},set(b){m(h,b)}})}const dt=()=>{const e=Ae();return Xe({baseUrl:"",options:{async beforeFetch({options:t}){const n=xe.getItem("access_token");return n&&(t.headers={Authorization:`Bearer ${n}`}),{options:t}},afterFetch({data:t,response:n}){return{data:t,response:n}},onFetchError({data:t,error:n,response:s}){const r={message:"unknow error",icon:"warning",color:"warning",position:"top",timeout:1500};switch((n.code==="ECONNABORTED"||n.message.indexOf("timeout")!==-1||n.message==="Network Error")&&(r.message="\u7DB2\u8DEF\u7570\u5E38",S.create(r)),s==null?void 0:s.status){case 422:break;case 401:r.message="(401)\u6B0A\u9650\u4E0D\u8DB3",S.create(r),e.setLogout();break;case 403:r.message="(403)",S.create(r);break;case 404:r.message="(404)",S.create(r);break;case 408:r.message="(408)",S.create(r);break;case 500:r.message="(500)",S.create(r);break;case 501:r.message="(501)",S.create(r);break;case 502:r.message="(502)",S.create(r);break;case 503:r.message="(503)",S.create(r);break;case 504:r.message="(504)",S.create(r);break;case 505:r.message="(505)",S.create(r);break;default:S.create(r);break}return{data:t,error:n}}},fetchOptions:{mode:"cors"}})};export{lt as T,ft as a,ct as b,it as c,Xe as d,ut as e,dt as u};
