import{i as b,au as f,c as u,g as Q,ay as A,G as T,h as P,C as q,az as I,k as w,aA as z,aB as F,r as _,a9 as O,o as H,P as h,a as R,I as D,H as K,m as S,n as C,Q as y,u as k,aC as B,f as $,am as L,a2 as V,a3 as X,X as j,_ as G}from"./index.15f31975.js";import{Q as M}from"./QScrollArea.008920e7.js";import{u as N}from"./theme.e95cd340.js";const U={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function Y(){const{props:t,proxy:{$q:i}}=Q(),a=b(A,f);if(a===f)return console.error("QPageSticky needs to be child of QLayout"),f;const n=u(()=>{const o=t.position;return{top:o.indexOf("top")>-1,right:o.indexOf("right")>-1,bottom:o.indexOf("bottom")>-1,left:o.indexOf("left")>-1,vertical:o==="top"||o==="bottom",horizontal:o==="left"||o==="right"}}),r=u(()=>a.header.offset),l=u(()=>a.right.offset),p=u(()=>a.footer.offset),s=u(()=>a.left.offset),d=u(()=>{let o=0,e=0;const c=n.value,g=i.lang.rtl===!0?-1:1;c.top===!0&&r.value!==0?e=`${r.value}px`:c.bottom===!0&&p.value!==0&&(e=`${-p.value}px`),c.left===!0&&s.value!==0?o=`${g*s.value}px`:c.right===!0&&l.value!==0&&(o=`${-g*l.value}px`);const v={transform:`translate(${o}, ${e})`};return t.offset&&(v.margin=`${t.offset[1]}px ${t.offset[0]}px`),c.vertical===!0?(s.value!==0&&(v[i.lang.rtl===!0?"right":"left"]=`${s.value}px`),l.value!==0&&(v[i.lang.rtl===!0?"left":"right"]=`${l.value}px`)):c.horizontal===!0&&(r.value!==0&&(v.top=`${r.value}px`),p.value!==0&&(v.bottom=`${p.value}px`)),v}),m=u(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function x(o){const e=T(o.default);return P("div",{class:m.value,style:d.value},t.expand===!0?e:[P("div",e)])}return{$layout:a,getStickyContent:x}}var E=q({name:"QPageSticky",props:U,setup(t,{slots:i}){const{getStickyContent:a}=Y();return()=>a(i)}}),J=q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:i}){const{proxy:{$q:a}}=Q(),n=b(A,f);if(n===f)return console.error("QPage needs to be a deep child of QLayout"),f;if(b(I,f)===f)return console.error("QPage needs to be child of QPageContainer"),f;const l=u(()=>{const s=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof t.styleFn=="function"){const d=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return t.styleFn(s,d)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-s+"px":a.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":a.screen.height-s+"px"}}),p=u(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>P("main",{class:p.value,style:l.value},T(i.default))}});const W=w({name:"BaseContent"}),Z=w({...W,props:{contentActiveStyle:{default:""},scrollable:{type:Boolean,default:!1},padding:{type:Boolean,default:!1}},setup(t){z(e=>({"78290c52":k(s)}));const i={right:"2px",borderRadius:"3px",width:"7px"},a=F(),n=_(null),r=_(""),l=_(!1),p=N(),{baseBgColor:s}=O(p),d=(e,c=0)=>{var g;(g=n.value)==null||g.setScrollPosition("vertical",e,c)},m=()=>{var e;return(e=n.value)==null?void 0:e.getScrollPosition()},x=e=>{e.verticalPercentage>=.1?l.value=!0:l.value=!1},o=()=>{d(0,300)};return H(()=>{r.value=a.fullPath;const e=h.getItem(r.value);e&&d(e.top)}),R(()=>{h.remove(r.value)}),D(()=>{const e=h.getItem(a.fullPath);e&&d(e.top)}),K(()=>{const e=m();h.set(r.value,e)}),(e,c)=>(S(),C(J,{class:"fit page",padding:t.padding},{default:y(()=>[t.scrollable?(S(),C(k(M),{key:0,ref_key:"scrollArea",ref:n,"thumb-style":i,visible:!1,style:{height:"100%"},"content-active-style":t.contentActiveStyle,onScroll:x},{default:y(()=>[B(e.$slots,"default",{},void 0,!0)]),_:3},8,["content-active-style"])):B(e.$slots,"default",{key:1},void 0,!0),$(E,{position:"bottom-right",offset:[18,18]},{default:y(()=>[$(L,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:y(()=>[V($(j,{color:"primary",fab:"",padding:"10px",icon:"expand_less",onClick:o},null,512),[[X,l.value]])]),_:1})]),_:1})]),_:3},8,["padding"]))}});var ae=G(Z,[["__scopeId","data-v-408074e4"]]);export{ae as B};
