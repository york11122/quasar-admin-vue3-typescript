import{k as l,r as n,c as f,a8 as v,o as _,w,a as h,m,A as k,bt as g,u as y,n as E,Q as V,f as M}from"./index.15f31975.js";import{e as x}from"./user.f16b0e65.js";import{T as B,c as C,P as T,u as S}from"./fetch.532f3c29.js";import{B as P}from"./BaseContent.14332842.js";import"./user.65b01987.js";import"./tagView.eac109eb.js";import"./_commonjsHelpers.4e997714.js";import"./QScrollArea.008920e7.js";import"./theme.e95cd340.js";const R=l({name:"MarkdownEditorToast"}),U=l({...R,props:{modelValue:{default:""},previewOnly:{type:Boolean,default:!1}},emits:["update:modelValue","onSave"],setup(u,{emit:i}){const a=x(u,"modelValue",i),o=n(null),s=n(!1),r=f(()=>`editor-panel-editor ${v.isActive?" toastui-editor-dark":""} `);let e;const c=()=>{e=new B({el:o.value,initialEditType:"wysiwyg",previewStyle:"vertical",height:"100%",events:{change:()=>{a.value=e.getMarkdown()}},plugins:[[C,{highlighter:T}]]})};_(()=>{c()});const p=w(()=>a.value,d=>{!s.value&&d!==e.getMarkdown()&&(e.setMarkdown(d),e.moveCursorToStart(),s.value=!0)});return h(()=>{e.destroy(),p()}),(d,z)=>(m(),k("div",{class:g(y(r)),ref_key:"editorElement",ref:o},null,2))}}),$=l({name:"MDEditor"}),Q=l({...$,setup(u){const i=n(),t=n(""),{data:a,onFetchResponse:o}=S("data/md-editor-v3.md").text();return o(s=>{t.value=a.value}),(s,r)=>(m(),E(P,{class:"q-pa-sm"},{default:V(()=>[M(U,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),ref_key:"markdownRef",ref:i,"preview-only":""},null,8,["modelValue"])]),_:1}))}});export{Q as default};
